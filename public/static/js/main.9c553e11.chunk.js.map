{"version":3,"sources":["constants/index.js","actions/signalr.action.js","assets/img/logo.png","actions/auth.action.js","views/ViewerSc.tsx","assets/img/avatar5.png","config/axios.js","actions/proyects.actions.js","config/axiosU.js","views/layout/Navbar.jsx","views/layout/Sidebar.jsx","views/layout/index.js","assets/img/icons/subproject.png","assets/img/icons/project.png","assets/img/icons/project1.png","components/Cellrend.jsx","components/BuscaCliente.jsx","components/BuscaUbicacion.jsx","views/ViewerScP.tsx","config/axiosmdl.js","components/EmployeeCell.jsx","components/BuscaModelo.jsx","components/BuscaMoneda.jsx","views/DatosGenerales.js","views/DatosGrupoAdd.js","views/DatosSubAdd.js","views/DatosGeneralesAdd.js","components/TreeCP.jsx","assets/img/icons/aproject.png","components/TreeAll.jsx","views/GrupoPartAdd.js","views/RecursoAdd.js","views/PartidaAdd.js","components/CmpPrecios.jsx","components/Items.jsx","views/Presupuestos.js","components/TreeMd.jsx","views/ViewerScM.tsx","views/VisorModelos.js","views/Models.js","assets/img/FOTO1.png","Overlay.js","Video.js","components/Cuadro.jsx","components/Gradas.jsx","Galeria.js","views/PagPrincipal.js","App.js","reportWebVitals.js","reducers/auth.reducer.js","reducers/proyects.reducer.js","reducers/partidas.reducer.js","reducers/index.js","store.js","index.js","../node_modules/typescript/lib sync"],"names":["SIGN_IN","ERROR","LOG_OUT","LOADING_LOGIN","SELECT_COMPANY","REFRESH_IDCONNECTION","ARBOL","DATA_GENERAL","ID_DATA_TABLE","LISTAR_POR_PERIODO","PROJECT_DETAILS","LIST_HISTORY","LIMPIA_PARTY_CONTROL","PARTY_CONTROL","PARTY_CONTROL22","PARTY_CONTROL1","LISTAR_SUBS","LIMPIAR_SUBS","LISTAR_CLIENTES","LISTAR_UBICACIONES","LIMPIAR_UBICACIONES","LISTAR_MODELOS","LISTAR_MONEDAS","LISTAR_UNIDADES","RECOGER_ITEMS","LIMPIAR_ITEMS","DELETE_ITEM","LEER_PRESUPUESTO","ACT_PRESUPUESTO","CAMBIA_SELECCION","SUB_SEL","MENSUAL_DETALLE","APU_DETALLE","APU_DETALLE_CATALOGO","APU_DETALLE_CATALOGO1","APU_DETALLE_CATALOGO2","APU_DETALLE_CATALOGO_SUBP","METRADO_DETALLE","METRADO_LIMPIAR","UNIQUE_DETALLE","ASOCIADO_DETALLE","ESTRUCTURA_DETALLE","CALCULO_DETALLE","CALCULODET_DETALLE","NAVIGATION_TREE","NAVIGATION_TREE_PC","ID_PC","URN_WEB","URN_WEB1","PROJECT_LIST_DETAILS","TREE_SELECTEDS","AGREGA_REGISTRO","AGREGA_CATEGORIA","AGREGA_TIPO","AGREGA_FAMILIA","AGREGA_ELEMENTOS","AGREGA_CATEGORIAB","AGREGA_TIPOB","AGREGA_FAMILIAB","ADD_CALCULO","UPDATE_CALCULO","ADD_CALCULODET","UPDATE_CALCULODET","DELETE_CALCULODET","ADD_ASOCIADO","CODIGO_OBTENIDO","CODIGO_OBTENIDO1","CODIGO_OBTENIDO_TITULO","CODIGO_OBTENIDO_TITULO1","DELETE_ASOCIADO","ASOCIADO_LIMPIAR","ADD_ESTRUCTURA","DELETE_ESTRUCTURA","UPDATE_ESTRUCTURA","UPDATE_ASOCIADO","UPDATE_METRADO","ESTABLECE_METRADO","ADD_METRADO","DELETE_METRADO","AGREGA_GRUPO","MODIFICA_GRUPO","ELIMINA_GRUPO","ELIMINA_GRUPOSUB","MODIFICA_SUB","MODIFICA_SUB1","AGREGA_SUB1","PONER_PROPS","CAMBIAR_FILA_ASOCIADO","LISTAR_TITULOS","LISTAR_TITULOS1","LISTAR_PARTIDAS","DETALLE_PRECIOS","LIMPIAR_DETALLE_PRECIOS","LISTAR_PARTIDAS1","LISTAR_PARTIDASC","LISTAR_PARTIDAS2","LISTAR_PARTIDASC1","LISTAR_PARTIDAS21","LISTAR_PARTIDASC2","LISTAR_PARTIDAS22","ESTABLECER_PARTIDAS","ESTABLECER_TITULOS","UPDATE_PARTIDAS","ADD_PARTIDAS","DELETE_PARTIDAS","UPDATE_RECURSOS","ADD_ITEM","REMOVE_ITEM","UPDATE_ITEM","ESTABLECE_ITEM","LEER_PARTIDA","LEER_PARTIDA1","LEER_TITULO","LEER_TITULO1","LEER_RECURSO","LEER_RECURSO1","CODIGO_OBTENIDO_RECURSO","CODIGO_OBTENIDO_RECURSO1","ADD_RECURSOS","DELETE_RECURSOS","UPDATE_TITULOS","ADD_TITULOS","DELETE_TITULOS","ADD_FAVORITO","DELETE_FAVORITO","PIDE_ELEMENTOS_ITEMS","LIMPIA_ELEMENTOS_ITEMS","ESTABLECE_PARTIDAS","ITEM_SELEC","LISTAR_RECURSOS","LISTAR_RECURSOS1","LIMPIAR_RECURSOS","LISTAR_GRP_PARTIDAS","LISTAR_GRP_PARTIDASN2","LISTAR_GRP_PARTIDASN3","LISTAR_GRP_PARTIDASN4","LISTAR_GRP_PARTIDASN5","LIMPIAR_GRP_PARTIDAS","LISTAR_GRP_TITULOS","LISTAR_GRP_TITULOSN2","LIMPIAR_GRP_TITULOS","LIMPIAR_GRP_RECURSOS","LISTAR_GRP_RECURSOS","LISTAR_GRP_RECURSOSN2","LISTAR_GRP_RECURSOSN3","LEER_ARBOL_SUBPARTIDAS","window","jQuery","$","require","connectSignalr","token","dispatch","options","qs","AuthType","Token","ModuleId","connection","hubConnection","createHubProxy","on","response","data","JSON","parse","Name","type","payload","part","Part","Data","console","log","localStorage","setItem","OutputValue","sumas","resp","Success","Response","start","done","id","fail","signIn","form","showFn","a","AccessTypeId","axios","post","Type","alert","Message","Value","error","viewer","Axios","create","baseURL","selectProyect","idCod","userName","userId","company","getItem","HasOutputParam","ObjectName","RequestId","SignalRConnectionID","SecurityUserId","headers","selectItems","CodPres","CodSubP","selectCLIENTES","Descripcion","guardarGrupo","CodPresupuesto","Nivel","email","guardarAsociado","Presupuesto","SubPresupuesto","Item","CodAsociado","Categoria","Familia","Tipo","campoFiltro","valorFiltro","ModificarSubPresupuesto","CodSubPresupuesto","CodModelo","selectMODELOS","selectMONEDAS","selectUBICACIONES","Cantidad","Pagina","selectAPUS","CodItem","selectParidas","Unique","selectAsociados","SelectUrn","Urn","cleanDataChartAPU","cleanDataChart","LimpiarSubPres","cleanDataChart22","limpiaTree","navigationTree","grupo","navigationTreePC","cambiaSeleccion","sel","agregaCategoria","agregaTipo","agregaFamilia","agregaCategoriaB","agregaTipoB","agregaFamiliaB","agregaElementos","agregaGrupo1","modificaGrupo1","agregaSub1","limpiaAsociado","SeleccionaSub","selectTree","nodeId","limpiaElementosItems","selectELEMENTOS_METRADOS","ponerdato","seleccionados","T_uniqueIds","T_categorias","T_NombreT","T_TipoT","viewerStylesheetURL","RefrescarV","resize","UniquesSel","arreglo","UniquesSeleccionar","cantidadM","ejecuantando","ItemAc","opcSeleccionada","Arreglo1","Arreglo2","ViewerSc","useDispatch","proyects","useSelector","state","useEffect","DataUnique","ItemActual","timerInterval","DataElementosItems","length","Swal","fire","title","html","timer","timerProgressBar","didOpen","showLoading","getHtmlContainer","querySelector","setInterval","willClose","clearInterval","then","result","dismiss","DismissReason","i","UniqueId","highlightRevit","DataElementos","DataPartidasM","useState","modelURL","setModelURL","loadViewerLibrary","setLoadViewerLibrary","handleStyleLoad","cargado1","cargado2","launchViewer","viewerLibraryLoaded","handleScriptLoad","setTimeout","carga2","geom","THREE","material","color","sphereMesh","scene","overlays","hasScene","addScene","background","addMesh","position","set","refresh","idsRevit","model","getExternalIdMapping","mapping","elementsDbId","idsRevitArray","split","uniqueId","elementDbId","push","isolate","fitToView","configureElementByUniqueIdAndMapping","urn","viewableId","env","getAccessToken","getForgeToken","api","atob","replace","indexOf","onDocumentLoadSuccess","doc","viewables","getRoot","findByGuid","getDefaultGeometry","arrg","selectedItems","employees","employees1","employees2","elementos","E_cat","E_fam","E_tip","E_ext","loadDocumentNode","getObjectTree","objTree","enumNodeChildren","getRootId","dbId","uniqueIds","DBids","getSelection","n","objSelected","getProperties","props","externalId","name","substring","find","filtro1","trim","indice","properties","displayName","displayValue","reg","reg3","enc","Propiedad","reg1","toString","onDocumentLoadFailure","viewerErrorCode","Autodesk","Viewing","Initializer","GuiViewer3D","document","getElementById","extensions","documentId","Document","load","autocam","shotParams","destinationPercent","duration","setLightPreset","setGroundReflection","setEnvMapBackground","setBackgroundColor","CargarPartidas","Idunico","itemMenuContextual","panel","PanelBIM","container","panelId","style","display","div1","treePartyControl","treeSubControl","datoP","datoPres","datoSub","CodSubpresupuesto","innerHTML","CargarPartidas1","panel1","PanelBIM1","cadenaaux","hide","toUpperCase","includes","val","show","this","text","parseInt","CantidadMetrado","filtro","clearSelection","UniquesSeleccionar2","UI","DockingPanel","call","classList","add","top","left","width","height","div","createElement","margin","innerText","appendChild","prototype","Object","constructor","MenuContextual","onCreacionContextualMenuItem","bind","menu","status","hasSelected","target","Unidad","getRandomString","icon","confirmButtonText","registerContextMenuCallback","menuId","unregisterContextMenuCallback","Extension","s","Math","random","substr","Botones","_viewer","ctrlGroup","ControlGroup","createPanelButton","toolbar","ToolBar","addControl","toolbarDivHtml","append","css","createBotones","unload","remove","ctrl","buttonVerMapa","Button","onClick","e","setToolTip","setIcon","buttonVerFotos","buttonVerVideo","buttonVerRec","buttonVerPres","buttonVerCrono","PanelVacioBIM","PanelIngresoDatosBIM","theExtensionManager","registerExtension","cargar","finish","url","fetch","method","body","queryString","stringify","json","callback","postData","access_token","expires_in","loadStyleSheet","href","styles","rel","onload","getElementsByTagName","loadServiceWorker","filaAsociadoSel","undefined","tienecomp","CampoFiltro","Comp","Valor","filtr","filter","ids","Id","v1","ValorP","Propies","DataAsociado","laneId","now","Date","getTime","toLocaleString","className","onLoad","Navbar","history","useHistory","user","marginLeft","Avisa","data-widget","to","role","fontSize","fontWeight","marginTop","Breadcrumb","titleProject","titlePC","data-toggle","src","avatar","alt","FullName","UserName","logOut","Sidebar","opacity","logo","data-accordion","listStyle","Layout","children","ancho","setAncho","ancho1","setAncho1","innerWidth","CellNormal","padding","CellRend28","PaperComponent","handle","cancel","Paper","BuscaCliente","tipo","presupuestoN","setShow","handleClose","auth","Codigo","clienteSel","setClienteSel","Dialog","open","onClose","aria-labelledby","DialogTitle","cursor","marginBottom","variant","right","class","DialogContent","DialogContentText","dataSource","DataClientes","keyExpr","showBorders","focusedRowEnabled","defaultExpandedRowKeys","columnAutoWidth","rootValue","rowAlternationEnabled","onFocusedRowChanged","row","CodIdentificador","wordWrapEnabled","visible","allowUpdating","allowDeleting","selectTextOnEditStart","useIcons","mode","dataField","cellTemplate","showPageSizeSelector","showNavigationButtons","enabled","defaultPageSize","render","DialogActions","CodCliente","Cliente","BuscaUbicacion","ubicacionSel","setUbicacionSel","pagina","setPagina","tpagina","setTPagina","textoB","setTextoB","paginas","arrayDeCadenas","totalesp","trunc","DataUbicaciones","maxWidth","Card","Body","Form","Group","as","Row","controlId","Label","column","sm","Col","defaultValue","value","showClearButton","valueChangeEvent","onValueChanged","placeholder","CodLugar","Departamento","Provincia","alignment","caption","Pagination","count","page","onChange","event","bottom","pag","UbicacionGeografica","AxiosMdl","EmployeeCell","employee","Fragment","backgroundImage","backgroundSize","BuscaModelo","subseleccionado","setSubSeleccionado","item","setSubPresupuestoN","codigo","nombre","version","urnaddin","urnweb","setmodeloSel","PhantomParentId","allLevels","setAllLevels","setLastLevel","setLoading","idhub","idproy","urnfolder","folders","ObtenerTokenAdsk","axiosmdl","client_id","client_secret","grant_type","scope","DatosHubs","DatosProyectos","DatosFolders","DatosContentFolders","get","Authorization","attributes","j","included","versionNumber","lastModifiedTime","DatosContentFolders1","idf","parentIdExpr","defaultFocusedRowIndex","encoded","base64_encode","arrresp","Version","BuscaMoneda","monedaSel","setMonedaSel","DataMonedas","CodMoneda","Moneda","tiempoTranscurrido","hoy","DatosGenerales","setCambioSub","initialP","CodAlterno","Fecha","HistoricoPrecios","Plazo","Jornada","JornadaSemana","JornadaMes","JornadaAno","SimboloMoneda","CostoDirectoBase1","CostoIndirectoBase1","CostoBase1","CostoDirectoOferta1","CostoIndirectoOferta1","CostoOferta1","ERPCode","Fila","PhantomId","setPresupuestoN","showUb","setShowUb","showMdl","setShowMdl","showMnd","setShowMnd","historicoSel","setHistoricoSel","historicos","setHistoricos","titulos","selecOP","setselecOP","formatNumber","num","isNaN","sign","abs","cents","floor","roundN","parseFloat","round","pow","toFixed","CambiaDescripcionsub","Modificado","CostoOferta2","NombreModelo","UrnWeb","modifica_desc","dato","DatosPresupuesto","subPres","Modificado1","Selecciona","Elimina","DataModelos","CodPlano","NombreArchivoRvt","seleccionado","AuxModelo","estadoI","A_historicos","overflow","Header","onSubmit","CostoDirectoBase2","CostoIndirectoBase2","CostoBase2","CodMoneda1","CodigoAlterno","fechaStr","Nuevo","preventDefault","useSubmitBehavior","readOnly","keyCode","message","regm","textAlign","items","rtlEnabled","onFocusOut","total1","Table","striped","bordered","hover","size","map","align","paddingRight","Sub_sel","span","offset","DatosGrupoAdd","nivel","itemSelected","setNuevoGrupo","accion","toca","concat","DatosSubAdd","setNuevoSubPres","SubPresupuestos","initialP1","subpresupuestoN","subpresupuestoT","setSubPresupuestoT","CambiaDescripcion","DatosGeneralesAdd","setNuevoPres","setTitulos","fecha1","getDate","getMonth","getFullYear","opcMenuInicio","MinusSquare1","projectIcon44","marginRight","MinusSquare2","PlusSquare1","projectIcon","MinusSquare","PlusSquare","CloseSquare","subprojectIcon","StyledTreeItem","withStyles","theme","iconContainer","group","font","paddingLeft","borderLeft","alpha","palette","primary","TreeItem","useStyles","makeStyles","root","flexGrow","TreeCP","levelStart","filtrado","idProject","estado","Accion","setEstado","classes","opcMenu","setOpcMenu","setItemSelected","itemSelected1","setItemSelected1","cambioSub","tipoSeleccion","setTipoSeleccion","lastLevel","setNivel","setAllLevels1","arbolseleccionado","SetArbolSeleccionado","loading","setAccion","datosgenerales","setDatosGenerales","datosgeneralessub","setDatosGeneralesSub","nuevoPres","nuevoGrupo","nuevoSubPres","abierto","setabierto","tree","orderedLevels","orderTree","orderedLevels1","orderTree1","changeItem","pc","newTitle","fav","dataFavoritos","b","textContent","getTimerLeft","changeItem1","idpadre","IdModelo","UrnModelo","encontro","codigoP","connectId","User","UserId","agregarFavorito","quitarFavorito","moverCarpeta","Carpeta","TreeView","defaultCollapseIcon","defaultExpandIcon","defaultEndIcon","multiSelect","drawerItems","level","parentId","parentName","nextLevel","label","onLabelClick","grupo3","onItemClick","itemData","swalWithBootstrapButtons","mixin","customClass","confirmButton","cancelButton","buttonsStyling","showCancelButton","cancelButtonText","reverseButtons","isConfirmed","res","DataPc","eliminaFavorito","antes","itemRender","zIndex","Tree","nodeSelected","init","CodProyecto","TreeProyects","defaultExpanded","expanded","treeSelecteds","ItemsM","Items","widthItems","widthNav","Open4","SetOpen4","idioma","minimoW","setModo","minimop","setMinimoP","setWidth","innerHeight","setHeight","setOpen","open1","setOpen1","open2","levelPC","setLevelPC","setLevel","ultimoCALCULO","setUltimoCALCULO","itemSeleccionado","setItemSel","SetfocusedRowKey","S_mo","S_mat","S_eq","S_subc","S_subp","TotalPU","itemsMenu","useRef","selectedRowKeys","recursive","selectedEmployeeNames","selectionMode","defaultVisible","withAnimationVisible","withTemplateVisible","Metrado","Precio1","Total","orderTree2","enable","topRight","bottomRight","bottomLeft","topLeft","maxHeight","minWidth","minHeight","onResizeStart","direction","ref","d","fadeOut","onResizeStop","fadeIn","animate","onResize","in","borderStyle","borderColor","aria-controls","aria-expanded","borderRadius","borderWidth","Nav","defaultActiveKey","Link","active","eventKey","selectCalculoDet","idCard","menuFiltro","Presupuestos","match","modo","modoicono","setModoIcono","levelPC1","favoritos","setFavoritos","vfavoritos","setVfavoritos","Collapse","splitButton","useSelectMode","displayExpr","CloseSquare1","viewerM","TreeMD","subproyects","arreglo1","defaultParentIcon","labelIcon","LocalOfferIcon","devices","x","y","z","sensorTypes","ViewerScM","onModelLoaded1","setTheme","SensorStyleDefinitions","co2","temperature","default","originalEvent","normalizedX","normalizedY","clientX","scrollLeft","clientY","scrollTop","div2","backgroundColor","pageY","pageX","app","insertAdjacentElement","dataVizExt","getExtension","DATAVIZEXTN","DataVisualization","Core","styleMap","entries","forEach","styleDef","ViewableStyle","ViewableType","SPRITE","viewableData","ViewableData","spriteSize","startId","device","viewable","SpriteViewable","addViewable","addViewables","DataVizCore","addEventListener","MOUSE_CLICK","VisorModelos","Control","Models","params","codProject","aria-label","Overlay","ready","clicked","setClicked","setReady","zindex","VideoText","assign","crossOrigin","loop","video","setVideo","pause","nvideo","play","opc","Text","letterSpacing","texto","toneMapped","attach","args","encoding","emissive","side","Ground","useTexture","normal","Reflector","blur","resolution","mirror","mixBlur","mixStrength","rotation","PI","Material","metalness","roughnessMap","normalMap","normalScale","Video","store","concurrent","gl","pixelRatio","camera","fov","fallback","intensity","Intro","setcl","vec","useFrame","lerp","mouse","lookAt","Sphere","current","sin","clock","getElapsedTime","Cuadro","dpr","OrbitControls","MenuP","Gradas","hov","SetHov","hov1","objects","cycle","_","textShadow","object","shadows","Stage","Array","from","Stair","cos","hover1","CycleRaycast","onChanged","hovered","setHovered","scale","setScalar","elapsedTime","useCursor","receiveShadow","castShadow","stopPropagation","onPointerOver","onPointerOut","roughness","transparent","shadow-camera-far","shadow-camera-left","shadow-camera-right","shadow-camera-top","shadow-camera-bottom","shadow-mapSize","rotation-x","BakeShadows","softShadows","GOLDENRATIO","DATAESP","DATAING","Galeria","images","Environment","preset","Frames","MeshReflectorMaterial","depthScale","minDepthThreshold","maxDepthThreshold","q","p","useRoute","useLocation","setLocation","getObjectByName","parent","updateWorldMatrix","localToWorld","getWorldQuaternion","identity","dt","damp","quaternion","slerp","onPointerMissed","Frame","c","rnd","setVisible","image","frame","getUuid","zoom","convertSRGBToLinear","raycast","anchorX","anchorY","Hover","pexel","menuModo","opc1","PagPrincipal","setOpc","textoact","setTextoAct","textoact1","setTextoAct1","setNvideo","useFormik","initialValues","Password","validationSchema","Yup","required","useLayoutEffect","gsap","timeline","defaults","ease","scrambleText","chars","revealDelay","tweenLength","speed","delay","opci","Container","Image","draggable","block","App","companyLocal","exact","path","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","DataCompany","Companies","Roles","authReducerFn","removeItem","TreeCount","DataCards","idPc","periodo","projectDetails","listHistory","treeGrpPartidas","treeGrpPartidasN2","treeGrpPartidasN3","treeGrpRecursos","treeGrpRecursosN2","treeGrpRecursosN3","treeGrpPartidasN4","treeGrpPartidasN5","treeGrpTitulos","treeGrpTitulosN2","DataApu","DataApuCatalogo","DataApuCatalogoSubP","DataUnidades","DataMetrado","Dataestructura","Datacalculo","Datacalculodet","DataArbolSubpartidas","DataPrecios","DataCategorias","DataTipo","DataFamilia","DataCategoriasB","DataTipoB","DataFamiliaB","Propiedades","DataTitulos","DataTitulo","DataTitulo1","DataRecursos","DataPartidas","DataPartida","DataPartida1","DataRecurso","DataRecurso1","DataItemsIngresados","CodigoObtenido","CodigoObtenidoTitulo","CodigoObtenidoTitulo1","SumasApu","SumasApuCatalogo","CodigoObtenidoRecurso","CodigoObtenidoRecurso1","CodigoObtenido1","DataPartidasAgre","DataPartidasAgre1","DataApuCatalogo1","SumasApuCatalogo1","combineReducers","authReducer","newState","sort","Secuencial","CodMedicion","CodEstructura","CodCalculoDetalle","Posicion","UrnS1","agregandoReg","CodPartida","CodInsumo","CodTitulo","partidas","createStore","reducers","compose","applyMiddleware","thunk","__REDUX_DEVTOOLS_EXTENSION__","f","ReactDOM","StrictMode","webpackEmptyContext","req","Error","code","keys","resolve","module","exports"],"mappings":"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","file":"static/js/main.9c553e11.chunk.js","sourcesContent":["export const SIGN_IN = 'SIGN_IN';\nexport const REFRESH_TOKEN = 'REFRESH_TOKEN ';\nexport const ERROR = 'ERROR';\nexport const LOG_OUT = 'LOG_OUT';\nexport const LOADING_LOGIN = 'LOADING_LOGIN';\n\nexport const SELECT_COMPANY = 'SELECT_COMPANY';\nexport const RELOAD_COMPANY = 'RELOAD_COMPANY';\nexport const REFRESH_IDCONNECTION = 'REFRESH_IDCONNECTION';\n\n\n//signalr =====================================\n\nexport const ARBOL = 'ARBOL';\nexport const TREE_PARTS = 'TREE_PARTS';\nexport const DATA_GENERAL = 'DATA_GENERAL';\nexport const ID_DATA_TABLE = 'ID_DATA_TABLE';\nexport const TREE_COUNT = 'TREE_COUNT';\nexport const LISTAR_POR_PERIODO = 'LISTAR_POR_PERIODO';\nexport const PROJECT_DETAILS = 'PROJECT_DETAILS';\nexport const LIST_HISTORY = 'LIST_HISTORY';\n\nexport const LIMPIA_PARTY_CONTROL = 'LIMPIA_PARTY_CONTROL';\nexport const PARTY_CONTROL = 'PARTY_CONTROL';\nexport const PARTY_CONTROL22 = 'PARTY_CONTROL22';\nexport const PARTY_CONTROL1 = 'PARTY_CONTROL1';\n\nexport const LISTAR_SUBS = 'LISTAR_SUBS';\nexport const LIMPIAR_SUBS = 'LIMPIAR_SUBS';\n\nexport const LISTAR_CLIENTES = 'LISTAR_CLIENTES';\nexport const LISTAR_UBICACIONES = 'LISTAR_UBICACIONES';\nexport const LIMPIAR_UBICACIONES = 'LIMPIAR_UBICACIONES';\n\nexport const LISTAR_MODELOS = 'LISTAR_MODELOS';\n\nexport const LISTAR_MONEDAS = 'LISTAR_MONEDAS';\n\nexport const LISTAR_UNIDADES = 'LISTAR_UNIDADES';\n\nexport const RECOGER_ITEMS = 'RECOGER_ITEMS';\nexport const LIMPIAR_ITEMS = 'LIMPIAR_ITEMS';\n\nexport const DELETE_ITEM = 'DELETE_ITEM';\n\n\n\nexport const LEER_PRESUPUESTO = 'LEER_PRESUPUESTO';\nexport const ACT_PRESUPUESTO = 'ACT_PRESUPUESTO';\n\nexport const CAMBIA_SELECCION = 'CAMBIA_SELECCION';\nexport const SUB_SEL = 'SUB_SEL';\n\n\nexport const MENSUAL_DETALLE = 'MENSUAL_DETALLE';\nexport const APU_DETALLE = 'APU_DETALLE';\n\nexport const APU_DETALLE_CATALOGO = 'APU_DETALLE_CATALOGO';\nexport const APU_DETALLE_CATALOGO1 = 'APU_DETALLE_CATALOGO1';\nexport const APU_DETALLE_CATALOGO2 = 'APU_DETALLE_CATALOGO2';\nexport const APU_DETALLE_CATALOGO_SUBP = 'APU_DETALLE_CATALOGO_SUBP';\n\nexport const METRADO_DETALLE = 'METRADO_DETALLE';\nexport const METRADO_LIMPIAR = 'METRADO_LIMPIAR';\n\nexport const UNIQUE_DETALLE = 'UNIQUE_DETALLE';\n\nexport const ASOCIADO_DETALLE = 'ASOCIADO_DETALLE';\nexport const ESTRUCTURA_DETALLE = 'ESTRUCTURA_DETALLE';\nexport const CALCULO_DETALLE = 'CALCULO_DETALLE';\nexport const CALCULODET_DETALLE = 'CALCULODET_DETALLE';\n\nexport const NAVIGATION_TREE = 'NAVIGATION_TREE';\nexport const NAVIGATION_TREE_PC = 'NAVIGATION_TREE_PC';\nexport const ID_PC = 'ID_PC';\n\nexport const URN_WEB = 'URN_WEB';\nexport const URN_WEB1 = 'URN_WEB1';\n\nexport const PROJECT_LIST_DETAILS = 'PROJECT_LIST_DETAILS';\nexport const TREE_SELECTEDS = 'TREE_SELECTEDS';\n\nexport const AGREGA_REGISTRO = 'AGREGA_REGISTRO';\n\nexport const AGREGA_CATEGORIA = 'AGREGA_CATEGORIA';\nexport const AGREGA_TIPO = 'AGREGA_TIPO';\nexport const AGREGA_FAMILIA = 'AGREGA_FAMILIA';\nexport const AGREGA_ELEMENTOS = 'AGREGA_ELEMENTOS';\n\n\nexport const AGREGA_CATEGORIAB = 'AGREGA_CATEGORIAB';\nexport const AGREGA_TIPOB = 'AGREGA_TIPOB';\nexport const AGREGA_FAMILIAB = 'AGREGA_FAMILIAB';\n\nexport const ADD_CALCULO = 'ADD_CALCULO';\nexport const UPDATE_CALCULO = 'UPDATE_CALCULO';\n\nexport const ADD_CALCULODET = 'ADD_CALCULODET';\nexport const UPDATE_CALCULODET = 'UPDATE_CALCULODET';\nexport const DELETE_CALCULODET = 'DELETE_CALCULODET';\n\nexport const ADD_ASOCIADO = 'ADD_ASOCIADO';\nexport const CODIGO_OBTENIDO = 'CODIGO_OBTENIDO';\nexport const CODIGO_OBTENIDO1 = 'CODIGO_OBTENIDO1';\n\nexport const CODIGO_OBTENIDO_TITULO = 'CODIGO_OBTENIDO_TITULO';\nexport const CODIGO_OBTENIDO_TITULO1 = 'CODIGO_OBTENIDO_TITULO1';\n\nexport const DELETE_ASOCIADO = 'DELETE_ASOCIADO';\nexport const ASOCIADO_LIMPIAR = 'ASOCIADO_LIMPIAR';\n\nexport const ADD_ESTRUCTURA = 'ADD_ESTRUCTURA';\nexport const DELETE_ESTRUCTURA = 'DELETE_ESTRUCTURA';\nexport const UPDATE_ESTRUCTURA = 'UPDATE_ESTRUCTURA';\n\nexport const UPDATE_ASOCIADO = 'UPDATE_ASOCIADO';\n\nexport const UPDATE_METRADO = 'UPDATE_METRADO';\n\nexport const ESTABLECE_METRADO = 'ESTABLECE_METRADO';\nexport const ADD_METRADO = 'ADD_METRADO';\nexport const DELETE_METRADO = 'DELETE_METRADO';\n\nexport const AGREGA_GRUPO = 'AGREGA_GRUPO';\nexport const MODIFICA_GRUPO = 'MODIFICA_GRUPO';\nexport const ELIMINA_GRUPO = 'ELIMINA_GRUPO';\n\nexport const ELIMINA_GRUPOSUB = 'ELIMINA_GRUPOSUB';\n\nexport const MODIFICA_SUB = 'MODIFICA_SUB';\nexport const MODIFICA_SUB1 = 'MODIFICA_SUB1';\nexport const AGREGA_SUB1 = 'AGREGA_SUB1';\n\nexport const PONER_PROPS = 'PONER_PROPS';\nexport const CAMBIAR_FILA_ASOCIADO = 'CAMBIAR_FILA_ASOCIADO';\n\nexport const LISTAR_TITULOS = 'LISTAR_TITULOS';\nexport const LISTAR_TITULOS1 = 'LISTAR_TITULOS1';\n\nexport const LISTAR_PARTIDAS = 'LISTAR_PARTIDAS';\n\nexport const DETALLE_PRECIOS = 'DETALLE_PRECIOS';\nexport const LIMPIAR_DETALLE_PRECIOS = 'LIMPIAR_DETALLE_PRECIOS';\n\nexport const LISTAR_PARTIDAS1 = 'LISTAR_PARTIDAS1';\n\n\nexport const LISTAR_PARTIDASC = 'LISTAR_PARTIDASC';\nexport const LISTAR_PARTIDAS2 = 'LISTAR_PARTIDAS2';\n\n\nexport const LISTAR_PARTIDASC1 = 'LISTAR_PARTIDASC1';\nexport const LISTAR_PARTIDAS21 = 'LISTAR_PARTIDAS21';\n\nexport const LISTAR_PARTIDASC2 = 'LISTAR_PARTIDASC2';\nexport const LISTAR_PARTIDAS22 = 'LISTAR_PARTIDAS22';\n\nexport const ESTABLECER_PARTIDAS = 'ESTABLECER_PARTIDAS';\nexport const ESTABLECER_TITULOS = 'ESTABLECER_TITULOS';\nexport const UPDATE_PARTIDAS = 'UPDATE_PARTIDAS';\nexport const ADD_PARTIDAS = 'ADD_PARTIDAS';\nexport const DELETE_PARTIDAS = 'DELETE_PARTIDAS';\n\nexport const UPDATE_RECURSOS = 'UPDATE_RECURSOS';\n\nexport const ADD_ITEM = 'ADD_ITEM';\nexport const REMOVE_ITEM = 'REMOVE_ITEM';\nexport const UPDATE_ITEM = 'UPDATE_ITEM';\nexport const ESTABLECE_ITEM = 'ESTABLECE_ITEM';\n\nexport const LEER_PARTIDA = 'LEER_PARTIDA';\nexport const LEER_PARTIDA1 = 'LEER_PARTIDA1';\nexport const LEER_TITULO = 'LEER_TITULO';\nexport const LEER_TITULO1 = 'LEER_TITULO1';\n\nexport const LEER_RECURSO = 'LEER_RECURSO';\nexport const LEER_RECURSO1 = 'LEER_RECURSO1';\n\nexport const CODIGO_OBTENIDO_RECURSO = 'CODIGO_OBTENIDO_RECURSO';\nexport const CODIGO_OBTENIDO_RECURSO1 = 'CODIGO_OBTENIDO_RECURSO1';\n\n\nexport const ADD_RECURSOS = 'ADD_RECURSOS';\nexport const DELETE_RECURSOS = 'DELETE_RECURSOS';\n\nexport const UPDATE_TITULOS = 'UPDATE_TITULOS';\nexport const ADD_TITULOS = 'ADD_TITULOS';\nexport const DELETE_TITULOS = 'DELETE_TITULOS';\n\nexport const ADD_FAVORITO = 'ADD_FAVORITO';\nexport const DELETE_FAVORITO = 'DELETE_FAVORITO';\n\nexport const PIDE_ELEMENTOS_ITEMS = 'PIDE_ELEMENTOS_ITEMS';\nexport const LIMPIA_ELEMENTOS_ITEMS = 'LIMPIA_ELEMENTOS_ITEMS';\nexport const ESTABLECE_PARTIDAS = 'ESTABLECE_PARTIDAS';\n\nexport const ITEM_SELEC = 'ITEM_SELEC';\n\nexport const LISTAR_RECURSOS = 'LISTAR_RECURSOS';\nexport const LISTAR_RECURSOS1 = 'LISTAR_RECURSOS1';\nexport const LIMPIAR_RECURSOS = 'LIMPIAR_RECURSOS';\n\nexport const LISTAR_GRP_PARTIDAS = 'LISTAR_GRP_PARTIDAS';\nexport const LISTAR_GRP_PARTIDASN2 = 'LISTAR_GRP_PARTIDASN2';\nexport const LISTAR_GRP_PARTIDASN3 = 'LISTAR_GRP_PARTIDASN3';\nexport const LISTAR_GRP_PARTIDASN4 = 'LISTAR_GRP_PARTIDASN4';\nexport const LISTAR_GRP_PARTIDASN5 = 'LISTAR_GRP_PARTIDASN5';\nexport const LIMPIAR_GRP_PARTIDAS = 'LIMPIAR_GRP_PARTIDAS';\n\nexport const LISTAR_GRP_TITULOS = 'LISTAR_GRP_TITULOS';\nexport const LISTAR_GRP_TITULOSN2 = 'LISTAR_GRP_TITULOSN2';\n\nexport const LIMPIAR_GRP_TITULOS = 'LIMPIAR_GRP_TITULOS';\n\n\nexport const LIMPIAR_GRP_RECURSOS = 'LIMPIAR_GRP_RECURSOS';\nexport const LISTAR_GRP_RECURSOS = 'LISTAR_GRP_RECURSOS';\nexport const LISTAR_GRP_RECURSOSN2 = 'LISTAR_GRP_RECURSOSN2';\nexport const LISTAR_GRP_RECURSOSN3 = 'LISTAR_GRP_RECURSOSN3';\n\nexport const LEER_ARBOL_SUBPARTIDAS = 'LEER_ARBOL_SUBPARTIDAS';","// import {hubConnection} from \"signalr-no-jquery\";\nimport {\n\tARBOL,\n\tREFRESH_IDCONNECTION,\n\tDATA_GENERAL,\n\tLISTAR_POR_PERIODO,\n\tPROJECT_DETAILS,\n\tLIST_HISTORY,\n\tPARTY_CONTROL,\n\tPARTY_CONTROL1,\n\tMENSUAL_DETALLE,\n\tPROJECT_LIST_DETAILS,\n\tAPU_DETALLE,\n\tMETRADO_DETALLE,\n\tASOCIADO_DETALLE,\n\tESTRUCTURA_DETALLE,\n\tCALCULO_DETALLE,\n\tCALCULODET_DETALLE,\n\tUNIQUE_DETALLE,\n\tLISTAR_SUBS,\n\tLEER_PRESUPUESTO,\n\tLISTAR_CLIENTES,\n\tLISTAR_UBICACIONES,\n\tLISTAR_MODELOS,\n\tLISTAR_MONEDAS,\n\tLISTAR_TITULOS,\n\tLISTAR_PARTIDAS,\n\tLEER_PARTIDA,\n\tLISTAR_UNIDADES,\n\tRECOGER_ITEMS,\n\tCODIGO_OBTENIDO,\n\tLEER_TITULO,\n\tCODIGO_OBTENIDO_TITULO,\n\tPARTY_CONTROL22,\n\tPIDE_ELEMENTOS_ITEMS,\n\tLISTAR_RECURSOS,\n\tLISTAR_GRP_PARTIDAS,\n\tLISTAR_GRP_PARTIDASN2,\n\tLISTAR_GRP_PARTIDASN5,\n\tLISTAR_GRP_PARTIDASN4,\n\tLISTAR_GRP_PARTIDASN3,\n\tLISTAR_GRP_TITULOSN2,\n\tLISTAR_GRP_TITULOS,\n\tAPU_DETALLE_CATALOGO,\n\tCODIGO_OBTENIDO1,\n\tLEER_PARTIDA1,\n\tLEER_TITULO1,\n\tCODIGO_OBTENIDO_TITULO1,\n\tLEER_RECURSO,\n\tLEER_RECURSO1,\n\tLISTAR_GRP_RECURSOS,\n\tLISTAR_GRP_RECURSOSN2,\n\tLISTAR_GRP_RECURSOSN3,\n\tAPU_DETALLE_CATALOGO_SUBP,\n\tLEER_ARBOL_SUBPARTIDAS,\n\tLISTAR_RECURSOS1,\n\tLISTAR_PARTIDAS1,\n\tLISTAR_TITULOS1,\n\tCODIGO_OBTENIDO_RECURSO,\n\tCODIGO_OBTENIDO_RECURSO1,\n\tLISTAR_PARTIDAS2,\n\tLISTAR_PARTIDASC,\n\tAPU_DETALLE_CATALOGO1,\n\tLISTAR_PARTIDAS22,\n\tLISTAR_PARTIDAS21,\n\tLISTAR_PARTIDASC2,\n\tAPU_DETALLE_CATALOGO2,\n\tDETALLE_PRECIOS,\n} from \"../constants\";\n\nimport $ from 'jquery';\nwindow.jQuery = $;\nrequire('signalr');\n\nexport const connectSignalr = (token) => {\n\treturn (dispatch) => {\n\n\t\t// console.log(companyLocal.Id);\n\t\tvar options = {\n\t\t\tqs: {\n\t\t\t\tAuthType: 1,\n\t\t\t\tToken: token,\n\t\t\t\tModuleId: 21,\n\t\t\t}\n\t\t};\n\t\tconst connection = $.hubConnection(\"http://200.48.100.203:5030\", options);\n\t\tconst hubProxy = connection.createHubProxy(\"S10ERPHub\");\n\n\n\t\t/*hubProxy.on(\"receiveS10ERPDataResult\", function (response) {\n\t\t\tconst data = JSON.parse(response);\n\t\t\n\t\t\tcase 'IngMedicionMasiva':\n\t\t\t\tconsole.log('Llega respuesta de resultado MASIVA');\n\t\t\t\tconsole.log(data);\n\t\t\t\t/*dispatch({\n\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\n\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t\n\t\t});*/\n\n\n\t\thubProxy.on(\"receiveS10ERPDataResult\", function (response) {\n\t\t\tconst data = JSON.parse(response);\n\n\t\t\t//console.log('data antes');\n\t\t\t//console.log(JSON.parse(data.OutputValue));\n\t\t\t//console.log(JSON.parse(data.Data));\n\n\t\t\tswitch (data.Name) {\n\t\t\t\tcase ARBOL:\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ARBOL,\n\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\tpart: data.Part,\n\t\t\t\t\t\t\tdata: JSON.parse(data.Data),\n\t\t\t\t\t\t},\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase DATA_GENERAL:\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: DATA_GENERAL,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase LISTAR_POR_PERIODO:\n\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_POR_PERIODO,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase PROJECT_DETAILS:\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: PROJECT_DETAILS,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase PARTY_CONTROL:\n\t\t\t\t\tconsole.log('datos llegados de PRESUPUESTO:');\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: PARTY_CONTROL,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase PARTY_CONTROL22:\n\t\t\t\t\tconsole.log('datos llegados de FAVORITOS:');\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: PARTY_CONTROL22,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\n\t\t\t\tcase LISTAR_CLIENTES:\n\t\t\t\t\t//console.log('clientes llegados:');\n\t\t\t\t\t//console.log(JSON.parse(data.Data));\n\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_CLIENTES,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase LISTAR_MODELOS:\n\t\t\t\t\t//console.log('Modelos llegados:');\n\t\t\t\t\t//console.log(JSON.parse(data.Data));\n\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_MODELOS,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase LISTAR_MONEDAS:\n\t\t\t\t\t//console.log('MoNEDAS llegadAs:');\n\t\t\t\t\t//console.log(JSON.parse(data.Data));\n\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_MONEDAS,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase LISTAR_UBICACIONES:\n\t\t\t\t\t//console.log('ubicaciones llegadas:');\n\t\t\t\t\t//console.log(JSON.parse(data.OutputValue));\n\n\t\t\t\t\t//console.log(data.OutputValue);\n\t\t\t\t\t//console.log(JSON.parse(data.Data));\n\t\t\t\t\tlocalStorage.setItem(\"paginacion\", data.OutputValue);\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_UBICACIONES,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase DETALLE_PRECIOS:\n\t\t\t\t\t\tconsole.log('PRECIOS llegadas:');\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: DETALLE_PRECIOS,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\n\t\t\t\tcase LISTAR_UNIDADES:\n\t\t\t\t\t//console.log('ubicaciones llegadas:');\n\t\t\t\t\t//console.log(JSON.parse(data.OutputValue));\n\n\t\t\t\t\t//console.log(data.OutputValue);\n\t\t\t\t\t//console.log(JSON.parse(data.Data));\n\t\t\t\t\tlocalStorage.setItem(\"paginacionUn\", data.OutputValue);\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_UNIDADES,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\n\t\t\t\tcase LISTAR_TITULOS:\n\t\t\t\t\t//console.log('titulos llegadas:');\n\t\t\t\t\t//console.log(JSON.parse(data.OutputValue));\n\t\t\t\t\tconsole.log('data de titulos:');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tlocalStorage.setItem(\"paginacionT\", data.OutputValue);\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_TITULOS,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t//payload: (data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase LISTAR_TITULOS1:\n\t\t\t\t\t\t//console.log('titulos llegadas:');\n\t\t\t\t\t\t//console.log(JSON.parse(data.OutputValue));\n\t\t\t\t\t\tconsole.log('data de titulos:');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\tlocalStorage.setItem(\"paginacionT\", data.OutputValue);\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LISTAR_TITULOS1,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t\t//payload: (data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\n\n\t\t\t\tcase LISTAR_PARTIDAS:\n\t\t\t\t\t//console.log('titulos llegadas:');\n\t\t\t\t\t//console.log(JSON.parse(data.OutputValue));\n\t\t\t\t\tconsole.log('data de PARTIDAS:');\n\t\t\t\t\t//console.log(data);\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tlocalStorage.setItem(\"paginacionP\", data.OutputValue);\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_PARTIDAS,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t//payload: (data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase LISTAR_PARTIDAS1:\n\t\t\t\t\t\t//console.log('titulos llegadas:');\n\t\t\t\t\t\t//console.log(JSON.parse(data.OutputValue));\n\t\t\t\t\t\tconsole.log('data de PARTIDAS:');\n\t\t\t\t\t\t//console.log(data);\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\tlocalStorage.setItem(\"paginacionP\", data.OutputValue);\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LISTAR_PARTIDAS1,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t\t//payload: (data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\n\n\t\t\t\t\t\tcase LISTAR_PARTIDAS2:\n\t\t\t\t\t\t\t//console.log('titulos llegadas:');\n\t\t\t\t\t\t\t//console.log(JSON.parse(data.OutputValue));\n\t\t\t\t\t\t\tconsole.log('data de PARTIDAS2:');\n\t\t\t\t\t\t\t//console.log(data);\n\t\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\t\tlocalStorage.setItem(\"paginacionP2\", data.OutputValue);\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: LISTAR_PARTIDAS2,\n\t\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t\t\t//payload: (data.Data),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\t\t\tcase LISTAR_PARTIDASC:\n\t\t\t\t\t\t\t\t//console.log('titulos llegadas:');\n\t\t\t\t\t\t\t\t//console.log(JSON.parse(data.OutputValue));\n\t\t\t\t\t\t\t\tconsole.log('data de PARTIDAS2:');\n\t\t\t\t\t\t\t\t//console.log(data);\n\t\t\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\t\t\tlocalStorage.setItem(\"paginacionP2\", data.OutputValue);\n\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\ttype: LISTAR_PARTIDASC,\n\t\t\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t\t\t\t//payload: (data.Data),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\t\t\t\tcase LISTAR_PARTIDAS22:\n\t\t\t\t\t\t\t\t\t//console.log('titulos llegadas:');\n\t\t\t\t\t\t\t\t\t//console.log(JSON.parse(data.OutputValue));\n\t\t\t\t\t\t\t\t\tconsole.log('data de PARTIDAS2:');\n\t\t\t\t\t\t\t\t\t//console.log(data);\n\t\t\t\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"paginacionP3\", data.OutputValue);\n\t\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\t\ttype: LISTAR_PARTIDAS22,\n\t\t\t\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t\t\t\t\t//payload: (data.Data),\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\n\t\t\t\t\t\t\t\t\tcase LISTAR_PARTIDASC2:\n\t\t\t\t\t\t\t\t\t\t//console.log('titulos llegadas:');\n\t\t\t\t\t\t\t\t\t\t//console.log(JSON.parse(data.OutputValue));\n\t\t\t\t\t\t\t\t\t\tconsole.log('data de PARTIDAS2:');\n\t\t\t\t\t\t\t\t\t\t//console.log(data);\n\t\t\t\t\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\t\t\t\t\tlocalStorage.setItem(\"paginacionP3\", data.OutputValue);\n\t\t\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\t\t\ttype: LISTAR_PARTIDASC2,\n\t\t\t\t\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t\t\t\t\t\t//payload: (data.Data),\n\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase PARTY_CONTROL1:\n\t\t\t\t\t//console.log('datos llegados de Subprespuestos:');\n\t\t\t\t\t//console.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: PARTY_CONTROL1,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase LISTAR_SUBS:\n\t\t\t\t\t//console.log('datos llegados de Subprespuestos tODOS:');\n\t\t\t\t\t//console.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_SUBS,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\n\t\t\t\tcase LEER_PRESUPUESTO:\n\t\t\t\t\t//console.log('datos llegados de pRESUPUESTO:');\n\t\t\t\t\t//console.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LEER_PRESUPUESTO,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MENSUAL_DETALLE:\n\t\t\t\t\tconsole.log('datos llegados de items:');\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: MENSUAL_DETALLE,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase APU_DETALLE:\n\t\t\t\t\tconsole.log('APUS llegados:');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: APU_DETALLE,\n\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\tsumas: data.OutputValue,\n\t\t\t\t\t\t\tdata: JSON.parse(data.Data),\n\t\t\t\t\t\t},\n\t\t\t\t\t\t//JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase APU_DETALLE_CATALOGO:\n\t\t\t\t\tconsole.log('APUS llegados: catalogo: ');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: APU_DETALLE_CATALOGO,\n\t\t\t\t\t\t//payload: JSON.parse(data.Data),\n\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\tsumas: data.OutputValue,\n\t\t\t\t\t\t\tdata: JSON.parse(data.Data),\n\t\t\t\t\t\t},\t\t\t\t\t\t\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase APU_DETALLE_CATALOGO1:\n\t\t\t\t\t\tconsole.log('APUS llegados: catalogo: ');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: APU_DETALLE_CATALOGO1,\n\t\t\t\t\t\t\t//payload: JSON.parse(data.Data),\n\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\tsumas: data.OutputValue,\n\t\t\t\t\t\t\t\tdata: JSON.parse(data.Data),\n\t\t\t\t\t\t\t},\t\t\t\t\t\t\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase APU_DETALLE_CATALOGO2:\n\t\t\t\t\t\t\tconsole.log('APUS llegados: catalogo: ');\n\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: APU_DETALLE_CATALOGO2,\n\t\t\t\t\t\t\t\t//payload: JSON.parse(data.Data),\n\t\t\t\t\t\t\t\tpayload: {\n\t\t\t\t\t\t\t\t\tsumas: data.OutputValue,\n\t\t\t\t\t\t\t\t\tdata: JSON.parse(data.Data),\n\t\t\t\t\t\t\t\t},\t\t\t\t\t\t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\n\n\n\t\t\t\tcase APU_DETALLE_CATALOGO_SUBP:\n\t\t\t\t\tconsole.log('APUS llegados subpartida: catalogo: ');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: APU_DETALLE_CATALOGO_SUBP,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase LEER_ARBOL_SUBPARTIDAS:\n\t\t\t\t\t\tconsole.log('APUS llegados arbol de subpartidas: ');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LEER_ARBOL_SUBPARTIDAS,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\n\n\t\t\t\tcase METRADO_DETALLE:\n\t\t\t\t\tconsole.log('metrados llegados:');\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: METRADO_DETALLE,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase UNIQUE_DETALLE:\n\t\t\t\t\t//console.log('UNIQUES llegados:');\n\t\t\t\t\t//console.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: UNIQUE_DETALLE,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase ASOCIADO_DETALLE:\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ASOCIADO_DETALLE,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase ESTRUCTURA_DETALLE:\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: ESTRUCTURA_DETALLE,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase CALCULO_DETALLE:\n\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: CALCULO_DETALLE,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase CALCULODET_DETALLE:\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: CALCULODET_DETALLE,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase LEER_PARTIDA:\n\t\t\t\t\tconsole.log('datos de partida llegada');\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LEER_PARTIDA,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase LEER_PARTIDA1:\n\t\t\t\t\t\tconsole.log('datos de partida1 llegada');\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LEER_PARTIDA1,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase LEER_RECURSO:\n\t\t\t\t\t\t\tconsole.log('datos de recurso llegada');\n\t\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: LEER_RECURSO,\n\t\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\t\n\t\t\t\t\t\t\tcase LEER_RECURSO1:\n\t\t\t\t\t\t\t\tconsole.log('datos de recurso1 llegada');\n\t\t\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\t\ttype: LEER_RECURSO1,\n\t\t\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\tbreak;\n\t\t\n\n\n\t\t\t\tcase LEER_TITULO:\n\t\t\t\t\tconsole.log('datos de titulo llegado');\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LEER_TITULO,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase LEER_TITULO1:\n\t\t\t\t\t\tconsole.log('datos de titulo llegado');\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LEER_TITULO1,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\n\n\t\t\t\tcase RECOGER_ITEMS:\n\t\t\t\t\tconsole.log('datos de partida llegada');\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: RECOGER_ITEMS,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase CODIGO_OBTENIDO:\n\t\t\t\t\tconsole.log('CODIGO DE PARTIDA OBTENIDO');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: CODIGO_OBTENIDO,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase CODIGO_OBTENIDO1:\n\t\t\t\t\t\tconsole.log('CODIGO DE PARTIDA OBTENIDO');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: CODIGO_OBTENIDO1,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\n\n\t\t\t\t\tcase CODIGO_OBTENIDO_TITULO:\n\t\t\t\t\tconsole.log('CODIGO DE titulo OBTENIDO');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: CODIGO_OBTENIDO_TITULO,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase CODIGO_OBTENIDO_TITULO1:\n\t\t\t\t\tconsole.log('CODIGO DE titulo OBTENIDO');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: CODIGO_OBTENIDO_TITULO1,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\n\t\t\t\t\tcase CODIGO_OBTENIDO_RECURSO:\n\t\t\t\t\tconsole.log('CODIGO DE recurso OBTENIDO');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: CODIGO_OBTENIDO_RECURSO,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase CODIGO_OBTENIDO_RECURSO1:\n\t\t\t\t\tconsole.log('CODIGO DE recurso OBTENIDO');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: CODIGO_OBTENIDO_RECURSO1,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\n\t\t\t\tcase LISTAR_RECURSOS:\n\t\t\t\t\t\tconsole.log('RECURSOS OBTENIDOS EN LLAMADA');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\tlocalStorage.setItem(\"paginacionRec\", data.OutputValue);\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LISTAR_RECURSOS,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\t\tcase LISTAR_RECURSOS1:\n\t\t\t\t\t\t\tconsole.log('RECURSOS OBTENIDOS EN LLAMADA recursos1');\n\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\t\tlocalStorage.setItem(\"paginacionRec\", data.OutputValue);\n\t\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\t\ttype: LISTAR_RECURSOS1,\n\t\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tbreak;\n\t\n\n\n\t\t\t\tcase PIDE_ELEMENTOS_ITEMS:\n\t\t\t\t\t//console.log('datos de Items');\n\t\t\t\t\t//console.log(data.Data);\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: PIDE_ELEMENTOS_ITEMS,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase LISTAR_GRP_PARTIDAS:\n\t\t\t\t\tconsole.log('datos de Arbol Partidas');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_GRP_PARTIDAS,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase LISTAR_GRP_PARTIDASN2:\n\t\t\t\t\tconsole.log('datos de Arbol PartidasN2');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_GRP_PARTIDASN2,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase LISTAR_GRP_PARTIDASN3:\n\t\t\t\t\tconsole.log('datos de Arbol PartidasN3');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_GRP_PARTIDASN3,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\n\n\n\t\t\t\tcase LISTAR_GRP_PARTIDASN4:\n\t\t\t\t\tconsole.log('datos de Arbol PartidasN4');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_GRP_PARTIDASN4,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase LISTAR_GRP_PARTIDASN5:\n\t\t\t\t\tconsole.log('datos de Arbol PartidasN5');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LISTAR_GRP_PARTIDASN5,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase LISTAR_GRP_RECURSOS:\n\t\t\t\t\t\tconsole.log('datos de Arbol Recuroso');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LISTAR_GRP_RECURSOS,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase LISTAR_GRP_RECURSOSN2:\n\t\t\t\t\t\tconsole.log('datos de Arbol RecurososN2');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LISTAR_GRP_RECURSOSN2,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase LISTAR_GRP_RECURSOSN3:\n\t\t\t\t\t\tconsole.log('datos de Arbol RecurososN3');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LISTAR_GRP_RECURSOSN3,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\t\t\t\t\t\n\n\n\t\t\t\t\tcase LISTAR_GRP_TITULOS:\n\t\t\t\t\t\tconsole.log('datos de Arbol tITULOS');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LISTAR_GRP_TITULOS,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\t\n\t\t\t\t\tcase LISTAR_GRP_TITULOSN2:\n\t\t\t\t\t\tconsole.log('datos de Arbol tITULOSN2');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\t\tdispatch({\n\t\t\t\t\t\t\ttype: LISTAR_GRP_TITULOSN2,\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase 'IngPres':\n\t\t\t\t\tconsole.log('Llega respuesta de resultado GUARDAR PRESUPUESTO');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'IngPartidaN':\n\t\t\t\t\tconsole.log('Mi respuesta de guardar Partida');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tbreak;\n\t\t\t\tcase 'IngTituloN':\n\t\t\t\t\tconsole.log('Mi respuesta de guardar Titulo');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase 'ModPartida1':\n\t\t\t\t\tconsole.log('Mi respuesta de MODIFICAR Partida');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ModInsumo1':\n\t\t\t\t\t\tconsole.log('Mi respuesta de MODIFICAR INSUMO');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase 'AddInsumo1':\n\t\t\t\t\t\t\tconsole.log('Mi respuesta de ADICIONAR INSUMO');\n\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\tcase 'EliminaRec':\n\t\t\t\t\t\t\t\tconsole.log('Mi respuesta de ELIMINAR INSUMO');\n\t\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\t\tbreak;\n\t\n\n\t\t\t\tcase 'ModTitulo1':\n\t\t\t\t\tconsole.log('Mi respuesta de MODIFICAR Titulo');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase 'ElimPartida1':\n\t\t\t\t\tconsole.log('Mi respuesta de elimianr Partida');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'ElimTitulo1':\n\t\t\t\t\tconsole.log('Mi respuesta de elimianr Partida');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'EliminaSubPresupuesto':\n\t\t\t\t\t\tconsole.log('Mi respuesta de elimianr SubPresupuesto');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\t\t\t\t\t\tcase 'EliminaRecursoPartida':\n\t\t\t\t\t\t\tconsole.log('Mi respuesta de elimianr RECURSO PARTIDA');\n\t\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t\tbreak;\n\t\n\n\t\t\t\tcase 'MODIFICAR_APU':\n\t\t\t\t\tconsole.log('Mi respuesta de MODIFICAR APU');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'INGRESAR_APU':\n\t\t\t\t\tconsole.log('Mi respuesta de INGRESAR APU');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\tbreak;\n\t\t\t\t\t\t\n\n\t\t\t\tcase 'MoverCarpeta':\n\t\t\t\t\tconsole.log('RESPUESTA DE mover carpeta');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\t\t\t\t\t\n\t\t\t\t\tcase 'MODIFICAR_PRECIO':\n\t\t\t\t\t\tconsole.log('RESPUESTA DE modificar precio');\n\t\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t\t});*/\n\t\t\t\t\t\tbreak;\n\t\t\t\tcase 'ActualizaSecuenciales':\n\t\t\t\t\tconsole.log('RESPUESTA DE actuyalizar secuenciales');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase 'Agregafav':\n\t\t\t\t\tconsole.log('RESPUESTA DE AGREGAR A FAVORITOS');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'Quitarfav':\n\t\t\t\t\tconsole.log('RESPUESTA DE QUITAR DE FAVORITOS');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase 'EliminaItemSub':\n\t\t\t\t\tconsole.log('RESPUESTA DE ELIMINAR UN ITEM');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\n\n\n\t\t\t\tcase 'IngMedicion':\n\t\t\t\t\tconsole.log('Llega respuesta de resultado GUARDAR medicion');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase 'IngMedicionMasiva':\n\t\t\t\t\tconsole.log('Llega respuesta de resultado MASIVA');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase 'ModPres':\n\t\t\t\t\tconsole.log('Llega respuesta de resultado MODIFICAR PRESUPUESTO  !!!!!!!!');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\n\n\t\t\t\tcase 'IngGrupo':\n\t\t\t\t\tconsole.log('Respuesta de ingreso de Grupo');\n\t\t\t\t\tconsole.log(data);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EliminaGrupo':\n\t\t\t\t\tconsole.log('Respuesta de Eliminar Grupo');\n\t\t\t\t\tconsole.log(JSON.parse(data.Data));\n\t\t\t\t\tlet resp = JSON.parse(data.Data);\n\t\t\t\t\t/*console.log('Respuesta de Eliminar Grupo Respuesta');\n\t\t\t\t\tconsole.log(resp);*/\n\t\t\t\t\tlocalStorage.setItem(\"EliminadoSuccess\", resp[0].Success);\n\t\t\t\t\tlocalStorage.setItem(\"EliminadoResp\", resp[0].Response);\n\t\t\t\t\t/*dispatch({\n\t\t\t\t\t\t//type: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\t\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});*/\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase PROJECT_LIST_DETAILS:\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: PROJECT_LIST_DETAILS,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tcase LIST_HISTORY:\n\t\t\t\t\tdispatch({\n\t\t\t\t\t\ttype: LIST_HISTORY,\n\t\t\t\t\t\tpayload: JSON.parse(data.Data),\n\t\t\t\t\t});\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t});\n\t\t// connect\n\t\tconnection\n\t\t\t.start()\n\t\t\t.done(function () {\n\t\t\t\tconsole.log(\"Now connected, connection ID=\" + connection.id);\n\t\t\t\tlocalStorage.setItem(\"connectionId\", connection.id);\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: REFRESH_IDCONNECTION,\n\t\t\t\t});\n\t\t\t})\n\t\t\t.fail(function () {\n\t\t\t\tconsole.log(\"Could not connect\");\n\t\t\t\t// alert(\"Conexion fallida, posiblemente token vencido\");\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: REFRESH_IDCONNECTION,\n\t\t\t\t});\n\t\t\t});\n\t};\n};\n\nexport const refreshConnection = () => {\n\treturn (dispatch) => {\n\t\tvar companyLocal = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tif (companyLocal) {\n\t\t\tdispatch(connectSignalr(companyLocal.Token))\n\t\t} else {\n\t\t\tdispatch(connectSignalr('error!!'))\n\t\t}\n\t};\n};\n","export default __webpack_public_path__ + \"static/media/logo.c37be3b1.png\";","import { SIGN_IN, SELECT_COMPANY, LOG_OUT } from \"../constants\";\nimport {connectSignalr} from './signalr.action';\nimport axios from \"axios\";\n//import $ from 'jquery';\n\nexport const signIn = (form, showFn) => {\n  return async (dispatch) => { \n      try {\n        form.ModuleId = 21;\n        form.AccessTypeId = 2;\n        const { data } = await axios.post(\"http://200.48.100.203:5033/api/SecurityAuthApi/LogonApp\", form);\n        console.log(data, \"<--- response\");\n\n        if (data.Type === 1) {\n          alert(data.Message);\n          return;\n        } else {\n          dispatch({\n            type: SIGN_IN,\n            payload: data.Value,\n          });\n          showFn()\n        }\n      } catch (error) {\n        console.error(error);\n      }\n  };\n};\n\n\n\n\nexport const selectCompany = (company, history) => {\n  return async (dispatch) => {\n    console.log(company, '<--- DataCompany');\n\t// console.log(history);\n\tdispatch(connectSignalr(company.Token));\n\tdispatch({\n\t\ttype: SELECT_COMPANY,\n\t\tpayload: company,\n\t  });\n    history.push(\"/presupuesto\");\n    window.location.reload(true);\n    //document.body.style.zoom = \"80%\";\n    \n  };\n};\n\nexport const logOut = (history) => {\n\treturn async (dispatch) => {\n\t  dispatch({\n\t\t  type: LOG_OUT,\n\t\t});\n\t\thistory.push(\"/\");\n\t};\n  };\n  \n","import React, { useRef, useEffect, useState } from 'react'\r\n\r\nimport Script from 'react-load-script';\r\nimport $ from 'jquery';\r\nimport queryString from 'query-string';\r\nimport Swal from 'sweetalert2'\r\n//import { cleanDataChart, cleanDataChart1, selectPc, navigationTree, navigationTreePC, selectItems} from '../actions/proyects.actions';\r\n\r\n//import adskLogoSvg from \"./logo.svg\";\r\n//import VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport * as THREE from 'three';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { relativeTimeRounding } from 'moment';\r\nimport { agregaCategoria, agregaCategoriaB, agregaElementos, agregaFamilia, agregaFamiliaB, agregaTipo, agregaTipoB, guardarAsociado, limpiaAsociado, limpiaElementosItems, ponerPropiedades, selectAsociados, selectELEMENTOS_METRADOS, selectParidas } from '../actions/proyects.actions';\r\nimport { isJSDocReturnTag } from 'typescript';\r\n/*import { Timeline } from 'react-svg-timeline'\r\nimport { now } from 'moment';\r\nimport Tooltip from \"@material-ui/core/Tooltip\";*/\r\n\r\n\r\n//import { Gantt, Task, EventOption, StylingOption, ViewMode, DisplayOption } from 'gantt-task-react';\r\n//import \"gantt-task-react/dist/index.css\";\r\n\r\n//import { Gantt, Task, EventOption, StylingOption, ViewMode, DisplayOption } from '../../gantt-task-react-main/index';\r\n//import \"gantt-task-react/dist/index.css\";\r\n//import \"gantt-task-react/dist/index.css\";\r\n\r\n//import { CustomToolTip } from \"forge-dataviz-iot-react-components\";\r\n//import Cronos from 'chronos-etu';\r\n//import { Font, TextGeometry } from 'threejs-full-es6'\r\n//import FontJson from './helvetiker_bold.typeface.json'\r\n//import { Theme as MaterialTheme } from '@material-ui/core';\r\n//import zIndex from '@material-ui/core/styles/zIndex';\r\n//import { TimelineTheme } from './Proyectos/theme/model';\r\n\r\nconst devices = [\r\n    {\r\n        position: {\r\n            x: 2.590268290876452,\r\n            y: 1.20446526068116,\r\n            z: 2.355262787057484,\r\n        },\r\n        type: \"temperature\",\r\n        sensorTypes: [\"co2\", \"temperature\"],\r\n    },\r\n    {\r\n        position: {\r\n            x: -97.94954550038506,\r\n            y: -50.21776820050724,\r\n            z: 12.444056161946492,\r\n        },\r\n        type: \"temperature\",\r\n        sensorTypes: [\"temperature\"],\r\n    },\r\n    {\r\n        position: {\r\n            x: 162.61,\r\n            y: 75.54,\r\n            z: -0.61,\r\n        },\r\n        type: \"temperature\",\r\n        sensorTypes: [\"temperature\"],\r\n    },\r\n    {\r\n        position: {\r\n            x: 48.53,\r\n            y: -48.27,\r\n            z: -19.24,\r\n        },\r\n        type: \"temperature\",\r\n        sensorTypes: [\"temperature\"],\r\n    },\r\n\r\n];\r\n\r\nvar ponerdato = true;\r\nconst viewerLibaryURL1 = '//cdn.jsdelivr.net/gh/autodesk-forge/forge-extensions/public/extensions/NestedViewerExtension/contents/main.js';\r\nconst viewerStylesheetURL1 = '//cdn.jsdelivr.net/gh/autodesk-forge/forge-extensions/public/extensions/NestedViewerExtension/contents/main.css';\r\n\r\nvar seleccionados = \"\", seleccionadosCat = \"\", seleccionadosFamilia = \"\", seleccionadosTipo = \"\";\r\nconst viewerLibaryURL2 = 'js/three.js';\r\n\r\n\r\nvar T_uniqueIds = [];\r\nvar T_categorias = [];\r\nvar T_NombreT = [];\r\nvar T_TipoT = [];\r\nvar T_cantidad_elementos = 0;\r\n\r\n\r\n//URN=dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLi02VW9rWXRDUVZXVDdiWDFZeXRZUHc/dmVyc2lvbj0x\r\n//const modelURL = 'https://dukedhx.github.io/Forge-Workshop/shaver/0.svf';\r\n//const modelURL = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmhxbTRIV0ZmUm82VGtzand2MjZQSlE_dmVyc2lvbj0x';\r\n//const modelURL = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmktWmdsQkg4UnRXRWI1Zi1CWnZnQ0E/dmVyc2lvbj0x';\r\n//const modelURL = 'https:\\/\\/developer.api.autodesk.com\\/derivativeservice\\/v2\\/derivatives\\/dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmhxbTRIV0ZmUm82VGtzand2MjZQSlE_dmVyc2lvbj0x'\r\n//const viewerLibaryURL = 'https://developer.api.autodesk.com/modelderivative/v2/viewers/viewer3D.min.js?v=v7.*';\r\nconst viewerStylesheetURL = 'https://developer.api.autodesk.com/modelderivative/v2/viewers/style.min.css?v=v7.*';\r\nconst viewerLibaryURL = 'https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js';\r\nlet viewerLibraryLoaded = false;\r\nlet viewerLibraryLoaded1 = false;\r\nlet viewerStyleLoaded = false;\r\nlet viewerLoading = false;\r\n\r\n//const viewerLibaryURL1 = 'js/ForgeViewer.js';\r\n\r\n\r\nvar viewer;\r\n//export const Viewer1=null;\r\n\r\n\r\n\r\n//export const CambiardeModelo = async (NuevoModelo) => {\r\n//setModelURL(NuevoModelo);\r\n//await launchViewer(modelURL);\r\n\r\n//}\r\n\r\n\r\n/*function getForgeToken(callback) {\r\n    postData('https://developer.api.autodesk.com/authentication/v1/authenticate', {\r\n        'client_id': 'Lrn6oqLnwpCBd8GS0LuimGx5SHONYw4b',\r\n        'client_secret': 'JLA2LfrdwUg4hMkz',\r\n        'grant_type': 'client_credentials',\r\n        'scope': 'data:read data:write data:create data:search bucket:create bucket:read bucket:update bucket:delete'\r\n    })\r\n        .then(data => {\r\n            console.log(data); // JSON data parsed by `data.json()` call\r\n            callback(data.access_token, data.expires_in);\r\n        });\r\n}*/\r\n\r\n\r\n\r\nexport const filtrar_campo = async (filtr, DatoarregloFiltrado, CampoFiltro, Comp, Valor) => {\r\n    //var valo;\r\n    await viewer.getProperties(DatoarregloFiltrado.Id, (props) => {\r\n        //console.log(propiedad);\r\n        let v1=props.properties.find((filtro1) => filtro1.displayName === CampoFiltro)\r\n        let valorC='';\r\n        if (v1) valorC = v1?.displayValue;\r\n        if (Comp==='Igual'){\r\n            if (valorC===Valor){               \r\n                //console.log('pongo este dato' + valorC + ' == ' + Valor)\r\n                //console.log(DatoarregloFiltrado)\r\n                filtr.push(DatoarregloFiltrado);\r\n            }\r\n        }else{\r\n            if (valorC!==Valor){\r\n                //console.log('pongo este dato' + valorC + ' != ' + Valor)\r\n                //console.log(DatoarregloFiltrado)\r\n                filtr.push(DatoarregloFiltrado);\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\nexport const ObtenerPropiedad = async (idelem, propiedad, valor, elemento , indice, valor2, filtr, mostrar) => {\r\n    //var valo;\r\n    await viewer.getProperties(idelem, (props) => {\r\n        //console.log(propiedad);\r\n        let v1=props.properties.find((filtro1) => filtro1.displayName === propiedad)\r\n        //console.log(v1.displayValue);\r\n        //valor=v1?.displayValue;\r\n        if (v1 && v1?.displayValue!==''){\r\n            valor.push({campo:propiedad, indice:indice, valor:v1?.displayValue});\r\n            valor2.push({campo:propiedad, valor:v1?.displayValue});\r\n            let nP='';\r\n            if (mostrar==='true')\r\n                nP=propiedad+' ';\r\n           let Prop1='N'+(elemento+1)\r\n           //filtr[indice].Prop1 = nP + v1?.displayValue;\r\n           filtr[indice][`${Prop1}`] = nP + v1?.displayValue;\r\n        }        \r\n        else{\r\n            valor.push({campo:propiedad, indice:indice, valor:'SN'});\r\n            valor2.push({campo:propiedad, valor:'SN'});\r\n            let nP='';\r\n            if (mostrar==='true')\r\n                nP=propiedad+' ';\r\n            let Prop1='N'+(elemento+1)\r\n            filtr[indice][`${Prop1}`] = nP + 'SN';\r\n        }\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\nexport const ObtenerPropiedades = async (idelem, filtr, indice, PedirDescripcion, PedirCantidad, PedirLongitud, PedirAlto, PedirAncho, calculodetalle ) => {\r\n    await viewer.getProperties(idelem, (props) => {\r\n        //console.log(props.properties)\r\n        if (PedirDescripcion!==''){\r\n            let v1 = props.properties.find((filtro1) => filtro1.displayName === PedirDescripcion)\r\n            if (v1 && v1?.displayValue!==''){\r\n                filtr[indice].Descripcion= v1?.displayValue;\r\n            }else{\r\n                filtr[indice].Descripcion=filtr[indice].Descripcion;\r\n            }\r\n        }\r\n\r\n        if (PedirCantidad!==''){\r\n            let v1 = props.properties.find((filtro1) => filtro1.displayName === PedirCantidad)\r\n            if (v1 && v1?.displayValue!==''){\r\n                filtr[indice].Cantidad=v1?.displayValue;\r\n            }else{\r\n                filtr[indice].Cantidad='1.00';\r\n            }\r\n        }\r\n\r\n        if (PedirLongitud!==''){           \r\n            if(PedirLongitud.substring(0,1)==='='){\r\n                let terminos = calculodetalle.filter((filtro1) => filtro1.TipoCampo === 'Longitud').sort((a, b) => a.Posicion - b.Posicion)\r\n                let resultado=0;\r\n                let proximaOperacion='';\r\n                for(let i=0;i<terminos.length;i++){\r\n                    \r\n                    let vcampo=0;\r\n                    if (terminos[i].Campo===''){\r\n                        vcampo=0;\r\n                    }else{\r\n                        if (!isNaN(terminos[i].Campo)) {\r\n                            vcampo=parseFloat(terminos[i].Campo);\r\n\t\t\t\t\t\t}else{\r\n                            let v1 = props.properties.find((filtro1) => filtro1.displayName === terminos[i].Campo)\r\n                            if (v1 && v1?.displayValue!==''){\r\n                                //verificar si es numerico\r\n                                if (!isNaN(v1?.displayValue)){\r\n                                    vcampo=parseFloat(v1?.displayValue);\r\n                                }                                    \r\n                                else\r\n                                    vcampo=0;\r\n                            }else{\r\n                                vcampo=0;\r\n                            }\r\n                        }\t\t\t\t\t\r\n                    }\r\n                    //ya tengo en vcampo mi valor\r\n                    if (i===0){\r\n                        resultado=vcampo;\r\n                    }else{\r\n                     switch (proximaOperacion.trim()){\r\n                        case '+':\r\n                            resultado+=vcampo;\r\n                        break;\r\n                        case '-':\r\n                            resultado-=vcampo;\r\n                        break;\r\n                        case '*':\r\n                            resultado*=vcampo;\r\n                        break;\r\n                        case '/':\r\n                            resultado/=vcampo;\r\n                        break;\r\n                        case '':\r\n                            resultado=resultado;\r\n                        break;\r\n                     }\r\n                    }\r\n                    proximaOperacion=terminos[i].Operacion;\r\n                }\r\n                \r\n                filtr[indice].Longitud=resultado;\r\n            }else{\r\n                let v1 = props.properties.find((filtro1) => filtro1.displayName === PedirLongitud)\r\n                if (v1 && v1?.displayValue!==''){\r\n                    if (!isNaN(v1?.displayValue))\r\n                        filtr[indice].Longitud=v1?.displayValue;\r\n                    else\r\n                        filtr[indice].Longitud='';\r\n                    \r\n                }else{\r\n                    filtr[indice].Longitud='';\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n\r\n        if (PedirAlto!==''){           \r\n            if(PedirAlto.substring(0,1)==='='){\r\n                let terminos = calculodetalle.filter((filtro1) => filtro1.TipoCampo === 'Alto').sort((a, b) => a.Posicion - b.Posicion)\r\n                let resultado=0;\r\n                let proximaOperacion='';\r\n                for(let i=0;i<terminos.length;i++){\r\n                    \r\n                    let vcampo=0;\r\n                    if (terminos[i].Campo===''){\r\n                        vcampo=0;\r\n                    }else{\r\n                        if (!isNaN(terminos[i].Campo)) {\r\n                            vcampo=parseFloat(terminos[i].Campo);\r\n\t\t\t\t\t\t}else{\r\n                            let v1 = props.properties.find((filtro1) => filtro1.displayName === terminos[i].Campo)\r\n                            if (v1 && v1?.displayValue!==''){\r\n                                //verificar si es numerico\r\n                                if (!isNaN(v1?.displayValue))\r\n                                    vcampo=parseFloat(v1?.displayValue);\r\n                                else\r\n                                    vcampo=0;\r\n                            }else{\r\n                                vcampo=0;\r\n                            }\r\n                        }\t\t\t\t\t\r\n                    }\r\n                    //ya tengo en vcampo mi valor\r\n                    if (i===0){\r\n                        resultado=vcampo;\r\n                    }else{\r\n                     switch (proximaOperacion.trim()){\r\n                        case '+':\r\n                            resultado+=vcampo;\r\n                        break;\r\n                        case '-':\r\n                            resultado-=vcampo;\r\n                        break;\r\n                        case '*':\r\n                            resultado*=vcampo;\r\n                        break;\r\n                        case '/':\r\n                            resultado/=vcampo;\r\n                        break;\r\n                        case '':\r\n                            resultado=resultado;\r\n                        break;\r\n                     }\r\n                    }\r\n                    proximaOperacion=terminos[i].Operacion;\r\n                }\r\n                \r\n                filtr[indice].Alto=resultado;\r\n            }else{\r\n                let v1 = props.properties.find((filtro1) => filtro1.displayName === PedirAlto)\r\n                if (v1 && v1?.displayValue!==''){\r\n                    if (!isNaN(v1?.displayValue))\r\n                        filtr[indice].Alto=v1?.displayValue;\r\n                    else\r\n                        filtr[indice].Alto='';\r\n\r\n                    \r\n                }else{\r\n                    filtr[indice].Alto='';\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n        if (PedirAncho!==''){           \r\n            if(PedirAncho.substring(0,1)==='='){\r\n                let terminos = calculodetalle.filter((filtro1) => filtro1.TipoCampo === 'Ancho').sort((a, b) => a.Posicion - b.Posicion)\r\n                let resultado=0;\r\n                let proximaOperacion='';\r\n                for(let i=0;i<terminos.length;i++){\r\n                    \r\n                    let vcampo=0;\r\n                    if (terminos[i].Campo===''){\r\n                        vcampo=0;\r\n                    }else{\r\n                        if (!isNaN(terminos[i].Campo)) {\r\n                            vcampo=parseFloat(terminos[i].Campo);\r\n\t\t\t\t\t\t}else{\r\n                            let v1 = props.properties.find((filtro1) => filtro1.displayName === terminos[i].Campo)\r\n                            if (v1 && v1?.displayValue!==''){\r\n                                //verificar si es numerico\r\n                                if (!isNaN(v1?.displayValue))\r\n                                    vcampo=parseFloat(v1?.displayValue);\r\n                                else\r\n                                    vcampo=0;\r\n                            }else{\r\n                                vcampo=0;\r\n                            }\r\n                        }\t\t\t\t\t\r\n                    }\r\n                    //ya tengo en vcampo mi valor\r\n                    if (i===0){\r\n                        resultado=vcampo;\r\n                    }else{\r\n                     switch (proximaOperacion.trim()){\r\n                        case '+':\r\n                            resultado+=vcampo;\r\n                        break;\r\n                        case '-':\r\n                            resultado-=vcampo;\r\n                        break;\r\n                        case '*':\r\n                            resultado*=vcampo;\r\n                        break;\r\n                        case '/':\r\n                            resultado/=vcampo;\r\n                        break;\r\n                        case '':\r\n                            resultado=resultado;\r\n                        break;\r\n                     }\r\n                    }\r\n                    proximaOperacion=terminos[i].Operacion;\r\n                }\r\n                \r\n                filtr[indice].Ancho=resultado;\r\n            }else{\r\n                let v1 = props.properties.find((filtro1) => filtro1.displayName === PedirAncho)\r\n                if (v1 && v1?.displayValue!==''){\r\n                    if (!isNaN(v1?.displayValue))\r\n                        filtr[indice].Ancho=v1?.displayValue;\r\n                    else\r\n                        filtr[indice].Ancho='';\r\n\r\n                }else{\r\n                    filtr[indice].Ancho='';\r\n                }\r\n            }\r\n        }\r\n\r\n    })\r\n}\r\n\r\n\r\n\r\n\r\nexport const MostarModelo = (idelem) => {\r\n    //alert(\"refresca\");\r\n    //viewer.resize();\r\n    //viewer.showAll();\r\n    //viewer.refresh(false);\r\n    //viewer.refresh(true);\r\n    //var urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n    //await ViewScreen1.launchViewer(urn);\r\n    //console.log('ESTOS SON MI IDS');\r\n    //console.log(idelem);\r\n    highlightRevit(idelem);\r\n}\r\n\r\n\r\nfunction highlightRevit(idsRevit) {\r\n    // Every Forge Viewer model has an ‘ExternalId Mapping’\r\n    // this mapping is an object that has as keys the\r\n    if (viewer)\r\n        if (viewer.model)\r\n            viewer.model.getExternalIdMapping((mapping) => {\r\n                configureElementByUniqueIdAndMapping(idsRevit, mapping);\r\n            });\r\n}\r\n\r\nfunction configureElementByUniqueIdAndMapping(idsRevit, mapping) {\r\n    var elementsDbId = [];\r\n    var idsRevitArray = idsRevit.split(',');\r\n    for (var uniqueId in idsRevitArray) {\r\n        const elementDbId = mapping[idsRevitArray[uniqueId]];\r\n        if (elementDbId) {\r\n            elementsDbId.push(elementDbId);\r\n        }\r\n    }\r\n    viewer.isolate(elementsDbId);\r\n    viewer.fitToView(elementsDbId);\r\n}\r\n\r\n\r\nexport const RefrescarV = async () => {\r\n    //alert(\"refresca\");\r\n    if (viewer)\r\n        viewer.resize();\r\n    //viewer.showAll();\r\n    //viewer.refresh(false);\r\n    //viewer.refresh(true);\r\n    //var urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n    //await ViewScreen1.launchViewer(urn);\r\n\r\n}\r\n\r\n\r\nvar UniquesSel = null;\r\nvar arreglo=[];\r\nvar UniquesSeleccionar='';\r\nvar cantidadM=0;\r\nvar ejecuantando=0;\r\nvar ItemAc=null;\r\n\r\nvar opcSeleccionada=0;\r\n\r\nvar Arreglo1=null;\r\nvar Arreglo2=null;\r\n\r\nexport const ViewerSc = () => {\r\n\r\n\r\n    const dispatch = useDispatch();\r\n    //const [dataPart, setDataPart] = useState([]);\r\n    //const dataPart=useRef([]);\r\n    //const auth = useSelector((state) => state.auth);\r\n    const proyects = useSelector((state: any) => state.proyects);\r\n    \r\n\r\n    useEffect(() => {\r\n        //console.log('datos de items en Forge')\r\n        //console.log(proyects.DataUnique)\r\n        UniquesSel = proyects.DataUnique;\r\n        //orderTree(proyects.DataPc);\r\n        //alert('ejecutó la primera carga');\r\n        // console.log(result);\r\n        // }\r\n        // eslint-disable-next-line\r\n    }, [proyects.DataUnique])\r\n\r\n\r\n    useEffect(() => {\r\n        //alert(proyects.ItemActual?.Item)\r\n        ItemAc=proyects.ItemActual;\r\n\r\n    }, [proyects.ItemActual])\r\n\r\n    useEffect(() => {\r\n        //alert(proyects.DataElementosItems.length)\r\n        //console.log(proyects.DataElementosItems);\r\n        //alert(cantidadM)\r\n        \r\n        if (proyects.DataElementosItems.length>0 && !ejecuantando){\r\n            let timerInterval\r\n\t\t\tSwal.fire({\r\n\t\t\t\ttitle: 'Obteniedo datos...!',\r\n\t\t\t\thtml: 'Obteniendo elementos asociados <b></b> .',\r\n\t\t\t\ttimer: cantidadM,\r\n\t\t\t\ttimerProgressBar: true,\r\n\t\t\t\tdidOpen: () => {\r\n\t\t\t\t\tSwal.showLoading()\r\n\t\t\t\t\tconst b = Swal.getHtmlContainer().querySelector('b')\r\n\t\t\t\t\ttimerInterval = setInterval(() => {\r\n\t\t\t\t\t//b.textContent = Swal.getTimerLeft().toString()\r\n\t\t\t\t\t}, cantidadM)\r\n\t\t\t\t},\r\n\t\t\t\twillClose: () => {\r\n\t\t\t\t\tclearInterval(timerInterval)\r\n\t\t\t\t}\r\n\t\t\t\t}).then((result) => {\r\n\t\t\t\t/* Read more about handling dismissals below */\r\n\t\t\t\tif (result.dismiss === Swal.DismissReason.timer) {\r\n\t\t\t\t\t//console.log('I was closed by the timer')\r\n\t\t\t\t}\r\n\t\t\t\t})\r\n                ejecuantando=1;\r\n        }\r\n        \r\n\r\n        if (opcSeleccionada===1)\r\n        if (proyects.DataElementosItems.length>=cantidadM && cantidadM!==0){\r\n            UniquesSeleccionar='';\r\n            for(let i=0;i<proyects.DataElementosItems.length;i++){\r\n                //UniquesSeleccionar.push(proyects.DataElementosItems[i].UniqueId);\r\n                UniquesSeleccionar=proyects.DataElementosItems[i].UniqueId + ',' + UniquesSeleccionar;\r\n            }\r\n            highlightRevit(UniquesSeleccionar);\r\n            Arreglo2=proyects.DataElementosItems;\r\n            Arreglo1=proyects.DataElementos;\r\n        }\r\n        \r\n        /*if (opcSeleccionada===2)\r\n        if (proyects.DataElementosItems.length>=cantidadM && cantidadM!==0){\r\n            UniquesSeleccionar='';\r\n            \r\n            console.log(proyects.DataElementos);\r\n            for(let i=0;i<proyects.DataElementos.length;i++){\r\n                //UniquesSeleccionar.push(proyects.DataElementosItems[i].UniqueId);\r\n                var filtrop = proyects.DataElementosItems.find((filtro1) => filtro1.UniqueId === proyects.DataElementos[i].UniqueId);\r\n                if (!filtrop)\r\n                UniquesSeleccionar=proyects.DataElementos[i].UniqueId + ',' + UniquesSeleccionar;\r\n            }\r\n            highlightRevit(UniquesSeleccionar);\r\n        }*/\r\n\r\n\r\n    }, [proyects.DataElementosItems])\r\n\r\n\r\n    useEffect(() => {\r\n        //console.log('datos de items en Forge')\r\n        //console.log(proyects.DataUnique)\r\n        //alert(proyects.DataPartidasM.length)\r\n        arreglo=proyects.DataPartidasM;\r\n        //if (proyects.DataPartidasM.length>0){\r\n            //setDataPart([...proyects.DataPc]);\r\n          //  dataPart.current=proyects.DataPc;\r\n            //alert(proyects.DataPc.length)\r\n        //}\r\n            \r\n        //orderTree(proyects.DataPc);\r\n        //alert('ejecutó la primera carga');\r\n        // console.log(result);\r\n        // }\r\n        // eslint-disable-next-line\r\n    }, [proyects.DataPartidasM])\r\n\r\n    const [modelURL, setModelURL] = useState('dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmktWmdsQkg4UnRXRWI1Zi1CWnZnQ0E/dmVyc2lvbj0x');\r\n    //'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmktWmdsQkg4UnRXRWI1Zi1CWnZnQ0E/dmVyc2lvbj0x'\r\n    //const [Viewer1, setViewer1] = useState(null);\r\n\r\n    /*function initTasks() {\r\n        const currentDate = new Date();\r\n        const tasks: Task[] = [\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 1),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 25),\r\n            name: \"Proyecto Edificio Colinas\",\r\n            id: \"ProjectSample\",\r\n            progress: 25,\r\n            type: \"project\",\r\n            padre: true,\r\n            nivel:0,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 1),\r\n            end: new Date(\r\n              currentDate.getFullYear(),\r\n              currentDate.getMonth(),\r\n              2,\r\n              12,\r\n              28\r\n            ),\r\n            name: \"Desbroce y desbosque de terreno\",\r\n            id: \"Task 0\",\r\n            progress: 45,\r\n            type: \"task\",\r\n            project: \"ProjectSample\",    \r\n            nivel:1,        \r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 2),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4, 0, 0),\r\n            name: \"Research\",\r\n            id: \"Task 1\",\r\n            progress: 25,\r\n            dependencies: [\"Task 0\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),\r\n            name: \"Excavacion sin clasificar\",\r\n            id: \"Task 2\",\r\n            progress: 10,\r\n            dependencies: [\"Task 1\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),\r\n            name: \"Excavacion sin clasificar\",\r\n            id: \"Task 8\",\r\n            progress: 10,\r\n            dependencies: [\"Task 1\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 10, 0, 0),\r\n            name: \"Relleno compactado\",\r\n            id: \"Task 3\",\r\n            progress: 2,\r\n            dependencies: [\"Task 2\"],\r\n            type: \"project\",\r\n            project: \"ProjectSample\",\r\n            padre:true,\r\n            nivel:1,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 10),\r\n            name: \"Review\",\r\n            id: \"Task 4\",\r\n            type: \"task\",\r\n            progress: 70,\r\n            dependencies: [\"Task 2\"],\r\n            project: \"Task 3\",\r\n            nivel:2,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),\r\n            name: \"Excavacion sin clasificar\",\r\n            id: \"Task 5\",\r\n            progress: 10,\r\n            dependencies: [\"Task 1\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },          \r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 15),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 15),\r\n            name: \"Release\",\r\n            id: \"Task 6\",\r\n            progress: currentDate.getMonth(),\r\n            type: \"milestone\",\r\n            dependencies: [\"Task 4\"],\r\n            project: \"Task 3\",\r\n            nivel:2,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),\r\n            name: \"Excavacion sin clasificar\",\r\n            id: \"Task 7\",\r\n            progress: 10,\r\n            dependencies: [\"Task 1\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),\r\n            name: \"Excavacion sin clasificar\",\r\n            id: \"Task 8\",\r\n            progress: 10,\r\n            dependencies: [\"Task 1\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },          \r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 18),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 19),\r\n            name: \"Party Time\",\r\n            id: \"Task 9\",\r\n            progress: 0,\r\n            isDisabled: true,\r\n            type: \"task\",\r\n            nivel:1,\r\n            visible:true,\r\n          },\r\n        ];\r\n        return tasks;\r\n      }\r\n\r\n    \r\n    const [tasks, setTasks] = React.useState<Task[]>(initTasks());\r\n    const currentDate = new Date();*/\r\n\r\n    //return tasks;\r\n\r\n    //const { env, docUrn, adapterType, api } = props.appData;\r\n    /*if (props.appData.dataStart && props.appData.dataEnd) {\r\n        let dataStart = new Date(props.appData.dataStart);\r\n        let dataEnd = new Date(props.appData.dataEnd);\r\n        startRange.setTime(dataStart.getTime());\r\n        endRange.setTime(dataEnd.getTime());\r\n\r\n        if (startDate.getTime() < startRange.getTime() || startDate.getTime() >= endRange.getTime()) {\r\n            startDate.setTime(startRange.getTime());\r\n        }\r\n\r\n        if (endDate.getTime() <= startRange.getTime() || endDate.getTime() >= endRange.getTime()) {\r\n            endDate.setTime(endRange.getTime());\r\n        }\r\n\r\n        if (currDate.getTime() <= startRange.getTime() || currDate.getTime() >= endRange.getTime()) {\r\n            currDate.setTime(endRange.getTime());\r\n        }\r\n\r\n        // give it a little bit buffer to make the range selection visible\r\n        startRange.setTime(dataStart.getTime() - 2 * 60 * 60 * 24 * 1000);\r\n        endRange.setTime(dataEnd.getTime() + 2 * 60 * 60 * 24 * 1000);\r\n    }*/\r\n\r\n\r\n    /*timeOptionRef.current = timeOptions;\r\n    appStateRef.current = appState;\r\n    hoveredDeviceInfoRef.current = hoveredDeviceInfo;*/\r\n\r\n    var urn;\r\n    //const container: any = useRef();\r\n    var posX = 0;\r\n    var posY = 0;\r\n    var posZ = 0;\r\n\r\n    const [loadViewerLibrary, setLoadViewerLibrary] = useState(false);\r\n    const [loadViewerLibrary1, setLoadViewerLibrary1] = useState(false);\r\n\r\n    const handleStyleLoad = async () => {\r\n        viewerStyleLoaded = true;\r\n        if (cargado1 && cargado2) {\r\n            //urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n            await launchViewer(modelURL);\r\n            //alert(urn);\r\n        }\r\n\r\n        if (viewerLibraryLoaded && viewerLibraryLoaded1) {\r\n            /*urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmhxbTRIV0ZmUm82VGtzand2MjZQSlE_dmVyc2lvbj0x';\r\n            viewerLibraryLoaded && launchViewer(urn)*/\r\n\r\n        }\r\n    }\r\n    var cargado1 = false;\r\n    var cargado2 = false;\r\n\r\n\r\n    const handleScriptLoad1 = async () => {\r\n        //alert('ya cargo');\r\n        cargado2 = true;\r\n        if (cargado1 && cargado2) {\r\n            //urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n            await launchViewer(modelURL);\r\n            //alert(urn);\r\n        }\r\n        /*viewerLibraryLoaded1 = true;\r\n        setTimeout(() => {\r\n            if (viewer) {\r\n                //viewer.loadExtension('MenuContextual');\r\n                //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n                //alert('carga extension');\r\n                //viewer.loadExtension('MenuContextual');\r\n                //viewer.activateExtension(\"NestedViewerExtension\");\r\n                //alert(viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true }));\r\n                //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n                //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n                //alert(viewer.isExtensionLoaded(\"NestedViewerExtension\"));\r\n                //viewer.refresh(true);\r\n            }\r\n        }, 5000);*/\r\n    }\r\n\r\n\r\n    const handleScriptLoad2 = () => {\r\n\r\n        /*var geom = new THREE.SphereGeometry(10, 8, 8);\r\n        var material8 = new THREE.MeshBasicMaterial({ color: 0x00FF00 });\r\n        var sphereMesh = new THREE.Mesh(geom, material8);\r\n        //var Cam = new THREE.Camera();\r\n        //Cam.position.set(1,1,1);\r\n\r\n        //var sphereMesh = new THREE.(geom, material8);\r\n        sphereMesh.position.set(1, 2, 3);\r\n        //sphereMesh.position.set(1, 2, 3);\r\n        //sphereMesh.matrixWorld.setPosition(new THREE.Vector3(-59, 2, 3));\r\n        //sphereMesh\r\n        //sphereMesh.geometry.attributes.position.set([-59, 2, 3], 1);\r\n\r\n        //sphereMesh.position.set(  1, 2, 3);\r\n        //sphereMesh.\r\n        if (!viewer.overlays.hasScene('custom-scene1')) {\r\n            viewer.overlays.addScene('custom-scene1');\r\n        }\r\n\r\n        viewer.overlays.addMesh(sphereMesh, 'custom-scene1');\r\n        /*sphereMesh.translateX(1);\r\n        sphereMesh.translateY(20);\r\n        sphereMesh.translateZ(3);*/\r\n\r\n        //alert(sphereMesh.geometry.attributes);*/\r\n\r\n    }\r\n\r\n    const handleScriptLoad = async () => {\r\n        viewerLibraryLoaded = true;\r\n\r\n        //viewerStyleLoaded && loadViewer(modelURL)\r\n        //urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmhxbTRIV0ZmUm82VGtzand2MjZQSlE_dmVyc2lvbj0x';\r\n        cargado1 = true;\r\n        if (cargado1 && cargado2) {\r\n            //urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n            await launchViewer(modelURL);\r\n        }\r\n\r\n        setTimeout(() => {\r\n\r\n            /*if (viewer) {\r\n                viewer.refresh(true);\r\n                viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n                viewer.loadExtension('MenuContextual');\r\n                viewer.refresh();\r\n                //launchViewer(urn);\r\n            }\r\n            //viewer.loadExtension('MenuContextual');\r\n\r\n            //alert('se carga');\r\n            //launchViewer(urn);*/\r\n\r\n        }, 4000);\r\n        setTimeout(() => {\r\n            //viewer.loadExtension('MenuContextual');\r\n            //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n            //viewer.refresh();\r\n        }, 8000);\r\n\r\n        //loadViewer(modelURL);\r\n    }\r\n\r\n    function carga2() {\r\n        //var urn = getParameterByName('urn');\r\n        //alert('esta es la funcion');\r\n        //seleccionados='c884ae1b-61e7-4f9d-0001-719e20b22d0b-006f9464';\r\n        //var cadena = '5c069bcb-62a6-44a8-a199-48eb6d184f17-000546cc';\r\n        //var cadena = '5c069bcb-62a6-44a8-a199-48eb6d184f17-000546cc';\r\n        if (viewer)\r\n            highlightRevit(seleccionados);\r\n        var geom = new THREE.SphereGeometry(1, 8, 8);\r\n        var material = new THREE.MeshBasicMaterial({ color: 0xff0000 });\r\n        var sphereMesh = new THREE.Mesh(geom, material);\r\n        //var scene = new THREE.scene(geom, material);\r\n        //var sphereMesh = new THREE.(geom, material);\r\n        var scene = new THREE.Scene();\r\n        //viewer.impl.scene.add(scene);\r\n        if (!viewer.overlays.hasScene(scene)) {\r\n            viewer.overlays.addScene(scene);\r\n            //viewer.impl.scene.add('custom-scene');\r\n        }\r\n        /*if (!viewer.overlays.hasScene('custom-scene')) {\r\n            viewer.overlays.addScene('custom-scene');\r\n            //viewer.impl.scene.add('custom-scene');\r\n        }*/\r\n        //alert('hola');\r\n        //viewer.impl.scene.add(sphereMesh);\r\n\r\n        scene.background = new THREE.Color(0x2a3b4c);\r\n        alert('carga2');\r\n        viewer.overlays.addMesh(sphereMesh, scene);\r\n        sphereMesh.position.set(1, 2, 3);\r\n        viewer.refresh();\r\n        //alert('mostrado');\r\n        //handleScriptLoad2();\r\n        ///onModelLoaded(viewer);\r\n        //var geom1 = new THREE.BoxGeometry( 0.2, 0.2, 0.2 );\r\n        //var material_red = new THREE.MeshPhongMaterial({ color: 0xff0000 });\r\n        /*var material_red = new THREE.MeshBasicMaterial({ color: 0xff0000 });\r\n        //add material red to collection\r\n        viewer.impl.matman().addMaterial('ADN-Material' + 'red', material_red, true);\r\n        var material_green = new THREE.MeshBasicMaterial({ color: 0x00FF00 });\r\n        //add material green to collection\r\n        viewer.impl.matman().addMaterial('ADN-Material' + 'green', material_green, true);\r\n        //get bounding box of the model\r\n        var boundingBox = viewer.model.getBoundingBox();\r\n        var maxpt = boundingBox.max;\r\n        var minpt = boundingBox.min;\r\n        var xdiff = maxpt.x - minpt.x;\r\n        var ydiff = maxpt.y - minpt.y;\r\n        var zdiff = maxpt.z - minpt.z;\r\n        //set a nice radius in the model size\r\n        var niceRadius =\r\n            Math.pow((xdiff * xdiff +\r\n\r\n                ydiff * ydiff +\r\n\r\n                zdiff * zdiff), 0.5) / 10;\r\n        //createsphere1 and place it at max point of boundingBox\r\n        var sphere_maxpt = new THREE.Mesh(new THREE.SphereGeometry(niceRadius, 2000), material_red);\r\n       //sphere_maxpt.geometry.attributes.position.set(maxpt.x, maxpt.y, maxpt.z);\r\n        sphere_maxpt.position.set(maxpt.x, maxpt.y, maxpt.z);\r\n        //create  sphere2 and place it at\r\n        //min point of boundingBox\r\n        var sphere_minpt =\r\n            new THREE.Mesh(\r\n                new THREE.SphereGeometry(\r\n                    niceRadius, 30),\r\n                material_green)\r\n        sphere_minpt.position.set(minpt.x, minpt.y, minpt.z);*/\r\n        //add two spheres to scene\r\n        /*viewer.impl.scene.add(sphere_maxpt);\r\n        viewer.impl.scene.add(sphere_minpt);\r\n        viewer.impl.scene.updateMatrixWorld(true);\r\n        sphere_maxpt.matrixWorld.setPosition(new THREE.Vector3(1, 2, 3));\r\n        sphere_minpt.matrixWorld.setPosition(new THREE.Vector3(10, 10, 10));\r\n        viewer.impl.scene.updateMatrix();\r\n        //update the viewer       \r\n        viewer.impl.invalidate(true);\r\n       const geometry = new THREE.BoxGeometry( 1, 1, 1 );\r\n        const material = new THREE.MeshBasicMaterial( { color: 0xffff00 } );\r\n        const mesh = new THREE.Mesh( geometry, material );\r\n        \r\n        if (!viewer.overlays.hasScene('custom-scene')) {\r\n            viewer.overlays.addScene('custom-scene');\r\n        }\r\n\r\n        viewer.overlays.addMesh(mesh, 'custom-scene');\r\n\r\n        const geometry1 = new THREE.BoxGeometry(20, 20, 20, 20, 20, 20); \r\n        const material2 = new THREE.MeshBasicMaterial({ wireframe: true }); \r\n        const cube1 = new THREE.Mesh(geometry1, material2); \r\n        viewer.overlays.addMesh(cube1, 'custom-scene');*/\r\n        //alert('llego');\r\n        //viewer.refresh();\r\n\r\n\r\n\r\n        /*var scene = new THREE.Scene();\r\n        scene.background = new THREE.Color(0x2a3b4c);\r\n\r\n        //add camera\r\n        var camera = new THREE.PerspectiveCamera(\r\n            75,\r\n            window.innerWidth/window.innerHeight\r\n        );\r\n\r\n        //renderer\r\n        var renderer = new THREE.WebGLRenderer();\r\n        renderer.setSize(window.innerWidth, window.innerHeight);\r\n        document.body.appendChild(renderer.domElement);\r\n\r\n        //add geometry\r\n        var geometry = new THREE.BoxGeometry();\r\n        var material = new THREE.MeshBasicMaterial({color: 0x00ff00, wireframe: true});\r\n        var cube = new THREE.Mesh(geometry, material);\r\n\r\n        scene.add(cube);\r\n\r\n        camera.position.z = 5;\r\n        \r\n        \r\n        //animation\r\n        var animate = function(){\r\n            requestAnimationFrame(animate);\r\n\r\n            //cube.rotateX(0.01);\r\n            //cube.rotateY(0.01);\r\n            cube.rotation.y += 0.01;\r\n            \r\n            renderer.render(scene, camera);\r\n\r\n        }\r\n\r\n        //animate();\r\n        viewer.overlays.addMesh(cube, scene);*/\r\n\r\n        //viewer.loadExtension(\"Botones\");\r\n        //viewer.loadExtension(\"MenuContextual\");\r\n        //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\",\"3d\"], crossSelection: true });\r\n\r\n\r\n        /*$('#LateralToolbar.ControlGroup').css({\r\n            'top':'200px',\r\n            'background-color':'red'\r\n        });*/\r\n\r\n        // CrearPanel('');\r\n\r\n    }\r\n\r\n\r\n    function highlightRevit(idsRevit) {\r\n        // Every Forge Viewer model has an ‘ExternalId Mapping’\r\n        // this mapping is an object that has as keys the\r\n        if (viewer && viewer.model)\r\n        viewer.model.getExternalIdMapping((mapping) => {\r\n            configureElementByUniqueIdAndMapping(idsRevit, mapping);\r\n        });\r\n    }\r\n    function configureElementByUniqueIdAndMapping(idsRevit, mapping) {\r\n        var elementsDbId = [];\r\n        var idsRevitArray = idsRevit.split(',');\r\n        for (var uniqueId in idsRevitArray) {\r\n            const elementDbId = mapping[idsRevitArray[uniqueId]];\r\n            if (elementDbId) {\r\n                elementsDbId.push(elementDbId);\r\n            }\r\n        }\r\n        viewer.isolate(elementsDbId);\r\n        viewer.fitToView(elementsDbId);\r\n    }\r\n\r\n    // @urn the model to show\r\n    // @viewablesId which viewables to show, applies to BIM 360 Plans folder\r\n    function launchViewer(urn, viewableId = '') {\r\n        //alert(viewerLibraryLoaded1);\r\n        console.log('RENDERIZANDO EL VIEWER  ***********************');\r\n        var options = {\r\n            env: 'AutodeskProduction',\r\n            getAccessToken: getForgeToken,\r\n            api: 'derivativeV2' + (atob(urn.replace('_', '/')).indexOf('emea') > -1 ? '_EU' : '') // handle BIM 360 US and EU regions\r\n        };\r\n        //alert('se cargo'+'urn= '+urn+' acces token=');\r\n        //if (!Autodesk) return;\r\n        Autodesk.Viewing.Initializer(options, () => {\r\n            const config = {\r\n                extensions: ['Autodesk.VisualClusters', 'Autodesk.DocumentBrowser', 'Autodesk.Section', /*'Autodesk.BIM360.Minimap', 'Autodesk.ViewCubeUi', 'Autodesk.AEC.Minimap3DExtension', 'Autodesk.AEC.Minimap3DExtension', 'MenuContextual', /*'Botones', */'Autodesk.DataVisualization','MenuContextual']\r\n            };\r\n            viewer = new Autodesk.Viewing.GuiViewer3D(document.getElementById('forgeViewer'), config);\r\n            //viewer = new Autodesk.Viewing.GuiViewer3D(container.current, config);\r\n            viewer.start();\r\n            var documentId = 'urn:' + urn;\r\n            Autodesk.Viewing.Document.load(documentId, onDocumentLoadSuccess, onDocumentLoadFailure);\r\n            //const Cronos = new Autodesk.DataVisualization.UI.ChronosTimeSlider('');\r\n            if (!viewer) return;\r\n            if (!viewer.autocam) return;\r\n            // smooth navigation...\r\n            viewer.autocam.shotParams.destinationPercent = 3;\r\n            viewer.autocam.shotParams.duration = 3;\r\n            //viewer.setTheme('light -theme');\r\n            //viewer.setTheme('light-theme');\r\n            viewer.setLightPreset(2);\r\n            //viewer.setQualityLevel(false, false);\r\n            //viewer.setGhosting(false);\r\n            //viewer.setGroundShadow(false);\r\n            viewer.setGroundReflection(true);\r\n            viewer.setEnvMapBackground(true);\r\n            //viewer.setProgressiveRendering(false);\r\n            viewer.setBackgroundColor( 0, 0, 0, 0, 0, 0 );\r\n            \r\n        });\r\n\r\n\r\n\r\n\r\n        function onDocumentLoadSuccess(doc) {\r\n            // if a viewableId was specified, load that view, otherwise the default view\r\n\r\n            //var items = doc.getRoot().find({ role: '3d', type: 'geometry' });\r\n            //var items = doc.getSubItemsWithProperties(doc.getRoot(),{ role: '3d', type: 'geometry' },false);\r\n\r\n            /*var Items = Autodesk.Viewing.Document.getSubItemsWithProperties(doc.getRoot(), {\r\n                'type' : 'geometry',\r\n                'role' : '2d'\r\n            }, false);*/\r\n            /*var viewables1 = doc.getRoot().search({'type':'geometry'});\r\n            viewer.loadDocumentNode(doc, viewables1[6]);*/\r\n            var viewables = (viewableId ? doc.getRoot().findByGuid(viewableId) : doc.getRoot().getDefaultGeometry());\r\n            //var items = doc.getRoot().find({ role: '3d', type: 'geometry' });\r\n            var arrg = [];\r\n            var selectedItems = [];\r\n            const employees = [];\r\n            const employees1 = [];\r\n            const employees2 = [];\r\n            var elementos = [];\r\n            employees.push({\r\n                'ID': '',\r\n                'Name': ''\r\n            });\r\n            employees2.push({\r\n                'ID': '',\r\n                'Name': '',\r\n                'Categoria': '',\r\n            });\r\n            employees1.push({\r\n                'ID': '',\r\n                'Name': '',\r\n                'Familia': '',\r\n                'Categoria': ''\r\n            });\r\n            var E_Id = '', E_cat = '', E_fam = '', E_tip = '', E_ext = '';\r\n            if (!viewer) return;\r\n            viewer.loadDocumentNode(doc, viewables).then(i => {\r\n                console.log('estas son las vistas', i);\r\n                viewer.getObjectTree(function (objTree) {\r\n                    objTree.enumNodeChildren(\r\n                        objTree.getRootId(),\r\n                        function (dbId) {\r\n                            // Work with dbId\r\n                            arrg.push(dbId);\r\n                            var uniqueIds = [];\r\n                            var categorias = [];\r\n                            var NombreT = [];\r\n                            var TipoT = [];\r\n                            T_cantidad_elementos = 0;\r\n                            T_uniqueIds = [];\r\n                            T_NombreT = [];\r\n                            T_categorias = [];\r\n                            T_TipoT = [];\r\n                            var DBids = viewer.getSelection();\r\n                            var n = 0;\r\n                            E_Id = ''; E_cat = ''; E_fam = ''; E_tip = ''; E_ext = '';\r\n                            //var objSelected = viewer.getSelection()[n];\r\n                            var objSelected = dbId;\r\n                            E_Id = dbId;\r\n                            n = n + 1;\r\n                            viewer.getProperties(objSelected, (props) => {\r\n                                \r\n                                uniqueIds.push(props.externalId);\r\n                                T_uniqueIds.push(props.externalId);\r\n                                E_ext = props.externalId;\r\n\r\n                                let reg2 = null;\r\n                                if (props.name.substring(props.name.length - 1, props.name.length) === ']') {\r\n                                    reg2 = employees2.find((filtro1) => filtro1.Name.trim() === props.name.substring(0, props.name.length - 9).trim());\r\n                                    if (!reg2) {\r\n                                        /*employees2.push({\r\n                                            'ID': props.name.substring(0, props.name.length - 9),\r\n                                            'Name': props.name.substring(0, props.name.length - 9),\r\n                                            'Categoria': props.name.substring(0, props.name.length - 9)\r\n                                        })*/\r\n                                        //dispatch(agregaCategoria({Nombre:props.properties[0].displayValue}));\r\n                                        E_fam = props.name.substring(0, props.name.length - 9).trim();\r\n                                    }\r\n                                } else {\r\n                                    /*let reg2=null;\r\n                                    if (employees2){\r\n                                       reg2 = employees2.find((filtro1) => filtro1.Name === props.name);\r\n                                    }\r\n                                    \r\n                                    if (!reg2){\r\n                                       employees2.push({\r\n                                           'ID': props.name,\r\n                                           'Name': props.name\r\n                                         })\r\n                                       //dispatch(agregaCategoria({Nombre:props.properties[0].displayValue}));\r\n                                    }*/\r\n                                }\r\n                                //alert(props.name+\" \"+props.properties[0].displayValue+\" \"+props.properties[45].displayValue);   \r\n                                let indice = 0;\r\n                                if (props.properties[0].displayName === \"Category\") indice = 0;\r\n                                if (props.properties[1].displayName === \"Category\") indice = 1;\r\n                                T_NombreT.push(props.name);\r\n                                T_categorias.push(props.properties[indice].displayValue);\r\n                                let reg = null;\r\n                                if (employees) {\r\n                                    reg = employees.find((filtro1) => filtro1.Name.trim() === props.properties[indice].displayValue.substring(6, props.properties[indice].displayValue.length).trim());\r\n                                }\r\n                                if (!reg) {\r\n                                    employees.push({\r\n                                        'ID': props.properties[indice].displayValue.substring(6, props.properties[indice].displayValue.length).trim(),\r\n                                        'Name': props.properties[indice].displayValue.substring(6, props.properties[indice].displayValue.length).trim()\r\n                                    })\r\n\r\n                                    E_cat = props.properties[indice].displayValue.substring(6, props.properties[indice].displayValue.length).trim();\r\n                                    //dispatch(agregaCategoria({Nombre:props.properties[0].displayValue}));\r\n                                }\r\n                                let reg3 = employees2.find((filtro1) => filtro1.Name.trim() === E_fam);\r\n                                if ((E_fam!=='') && (!reg3))\r\n                                employees2.push({\r\n                                    'ID': E_fam,\r\n                                    'Name': E_fam,\r\n                                    'Categoria': E_cat\r\n                                })\r\n                                //proyects.DataCategorias.find()\r\n                                selectedItems.push(props.properties[indice].displayValue);\r\n                                // Buscar en el arreglo la proiedad \"Nombre de tipo\"\r\n                                //var T_TipoT = [];\r\n                                T_cantidad_elementos++;\r\n                                var enc = 0;\r\n                                for (var Propiedad of props.properties) {\r\n                                    if (Propiedad.displayName === 'Nombre de tipo') {\r\n                                        T_TipoT.push(Propiedad.displayValue.trim());\r\n\r\n                                        let reg1 = null;\r\n                                        if (employees1) {\r\n                                            reg1 = employees1.find((filtro1) => filtro1.Name.trim() === Propiedad.displayValue.trim());\r\n                                        }\r\n\r\n                                        if (!reg1) {\r\n                                            employees1.push({\r\n                                                'ID': Propiedad.displayValue.trim(),\r\n                                                'Name': Propiedad.displayValue.trim(),\r\n                                                'Familia': E_fam,\r\n                                                'Categoria': E_cat\r\n                                            });\r\n                                            E_tip = Propiedad.displayValue.trim();\r\n                                            //dispatch(agregaCategoria({Nombre:props.properties[0].displayValue}));\r\n                                        }\r\n\r\n\r\n                                        enc = 1;\r\n                                    }\r\n                                }\r\n                                if (!enc) {\r\n                                    E_tip = 'sin tipo';\r\n                                    T_TipoT.push('sin tipo');\r\n                                }\r\n\r\n                                elementos.push({\r\n                                    //'Id': E_Id,                                    \r\n                                    'Id': props.dbId,\r\n                                    'Categoria': E_cat,\r\n                                    'Familia': E_fam,\r\n                                    'Tipo': E_tip,\r\n                                    'UniqueId': E_ext,\r\n                                });\r\n                                //console.log('Estas son las props', props);\r\n                                if (n == DBids.length) {\r\n                                    //callbackObj.showMessage(uniqueIds);\r\n                                    //callbackObj.returnex(uniqueIds);\r\n                                    //alert(uniqueIds);\r\n                                    seleccionados = uniqueIds.toString();\r\n                                    //seleccionadosCat=\"\", seleccionadosFamilia=\"\", seleccionadosTipo=\"\"; \r\n\r\n                                    // console.log('Estas son las props', props);\r\n                                    //9c9538fd-af40-4b3d-bd89-f8e4acac1fd8-000525ae\r\n                                }\r\n                            })\r\n                            //console.log('datos cargados de GetROOOOOT');\r\n                            //console.log(dbId);\r\n                            /*viewer.getProperties(dbId,\r\n                                function(item) {\r\n                                  item.properties = item.chain(item.properties)\r\n                                    .groupBy('displayCategory')\r\n                                    .toPairs()\r\n                                    .map(function(property) {\r\n                                      return item.zipObject(['displayCategory', 'properties'], property);\r\n                                    })\r\n                                    .value();\r\n                        \r\n                                selectedItems.push(item);\r\n                            },\r\n                            function(error) {\r\n                              console.log(error);\r\n                            });*/\r\n                        }, true);\r\n                });\r\n                //alert('');\r\n                dispatch(agregaCategoria(employees));\r\n                dispatch(agregaTipo(employees1));\r\n                dispatch(agregaFamilia(employees2));\r\n                dispatch(agregaCategoriaB(employees));\r\n                dispatch(agregaTipoB(employees1));\r\n                dispatch(agregaFamiliaB(employees2));\r\n                dispatch(agregaElementos(elementos));\r\n                //console.log('TODOS LOS ELEMENTOS');\r\n                //console.log(elementos);\r\n                /*console.log('datos cargados de GetROOOOOT');\r\n                console.log(arrg);\r\n                console.log('datos cargados de CATEGORIES');\r\n                console.log(employees);*/\r\n                // any additional action here?\r\n                //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n                //viewer.loadExtension(\"Autodesk.BIM360.Minimap\");\r\n                //viewer.loadExtension(\"Autodesk.AEC.Minimap3DExtension\");\r\n                //viewer.loadExtension(\"Autodesk.AEC.LevelsExtension\");\r\n                //alert(\"cargando extension \"+viewer.isExtensionLoaded(\"NestedViewerExtension\"));\r\n            });\r\n            //viewer.addEventListener(Autodesk.Viewing.SELECTION_CHANGED_EVENT, onSelectionBinded);\r\n            //viewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, PonerProps);\r\n            //viewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, PonerProps);\r\n            // onModelLoaded1(viewer);\r\n            //init22();\r\n            /*viewer.hideModel(doc);\r\n            viewer.showModel(doc);\r\n            if (viewer.areAllVisible())\r\n            alert('se cargo bien')\r\n            else\r\n            alert('no se cargo')*/\r\n            //alert();\r\n            //viewer.setBackgroundColor(red, green, blue, red2, green2, blue2)\r\n            //viewer.setBackgroundColor(0, 0, 0, 0, 0, 0);\r\n            /*$(\".property-name aggregate-name\").on( \"click\", function() {\r\n                alert($( this ).text());\r\n            })*/\r\n\r\n        }\r\n\r\n\r\n        function verseleccionado() {\r\n            let viewerImpl = viewer.impl;\r\n\r\n            /*this.activate = (name) => {\r\n                this.active = true;\r\n            };\r\n    \r\n            this.deactivate = (name) => {\r\n                this.clearMarkedObject(this.markedFragments);\r\n                this.active = false;\r\n            };*/\r\n\r\n            //this.handleSingleClick = (event, button) => {\r\n            //if (button === 0) {\r\n            //const res = [];\r\n            //const vpVec = viewerImpl.clientToViewport(event.canvasX, event.canvasY);\r\n            /* const dbId = viewerImpl\r\n                 .renderer()\r\n                 .idAtPixel(vpVec.x, vpVec.y, res, [viewerImpl.renderer().getOverlayIdTarget()]);\r\n \r\n             if (true) {\r\n                 let test = viewerImpl.hitTestViewport(vpVec, false);\r\n                 console.log(test);\r\n             }*/\r\n\r\n            // \"dbId == -1\" when nothing is clicked.\r\n\r\n            // }\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n        function onSelectionBinded(event) {\r\n            //alert('hola');\r\n            var currSelection = viewer.getSelection();\r\n            var domElem = document.getElementById('MySelectionValue');\r\n            //let vector = new THREE.Vector3();\r\n            //event.object.getWorldPosition(vector);\r\n            //console.log(vector);\r\n            domElem.innerText = currSelection.length /*+ \" \" + vector.x + \",\" + vector.y + \",\" + vector.z*/;\r\n            console.log('Este es el evento de cambiar ', event);\r\n            //verseleccionado();\r\n            //alert(event.clientX);\r\n\r\n            /*var uniqueIds = [];\r\n            var DBids = viewer.getSelection();\r\n            var n = 0;\r\n            for (var uniqueId of DBids) {\r\n                var objSelected = viewer.getSelection()[n];\r\n                n = n + 1;\r\n                console.log('Este es el objeto seleccionado',objSelected);\r\n            }*/\r\n\r\n            //console.log('Estas son las props');\r\n            var uniqueIds = [];\r\n            var DBids = viewer.getSelection();\r\n            var n = 0;\r\n            for (var uniqueId of DBids) {\r\n                var objSelected = viewer.getSelection()[n];\r\n                n = n + 1;\r\n                viewer.getProperties(objSelected, (props) => {\r\n                    uniqueIds.push(props.externalId);\r\n                    if (n == DBids.length) {\r\n                        //callbackObj.showMessage(uniqueIds);\r\n                        //callbackObj.returnex(uniqueIds);\r\n                        //alert(uniqueIds);\r\n                        console.log(props);\r\n                        //9c9538fd-af40-4b3d-bd89-f8e4acac1fd8-000525ae\r\n                    }\r\n                })\r\n            }\r\n\r\n            let viewerImpl = viewer.impl;\r\n\r\n            /*this.activate = (name) => {\r\n                this.active = true;\r\n            };\r\n    \r\n            this.deactivate = (name) => {\r\n                this.clearMarkedObject(this.markedFragments);\r\n                this.active = false;\r\n            };*/\r\n\r\n            //this.handleSingleClick = (event, button) => {\r\n            //if (button === 0) {\r\n            //const res = [];\r\n            //const vpVec = viewerImpl.clientToViewport(event.canvasX, event.canvasY);\r\n            /* const dbId = viewerImpl\r\n                 .renderer()\r\n                 .idAtPixel(vpVec.x, vpVec.y, res, [viewerImpl.renderer().getOverlayIdTarget()]);\r\n \r\n             if (true) {\r\n                 let test = viewerImpl.hitTestViewport(vpVec, false);\r\n                 console.log(test);\r\n             }*/\r\n\r\n            // \"dbId == -1\" when nothing is clicked.\r\n\r\n            // }\r\n\r\n\r\n\r\n        }\r\n\r\n        function PonerProps(event) {\r\n            $('#LateralToolbar.ControlGroup').css({\r\n                'background-color': '#fff',\r\n                'border-radius': '10px'\r\n            });\r\n\r\n            $('#guiviewer3d-toolbar').css({\r\n                'background-color': 'rgba(255,255,255,0.10)',\r\n                'border-radius': '5px'\r\n            });\r\n            $('#settingsTools').css({\r\n                'background-color': 'rgba(255,255,255,0.15)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.80)'\r\n            });\r\n            $('#modelTools').css({\r\n                'background-color': 'rgba(255,255,255,0.15)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.80)'\r\n            });\r\n            $('#navTools').css({\r\n                'background-color': 'rgba(255,255,255,0.15)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.80)'\r\n            });\r\n\r\n            $('#toolbar-documentModels').css({\r\n                'background-color': 'rgba(1,1,1,0.55)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.90)'\r\n            });\r\n\r\n            //console.log('Este es el evento', event);\r\n            onModelLoaded1(viewer);\r\n\r\n\r\n        }\r\n\r\n\r\n        function onDocumentLoadFailure(viewerErrorCode) {\r\n            console.error('onDocumentLoadFailure() - errorCode:' + viewerErrorCode);\r\n        }\r\n\r\n        function addIds(DBids, uniqueIds, callback) {\r\n            var n = 0;\r\n            for (var uniqueId of DBids) {\r\n                var objSelected = viewer.getSelection()[uniqueId];\r\n                this.viewer.getProperties(objSelected, (props) => {\r\n                    uniqueIds.push(props.externalId);\r\n                    n = n++;\r\n                    if (n == DBids.length) {\r\n                        callback(null, uniqueIds)\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n\r\n        const SensorStyleDefinitions = {\r\n            co2: {\r\n                url: `uno.svg`,\r\n                color: 0xffffff,\r\n            },\r\n            temperature: {\r\n                url: `uno.svg`,\r\n                color: 0xffffff,\r\n            },\r\n            default: {\r\n                url: `uno.svg`,\r\n                color: 0xffffff,\r\n            },\r\n        };\r\n\r\n        /**\r\n         * Handles `Autodesk.Viewing.GEOMETRY_LOADED_EVENT` event that is sent when a model has been completely loaded in the viewer.\r\n         *\r\n         * @param {Autodesk.Viewing.GuiViewer3D} viewer The viewer in which the model is loaded.\r\n         */\r\n        async function onModelLoaded1(viewer) {\r\n            const dataVizExt = viewer.getExtension(\"Autodesk.DataVisualization\");\r\n            const DATAVIZEXTN = Autodesk.DataVisualization?.Core;\r\n            if (!DATAVIZEXTN) { return; }\r\n            var styleMap = {};\r\n\r\n            // Create model-to-style map from style definitions.\r\n            Object.entries(SensorStyleDefinitions).forEach(([type, styleDef]) => {\r\n\r\n                styleMap[type] = new DATAVIZEXTN.ViewableStyle(\r\n                    DATAVIZEXTN?.ViewableType.SPRITE,\r\n                    new THREE.Color(styleDef.color),\r\n                    styleDef.url\r\n                );\r\n            });\r\n\r\n\r\n            const div = document.createElement(\"div\");  // <div></div>\r\n            const app = document.getElementById('root'); // <div id=\"app\">App</div>\r\n            const div1 = document.createElement(\"div1\");  // <div></div>\r\n            const div2 = document.createElement('div2'); // <div id=\"app\">App</div>\r\n            const div3 = document.createElement(\"div3\");  // <div></div>\r\n            const div4 = document.createElement('div4'); // <div id=\"app\">App</div>\r\n\r\n\r\n            const viewableData = new DATAVIZEXTN.ViewableData();\r\n\r\n            /*await viewableData.finish();\r\n            dataVizExt.addViewables(viewableData);\r\n            dataVizExt.removeAllViewables();*/\r\n\r\n\r\n            viewableData.spriteSize = 20;\r\n            let startId = 1;\r\n\r\n            devices.forEach((device) => {\r\n                let style = styleMap[device.type] || styleMap[\"default\"];\r\n                const viewable = new DATAVIZEXTN.SpriteViewable(new THREE.Vector3(device.position.x, device.position.y, device.position.z), style, startId);\r\n                viewableData.addViewable(viewable);\r\n                startId++;\r\n            });\r\n            await viewableData.finish();\r\n            if (!dataVizExt) return;\r\n            dataVizExt.addViewables(viewableData);\r\n\r\n            /**\r\n             * Called when a user clicks on a Sprite Viewable\r\n             * @param {Event} event \r\n             */\r\n            function onItemClick(event) {\r\n                //alert('click');\r\n                //alert(devices[event.dbId - 1].position.x);\r\n                //alert(event.dbId);\r\n            }\r\n\r\n            /**\r\n             *  Called when a user hovers over a Sprite Viewable \r\n             * @param {Event} event \r\n             */\r\n\r\n            function onItemHovering(event) {\r\n                //console.log(\"Show tooltip here\", event);\r\n                //console.log(\"Show tooltip here\", event.originalEvent);\r\n                //alert(event.point);\r\n                //alert(viewer.model.getUpVector());\r\n                // const currAppState = appStateRef.current;\r\n\r\n                div.style.display = 'none';\r\n\r\n                posX = event.originalEvent.normalizedX;\r\n                posY = event.originalEvent.normalizedY;\r\n                //posZ=event.point.z;\r\n\r\n                if (event.dbId) {\r\n                    //alert(event.dbId);\r\n                    //console.log(devices[event.dbId].position.x);\r\n                    //alert(devices[event.dbId-1].position.x);\r\n                    //alert(event.originalEvent.clientX);\r\n\r\n\r\n                    //const div = document.createElement(\"div\");\r\n                    //div.textContent = \"Esto es un div insertado con JS.\";\r\n                    var tempX = event.originalEvent.clientX + document.body.scrollLeft;\r\n                    var tempY = event.originalEvent.clientY + document.body.scrollTop;\r\n                    /*const app = document.createElement(\"div\"); // <div></div>\r\n                    app.id = \"app\"; // <div id=\"app\"></div>\r\n                    app.appendChild(div);*/\r\n\r\n\r\n                    //var ClientRect = div.getBoundingClientRect();\r\n                    /*var ClientRect = elemento.getBoundingClientRect();\r\n                    return { //objeto\r\n                    x: Math.round(evt.clientX - ClientRect.left),\r\n                    y: Math.round(evt.clientY - ClientRect.top)\r\n                        }*/\r\n                    div.appendChild(div1);\r\n\r\n\r\n\r\n                    div1.textContent = 'Ejemplo ' + event.dbId;\r\n                    div1.style.textAlign = 'center';\r\n                    //div.textContent = \"Ejemplo \"+ event.dbId;                // <div>Ejemplo</div>\r\n                    div2.innerHTML = 'Otro dato';\r\n                    div1.classList.add('card');\r\n                    //div1.classList.add('card-header');\r\n\r\n                    div2.classList.add('card-title');\r\n                    //div3.classList.add('card-header');\r\n\r\n\r\n                    div1.style.fontSize = '0.8rem';\r\n                    //div1.style.border = '1px 1px 1px 2px rgba(255,255,255,0.95)';\r\n\r\n                    div1.style.backgroundColor = 'rgba(1,1,1,0.85)';\r\n                    div1.style.width = '100%';\r\n\r\n                    div.appendChild(div2);\r\n                    div2.style.fontSize = '0.7rem';\r\n\r\n                    div.style.backgroundColor = 'rgba(1,1,1,0.65)';\r\n                    //div.style.alignContent = 'center';\r\n                    div.style.borderRadius = '10px';\r\n                    div.style.position = 'absolute';\r\n                    div.style.zIndex = '999';\r\n                    div.style.fontSize = '0.7rem';\r\n                    div.style.width = '150px';\r\n                    div.style.height = '110px';\r\n\r\n\r\n                    //div.style.top = event.originalEvent.pageY;\r\n                    //div.style.left = event.originalEvent.pageX;\r\n                    //div.style.top = event.originalEvent.pageY+'px';\r\n                    div.style.top = (event.originalEvent.pageY - 120) + 'px';\r\n                    div.style.left = (event.originalEvent.pageX - 65) + 'px';\r\n                    //div.style.left = posX+'px';\r\n                    div.style.display = 'block';\r\n                    //div.style.visibility = 'block';\r\n                    app.insertAdjacentElement(\"beforebegin\", div);\r\n                    //determina un margen de pixels del div al raton\r\n                    //div.insertAdjacentElement(\"beforebegin\", div1);\r\n                    //div.insertAdjacentElement(\"beforebegin\", div2);\r\n                    /* window.currentMouseX = e.pageX;\r\n                     window.currentMouseY = e.pageY;*/\r\n                    //La variable IE determina si estamos utilizando IE\r\n\r\n                    //Si no utilizamos IE capturamos el evento del mouse\r\n\r\n\r\n                    /*var tempX = 0;\r\n                    var tempY = 0;\r\n\r\n                    //if (IE) { //para IE\r\n                        tempX = event.clientX + document.body.scrollLeft;\r\n                        tempY = event.clientY + document.body.scrollTop;*/\r\n                    /*} else { //para netscape\r\n                        tempX = event.pageX;\r\n                        tempY = event.pageY;\r\n                    }\r\n                    if (tempX < 0) { tempX = 0; }\r\n                    if (tempY < 0) { tempY = 0; }*/\r\n\r\n                    //modificamos el valor del id \"posicion\" para indicar la posicion del mouse\r\n                    //document.getElementById('posicion').innerHTML = \"PosX = \" + tempX + \" | PosY = \" + tempY;\r\n\r\n                    /*document.getElementById('flotante').style.top = tempY;\r\n                    document.getElementById('flotante').style.left = tempX;\r\n                    document.getElementById('flotante').style.display = 'block';*/\r\n\r\n\r\n\r\n\r\n                    /*if (event.hovering && currAppState.dbId2DeviceIdMap) {\r\n                        const deviceId = currAppState.dbId2DeviceIdMap[event.dbId];\r\n                        const device = currAppState.session.dataStore.getDevice(deviceId);\r\n        \r\n                        if (device) {\r\n                            const position = device.position;\r\n                            const mappedPosition = currAppState.viewer.impl.worldToClient(position);\r\n        \r\n                            // Accounting for vertical offset of viewer container.\r\n                            const vertificalOffset = event.originalEvent.clientY - event.originalEvent.offsetY;\r\n        \r\n                            setHoveredDeviceInfo({\r\n                                id: deviceId,\r\n                                xcoord: mappedPosition.x,\r\n                                ycoord: mappedPosition.y + vertificalOffset - SpriteSize / viewer.getWindow().devicePixelRatio,\r\n                            });\r\n                        }\r\n                    } else {\r\n                        if (hoveredDeviceInfoRef.current && hoveredDeviceInfoRef.current.id != null) {\r\n                            setHoveredDeviceInfo({});\r\n                        }\r\n                    }*/\r\n                    //const positionx = event.originalEvent.clientX;\r\n                    //const positiony = event.originalEvent.clientY;\r\n                    /* var hitTest = this.viewer.clientToWorld(event.originalEvent.clientX, event.originalEvent.clientY, true);\r\n                     if (hitTest) {\r\n                         let x = hitTest.point.x;\r\n                         let y = hitTest.point.y;\r\n                         let z = hitTest.point.z;\r\n                     }*/\r\n\r\n\r\n                    /*var screenPoint = {\r\n                        x: event.clientX,\r\n                        y: event.clientY\r\n                    };\r\n        \r\n                    //get the selected 3D position of the object\r\n        \r\n                    //viewer canvas might have offset from the webpage.\r\n        \r\n                    let viewer_pos = viewer.container.getBoundingClientRect();\r\n                    var hitTest = viewer.impl.hitTest(screenPoint.x - viewer_pos.x,\r\n                        screenPoint.y - viewer_pos.y, true);\r\n        \r\n                    if (hitTest) {\r\n                        alert(hitTest.intersectPoint.x+\" \"+hitTest.intersectPoint.y);\r\n                        /*drawPushpin({\r\n                            x: hitTest.intersectPoint.x,\r\n                            y: hitTest.intersectPoint.y,\r\n                            z: hitTest.intersectPoint.z\r\n                        });*/\r\n                    //}\r\n\r\n\r\n\r\n                    //const mappedPosition = viewer.impl.worldToClient(position);\r\n\r\n                }\r\n\r\n                //alert('show');\r\n            }\r\n\r\n            const DataVizCore = Autodesk.DataVisualization.Core;\r\n            // viewer.addEventListener(DataVizCore.MOUSE_CLICK, onItemClick);\r\n\r\n            //viewer.addEventListener(DataVizCore.MOUSE_HOVERING, onItemHovering);\r\n\r\n\r\n        }\r\n\r\n        function init22() {\r\n            //delegate the mouse click event\r\n            $(viewer.container).bind(\"click\", onMouseClick);\r\n            //delegate the event of CAMERA_CHANGE_EVENT\r\n            viewer.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT, function (rt) {\r\n                //find out all pushpin markups\r\n                var $eles = $(\"div[id^='mymk']\");\r\n                var DOMeles = $eles.get();\r\n                for (var index in DOMeles) {\r\n                    //get each DOM element\r\n                    var DOMEle = DOMeles[index];\r\n                    var divEle = $('#' + DOMEle.id);\r\n                    //get out the 3D coordination\r\n                    var val = divEle.data('3DData');\r\n                    var pushpinModelPt = JSON.parse(val);\r\n                    //get the updated screen point\r\n                    var screenpoint = viewer.worldToClient(new THREE.Vector3(\r\n                        pushpinModelPt.x,\r\n                        pushpinModelPt.y,\r\n                        pushpinModelPt.z));\r\n                    //update the SVG position.\r\n                    divEle.css({\r\n                        'left': screenpoint.x - pushpinModelPt.radius * 2,\r\n                        'top': screenpoint.y - pushpinModelPt.radius\r\n                    });\r\n                }\r\n            });\r\n        }\r\n\r\n        function onMouseClick(event) {\r\n            /*if (ponerdato){\r\n\r\n                var screenPoint = {\r\n                    x: event.clientX,\r\n                    y: event.clientY\r\n                };\r\n    \r\n                //get the selected 3D position of the object\r\n    \r\n                //viewer canvas might have offset from the webpage.\r\n    \r\n                let viewer_pos = viewer.container.getBoundingClientRect();\r\n                var hitTest = viewer.impl.hitTest(screenPoint.x - viewer_pos.x,\r\n                    screenPoint.y - viewer_pos.y, true);\r\n    \r\n                if (hitTest) {\r\n                    drawPushpin({\r\n                        x: hitTest.intersectPoint.x,\r\n                        y: hitTest.intersectPoint.y,\r\n                        z: hitTest.intersectPoint.z\r\n                    });\r\n                }\r\n    \r\n\r\n            }*/\r\n        }\r\n\r\n        //generate a random id for each pushpin markup\r\n\r\n        function drawPushpin(pushpinModelPt) {\r\n\r\n            //convert 3D position to 2D screen coordination\r\n            var screenpoint = viewer.worldToClient(\r\n                new THREE.Vector3(pushpinModelPt.x,\r\n                    pushpinModelPt.y,\r\n                    pushpinModelPt.z));\r\n\r\n            //build the div container\r\n            //alert(pushpinModelPt.x + ' ' + pushpinModelPt.y);\r\n            devices.push(\r\n                {\r\n                    position: {\r\n                        x: pushpinModelPt.x,\r\n                        y: pushpinModelPt.y,\r\n                        z: pushpinModelPt.z,\r\n                    },\r\n                    type: \"temperature\",\r\n                    sensorTypes: [\"co2\", \"temperature\"],\r\n                });\r\n\r\n\r\n\r\n\r\n            onModelLoaded1(viewer);\r\n\r\n        }\r\n\r\n        const CargarPartidas = () => {\r\n            var DBids = viewer.getSelection();\r\n            var n = 0;\r\n            for (var uniqueId of DBids) {\r\n                //alert(uniqueId);\r\n                \r\n                var objSelected = viewer.getSelection()[0];\r\n                viewer.getProperties(objSelected, (props) => {\r\n                    var Idunico = props.externalId;\r\n                    //alert(Idunico);\r\n                    dispatch(selectParidas(Idunico));\r\n                    setTimeout(() => {\r\n\r\n                        console.log('Datos de Uniques en mi function');\r\n                        console.log(UniquesSel);\r\n                        console.log(props);\r\n                        var itemMenuContextual = $(\"#ItemMenuContextual\");\r\n                        var panel = itemMenuContextual.panel;\r\n                        //if (panel == null) {\r\n                        panel = new PanelBIM(viewer, viewer.container, 'PanelBIM', 'Mostrar Partidas');\r\n                        itemMenuContextual.panel = panel;\r\n                        //}\r\n                        var panelId = document.getElementById('PanelBIM');\r\n                        if (panelId != null) {\r\n                            panelId.style.display = \"block\";\r\n                        }\r\n                        var div1 = document.getElementById('ContenidoBIM');\r\n                        if (div1 != null) {\r\n                            var html = '<div style=\"height:320px;overflow:scroll;\"><Button class=\"btn btn-light clase2\" style=\"width:90%;\">'+'Elemento'+ props.name +'</Button>';\r\n                            //html = html + '<h2>' + Idunico + '<h2>';\r\n\r\n                            console.log(proyects.treePartyControl)\r\n                            console.log(proyects.treeSubControl)\r\n                            console.log(arreglo)\r\n\r\n                            for (let i = 0; i < UniquesSel.length; i++) {\r\n                                \r\n                                let datoP = arreglo.find((filtro1) => filtro1.Item.trim() === UniquesSel[i].Item.trim())\r\n                                let datoPres = proyects.treePartyControl.find((filtro1) => filtro1.CodPresupuesto.trim() === UniquesSel[i].CodPresupuesto.trim())\r\n                                let datoSub = proyects.treeSubControl.find((filtro1) => filtro1.CodSubpresupuesto.trim() === UniquesSel[i].CodSubpresupuesto.trim())\r\n\r\n                                console.log(datoP)\r\n                                console.log(datoPres)\r\n                                console.log(datoSub)\r\n    \r\n                                if (datoP && datoPres && datoSub)\r\n                                var html = html + '<Button class=\"btn btn-light clase2\" style=\"width:90%;\">'+' Presupuesto: '+ UniquesSel[i].CodPresupuesto.trim() + ' ' + datoPres?.Descripcion +\r\n                                    ' SubPresupuesto: '+ UniquesSel[i].CodPresupuesto.trim() + ' ' + datoSub?.Descripcion +' Partida: '+ UniquesSel[i].Item.trim() + ' ' + datoP?.Descripcion +'</Button>';                                        \r\n\r\n                                \r\n                                /*html = html + '<h2>Pres: ' + UniquesSel[i].CodPresupuesto + '<h2>';\r\n                                html = html + '<h2>Sub :' + UniquesSel[i].CodSubpresupuesto + '<h2>';\r\n                                html = html + '<h2>Item :' + UniquesSel[i].Item + '<h2>';*/\r\n                            }\r\n                            html = html + '</div>';\r\n                            div1.innerHTML = html;\r\n                        }\r\n                    }, 500);\r\n                    //T_uniqueIds.push(props.externalId);\r\n                })\r\n\r\n            }\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n        const CargarPartidas1 = () => {\r\n            var itemMenuContextual = $(\"#ItemMenuContextual\");\r\n            var panel1 = itemMenuContextual.panel;\r\n            //if (panel == null) {\r\n            panel1 = new PanelBIM1(viewer, viewer.container, 'PanelBIM1', 'Elementos asociados a Partidas');\r\n            itemMenuContextual.panel = panel1;\r\n            //}\r\n            //panel1.setVisible(true);\r\n            var panelId = document.getElementById('PanelBIM1');\r\n            if (panelId != null) {\r\n                panelId.style.display = \"block\";\r\n                \r\n            }\r\n            var cadenaaux =\"\";\r\n            var div1 = document.getElementById('ContenidoBIM1');\r\n            if (div1 != null) {\r\n                var html = '<div style=\"height:320px;overflow:scroll;\"><input type=\"text\" id=\"name\" placeholder=\"Buscar..\" class=\"clase3\" style=\"width:70%;\"/>'+''+\r\n                '<Button class=\"btn btn-light clase4\" style=\"width:16%;position:absolute;height:12px\">'+'Buscar'+'</Button>';\r\n                html = html + '<Button class=\"btn btn-light clase1\" style=\"width:90%;\">'+'TODAS LAS PARTIDAS'+'</Button>';\r\n                //alert('ahorita se ejecuta '+ arreglo.length)\r\n                //var filtro = dataPart.current.filter((filtro1) => filtro1.CantidadMetrado !== null && filtro1.CantidadMetrado !== 0 && filtro1.CodSubpresupuesto === proyects.Sub_sel).sort((a, b) => a.Secuencial - b.Secuencial)\r\n                for (let i=0;i<arreglo.length;i++){\r\n                    cadenaaux=cadenaaux+'<Button id=\"bt-' + i + '\" class=\"btn btn-ligth clase1\" style=\"width:90%;\">'+arreglo[i].Descripcion+'</Button>';\r\n                }\r\n                //console.log(filtro)\r\n                cadenaaux=cadenaaux+'<Button class=\"btn btn-ligth clase1\" style=\"width:90%;\">'+'INVERTIR SELECCION'+'</Button>';\r\n                console.log(arreglo)\r\n                html=html+cadenaaux+'</div>';\r\n\r\n                /*for (let i = 0; i < UniquesSel.length; i++) {\r\n                    html = html + '<h2>Pres: ' + UniquesSel[i].CodPresupuesto + '<h2>';\r\n                    html = html + '<h2>Sub :' + UniquesSel[i].CodSubpresupuesto + '<h2>';\r\n                    html = html + '<h2>Item :' + UniquesSel[i].Item + '<h2>';\r\n                }*/\r\n                div1.innerHTML = html;\r\n            }\r\n            //alert(html)\r\n            /*function selecciona1(dato) {\r\n                alert(dato);\r\n            }*/\r\n            \r\n            $(\".clase4\").on( \"click\", function() {\r\n                //$(\"#bt-0\").hide();\r\n                $(\"#bt-\"+0).hide();\r\n                //alert($(\"#name\").val());\r\n\r\n                for (let i=0;i<arreglo.length;i++){\r\n                    if (!arreglo[i].Descripcion.toUpperCase().includes($(\"#name\").val().toUpperCase()))\r\n                        $(\"#bt-\"+i).hide();\r\n                    else\r\n                        $(\"#bt-\"+i).show();\r\n                \r\n                    //cadenaaux=cadenaaux+'<Button id=\"bt-' + i + '\" class=\"btn btn-ligth clase1\" style=\"width:90%;\">'+arreglo[i].Descripcion+'</Button>';\r\n                }\r\n            })\r\n\r\n            $(\".clase1\").on( \"click\", function() {\r\n                //alert($( this ).text());\r\n                //$( this ).css('background', 'blue');\r\n                dispatch(limpiaElementosItems());\r\n                cantidadM=0;\r\n\r\n                if ($(this).text() === 'INVERTIR SELECCION') {\r\n                    //highlightRevit('122eee');\r\n\r\n                    let timerInterval\r\n                    Swal.fire({\r\n                        title: 'Obteniedo datos...!',\r\n                        html: 'Invirtiendo Seleccion actual <b></b> .',\r\n                        timer: Arreglo1?.length,\r\n                        timerProgressBar: true,\r\n                        didOpen: () => {\r\n                            Swal.showLoading()\r\n                            const b = Swal.getHtmlContainer().querySelector('b')\r\n                            timerInterval = setInterval(() => {\r\n                            //b.textContent = Swal.getTimerLeft().toString()\r\n                            }, Arreglo1.length)\r\n                        },\r\n                        willClose: () => {\r\n                            clearInterval(timerInterval)\r\n                        }\r\n                        }).then((result) => {\r\n                        /* Read more about handling dismissals below */\r\n                        if (result.dismiss === Swal.DismissReason.timer) {\r\n                            //console.log('I was closed by the timer')\r\n                        }\r\n                        })\r\n\r\n\r\n\r\n                    /*console.log(Arreglo1)\r\n                    console.log(Arreglo2)*/\r\n                    viewer.clearSelection();\r\n                        var UniquesSeleccionar2 = '';\r\n                        for (let i = 0; i < Arreglo1.length; i++) {\r\n                            //UniquesSeleccionar.push(proyects.DataElementosItems[i].UniqueId);\r\n                            if (Arreglo1[i].Tipo !== 'sin tipo'){\r\n                                var filtrop = Arreglo2.find((filtro1) => filtro1.UniqueId.trim() === Arreglo1[i].UniqueId.trim());\r\n                                if (!filtrop){\r\n                                    UniquesSeleccionar2 = Arreglo1[i].UniqueId + ',' + UniquesSeleccionar2;\r\n                                    //console.log('no encontro')\r\n                                    \r\n                                }\r\n    \r\n\r\n                            }\r\n                        }\r\n                        setTimeout(() => {\r\n                            highlightRevit(UniquesSeleccionar2);    \r\n                           // console.log(UniquesSeleccionar2)\r\n                        }, 6800);\r\n                        \r\n                        \r\n                        return;\r\n\r\n                }\r\n\r\n                if ($(this).text() === 'TODAS LAS PARTIDAS') {\r\n                    ejecuantando = 0;\r\n                    for (let i = 0; i < arreglo.length; i++) {\r\n                        dispatch(selectELEMENTOS_METRADOS(arreglo[i].CodPresupuesto, arreglo[i].CodSubpresupuesto, arreglo[i].Item, ''));\r\n                        cantidadM += parseInt(arreglo[i].CantidadMetrado);\r\n                        //alert(arreglo[i].CodPresupuesto)\r\n                    }\r\n    \r\n                }else{\r\n                    ejecuantando=0;\r\n                    var filtro = arreglo.find((filtro1) => filtro1.Descripcion === $( this ).text())\r\n                    if (filtro){\r\n                        //(CodPres, CodSubP, CodItem, userId)\r\n                        dispatch(selectELEMENTOS_METRADOS(filtro.CodPresupuesto,filtro.CodSubpresupuesto,filtro.Item,''));\r\n                        cantidadM=filtro.CantidadMetrado;\r\n                    }\r\n                }\r\n\r\n                //$(\"#sel_familia\").html($( this ).text());\r\n            \r\n            });\r\n\r\n           /*var DBids = viewer.getSelection();\r\n            var n = 0;\r\n            for (var uniqueId of DBids) {\r\n                //alert(uniqueId);\r\n\r\n                var objSelected = viewer.getSelection()[0];\r\n                viewer.getProperties(objSelected, (props) => {\r\n                    var Idunico = props.externalId;\r\n                    //alert(Idunico);\r\n                    dispatch(selectParidas(Idunico));\r\n                    setTimeout(() => {\r\n\r\n                        console.log('Datos de Uniques en mi function');\r\n                        console.log(UniquesSel);\r\n\r\n                        var itemMenuContextual = $(\"#ItemMenuContextual\");\r\n                        var panel = itemMenuContextual.panel;\r\n                        //if (panel == null) {\r\n                        panel = new PanelBIM(viewer, viewer.container, 'PanelBIM', 'Partidas asociadas');\r\n                        itemMenuContextual.panel = panel;\r\n                        //}\r\n                        var panelId = document.getElementById('PanelBIM');\r\n                        if (panelId != null) {\r\n                            panelId.style.display = \"block\";\r\n                        }\r\n                        var div1 = document.getElementById('ContenidoBIM');\r\n                        if (div1 != null) {\r\n                            var html = '<h2>' + Idunico + '<h2>';\r\n\r\n                            for (let i = 0; i < UniquesSel.length; i++) {\r\n                                html = html + '<h2>Pres: ' + UniquesSel[i].CodPresupuesto + '<h2>';\r\n                                html = html + '<h2>Sub :' + UniquesSel[i].CodSubpresupuesto + '<h2>';\r\n                                html = html + '<h2>Item :' + UniquesSel[i].Item + '<h2>';\r\n                            }\r\n                            div1.innerHTML = html;\r\n                        }\r\n                    }, 500);\r\n                    //T_uniqueIds.push(props.externalId);\r\n                })\r\n\r\n            }*/\r\n\r\n\r\n        }\r\n\r\n        \r\n        const CargarPartidas2 = () => {\r\n                dispatch(limpiaElementosItems());\r\n                cantidadM=0;               \r\n                    ejecuantando=0;\r\n                    for (let i=0;i<arreglo.length;i++){\r\n                        dispatch(selectELEMENTOS_METRADOS(arreglo[i].CodPresupuesto,arreglo[i].CodSubpresupuesto,arreglo[i].Item,''));\r\n                        cantidadM+=parseInt(arreglo[i].CantidadMetrado);\r\n                        //alert(arreglo[i].CodPresupuesto)\r\n                    }\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        function PanelBIM(viewer, container, id, title, options = '') {\r\n            this.viewer = viewer;\r\n            Autodesk.Viewing.UI.DockingPanel.call(this, container, id, title, options);\r\n            //Autodesk.Viewing.UI.ModelStructurePanel\r\n            // Style para docking panel\r\n            this.container.classList.add('docking-panel-container-solid-color-a');\r\n            this.container.style.top = \"50px\";\r\n            this.container.style.left = \"90px\";\r\n            //this.container.style.width = \"auto\";\r\n            //this.container.style.height = \"auto\";\r\n            this.container.style.width = \"350px\";\r\n            this.container.style.height = \"350px\";\r\n\r\n            this.container.style.resize = \"auto\";\r\n\r\n            // creamos un div para contener el panel\r\n            var div = document.createElement('div');\r\n            div.style.margin = '5px';\r\n            div.id = \"ContenidoBIM\";\r\n            div.innerText = \"Mi contenido\";\r\n            this.container.appendChild(div);\r\n            // añadiremos elementos después\r\n        }\r\n        PanelBIM.prototype = Object.create(Autodesk.Viewing.UI.DockingPanel.prototype);\r\n        PanelBIM.prototype.constructor = PanelBIM;\r\n\r\n\r\n        function PanelBIM1(viewer, container, id, title, options = '') {\r\n            this.viewer = viewer;\r\n            Autodesk.Viewing.UI.DockingPanel.call(this, container, id, title, options);\r\n            //Autodesk.Viewing.UI.ModelStructurePanel\r\n            // Style para docking panel\r\n            this.container.classList.add('docking-panel-container-solid-color-a');\r\n            this.container.style.top = \"40px\";\r\n            this.container.style.left = \"20px\";\r\n            //this.container.style.width = \"auto\";\r\n            //this.container.style.height = \"auto\";\r\n            this.container.style.width = \"350px\";\r\n            this.container.style.height = \"350px\";\r\n\r\n            this.container.style.resize = \"auto\";\r\n\r\n            // creamos un div para contener el panel\r\n            var div = document.createElement('div');\r\n            div.style.margin = '5px';\r\n            div.id = \"ContenidoBIM1\";\r\n            div.innerText = \"Mi contenido\";\r\n            this.container.appendChild(div);\r\n            // añadiremos elementos después\r\n        }\r\n        PanelBIM1.prototype = Object.create(Autodesk.Viewing.UI.DockingPanel.prototype);\r\n        PanelBIM1.prototype.constructor = PanelBIM1;\r\n\r\n\r\n\r\n        class MenuContextual extends Autodesk.Viewing.Extension {\r\n            constructor(viewer, options) {\r\n                super(viewer, options);\r\n                this.onCreacionContextualMenuItem = this.onCreacionContextualMenuItem.bind(this);\r\n            }\r\n\r\n            get menuId() {\r\n                return 'ItemMenuContextual';\r\n            }\r\n\r\n            onCreacionContextualMenuItem(menu, status) {\r\n                if (status.hasSelected) {\r\n                    if (viewer.getSelection().length > 0) {\r\n                        menu.push(\r\n                            {\r\n                                title: 'Mostrar partidas asociadas a este elemento',\r\n                                target: () => {\r\n                                    //BuscarNombreImagen(function callback(miNameImagen) {\r\n                                    //if (!miNameImagen.includes('<')) {\r\n                                    //CrearPanel(miNameImagen);\r\n                                    //CrearPanel('doc1.pdf');\r\n                                    CargarPartidas();\r\n                                    //carga2();\r\n                                    //}\r\n                                    //});\r\n                                }\r\n\r\n                            },\r\n                            /*{\r\n                                title: 'Añadir una comentario',\r\n                                target: () => {\r\n                                    //BuscarNombreImagen(function callback(miNameImagen) {\r\n                                    //if (!miNameImagen.includes('<')) {\r\n                                    //CrearPanel(miNameImagen);\r\n                                    //CrearPanel('doc1.pdf');\r\n                                    //carga2();\r\n                                    //}\r\n                                    //});\r\n                                }\r\n\r\n                            },*/\r\n                            {\r\n                                title: 'Cargar Categoria de elemento a Partida actual',\r\n                                target: () => {\r\n                                    \r\n                                    if (!ItemAc || ItemAc?.Unidad===null){\r\n                                        Swal.fire({\r\n                                            title: 'Error!',\r\n                                            text: 'No está seleccionado en una Partida',\r\n                                            icon: 'error',\r\n                                            confirmButtonText: 'Ok'\r\n                                        })                    \r\n                                        return;\r\n                                    }\r\n\r\n\r\n                                    var Categoria = '';\r\n                                    var Tipo = '';\r\n                                    var Familia = '';\r\n                                    var DBids = viewer.getSelection();\r\n                                    var n = 0;\r\n                                    for (var uniqueId of DBids) {\r\n                                        var objSelected = viewer.getSelection()[n];\r\n                                        n = n + 1;\r\n                                        this.viewer.getProperties(objSelected, (props) => {\r\n                                            Familia=props.name.substring(0,props.name.length-9);\r\n                                            var enc = 0;\r\n                                            for (var Propiedad of props.properties) {\r\n                                                if (Propiedad.displayName === 'Nombre de tipo') {\r\n                                                    //T_TipoT.push(Propiedad.displayValue);\r\n                                                    //alert(Propiedad.displayValue);\r\n                                                    Tipo=Propiedad.displayValue;\r\n                                                    enc = 1;\r\n                                                }\r\n                                                if (Propiedad.displayName === 'Category') {\r\n                                                    //alert(Propiedad.displayValue.substring(6,Propiedad.displayValue.length));\r\n                                                    Categoria=Propiedad.displayValue.substring(6,Propiedad.displayValue.length);\r\n                                                }\r\n                                            }\r\n                                            if (enc===0) {\r\n                                                //T_TipoT.push('sin tipo');\r\n                                                Tipo='sin tipo';\r\n                                            }\r\n                                            //item\r\n                                            //alert(ItemAc?.Descripcion);\r\n                                            //dispatch(guardarAsociado(ItemAc?.CodPresupuesto,ItemAc?.CodSubpresupuesto,ItemAc?.Item,getRandomString(24),Categoria,e.data.Familia,e.data.Tipo,e.data.CampoFiltro,agre+e.data.Valor,''));\r\n                                            dispatch(guardarAsociado(ItemAc?.CodPresupuesto,ItemAc?.CodSubpresupuesto,ItemAc?.Item,getRandomString(24),Categoria,'','','','',''));\r\n                                            dispatch(limpiaAsociado());\r\n                                            setTimeout(() => {\r\n                                                dispatch(selectAsociados(ItemAc?.CodPresupuesto, ItemAc?.CodSubpresupuesto, ItemAc?.Item, ''));\r\n                                            }, 400);\r\n\r\n                                            if (n == DBids.length) {\r\n                                                console.log('Estas son las props', props);\r\n                                                //9c9538fd-af40-4b3d-bd89-f8e4acac1fd8-000525ae\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n                            },\r\n                            {\r\n                                title: 'Cargar la Familia de elemento a Partida actual',\r\n                                target: () => {\r\n                                    \r\n                                    if (!ItemAc || ItemAc?.Unidad===null){\r\n                                        Swal.fire({\r\n                                            title: 'Error!',\r\n                                            text: 'No está seleccionado en una Partida',\r\n                                            icon: 'error',\r\n                                            confirmButtonText: 'Ok'\r\n                                        })                    \r\n                                        return;\r\n                                    }\r\n                                    \r\n                                    var Categoria = '';\r\n                                    var Tipo = '';\r\n                                    var Familia = '';\r\n                                    var DBids = viewer.getSelection();\r\n                                    var n = 0;\r\n                                    for (var uniqueId of DBids) {\r\n                                        var objSelected = viewer.getSelection()[n];\r\n                                        n = n + 1;\r\n                                        this.viewer.getProperties(objSelected, (props) => {\r\n                                            Familia=props.name.substring(0,props.name.length-9);\r\n                                            var enc = 0;\r\n                                            for (var Propiedad of props.properties) {\r\n                                                if (Propiedad.displayName === 'Nombre de tipo') {\r\n                                                    //T_TipoT.push(Propiedad.displayValue);\r\n                                                    //alert(Propiedad.displayValue);\r\n                                                    Tipo=Propiedad.displayValue;\r\n                                                    enc = 1;\r\n                                                }\r\n                                                if (Propiedad.displayName === 'Category') {\r\n                                                    //alert(Propiedad.displayValue.substring(6,Propiedad.displayValue.length));\r\n                                                    Categoria=Propiedad.displayValue.substring(6,Propiedad.displayValue.length);\r\n                                                }\r\n                                            }\r\n                                            if (enc===0) {\r\n                                                //T_TipoT.push('sin tipo');\r\n                                                Tipo='sin tipo';\r\n                                            }\r\n                                            //item\r\n                                            //alert(ItemAc?.Descripcion);\r\n                                            //dispatch(guardarAsociado(ItemAc?.CodPresupuesto,ItemAc?.CodSubpresupuesto,ItemAc?.Item,getRandomString(24),Categoria,e.data.Familia,e.data.Tipo,e.data.CampoFiltro,agre+e.data.Valor,''));\r\n                                            dispatch(guardarAsociado(ItemAc?.CodPresupuesto,ItemAc?.CodSubpresupuesto,ItemAc?.Item,getRandomString(24),Categoria,Familia,'','','',''));\r\n                                            dispatch(limpiaAsociado());\r\n                                            setTimeout(() => {\r\n                                                dispatch(selectAsociados(ItemAc?.CodPresupuesto, ItemAc?.CodSubpresupuesto, ItemAc?.Item, ''));\r\n                                            }, 400);\r\n\r\n\r\n                                            if (n == DBids.length) {\r\n                                                console.log('Estas son las props', props);\r\n                                                //9c9538fd-af40-4b3d-bd89-f8e4acac1fd8-000525ae\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n                            },\r\n                            {\r\n                                title: 'Cargar el Tipo de elemento a Partida actual',\r\n                                target: () => {\r\n                                    if (!ItemAc || ItemAc?.Unidad===null){\r\n                                        Swal.fire({\r\n                                            title: 'Error!',\r\n                                            text: 'No está seleccionado en una Partida',\r\n                                            icon: 'error',\r\n                                            confirmButtonText: 'Ok'\r\n                                        })                    \r\n                                        return;\r\n                                    }\r\n\r\n\r\n                                    var Categoria = '';\r\n                                    var Tipo = '';\r\n                                    var Familia = '';\r\n                                    var DBids = viewer.getSelection();\r\n                                    var n = 0;\r\n                                    for (var uniqueId of DBids) {\r\n                                        var objSelected = viewer.getSelection()[n];\r\n                                        n = n + 1;\r\n                                        this.viewer.getProperties(objSelected, (props) => {\r\n                                            Familia=props.name.substring(0,props.name.length-9);\r\n                                            var enc = 0;\r\n                                            for (var Propiedad of props.properties) {\r\n                                                if (Propiedad.displayName === 'Nombre de tipo') {\r\n                                                    //T_TipoT.push(Propiedad.displayValue);\r\n                                                    //alert(Propiedad.displayValue);\r\n                                                    Tipo=Propiedad.displayValue;\r\n                                                    enc = 1;\r\n                                                }\r\n                                                if (Propiedad.displayName === 'Category') {\r\n                                                    //alert(Propiedad.displayValue.substring(6,Propiedad.displayValue.length));\r\n                                                    Categoria=Propiedad.displayValue.substring(6,Propiedad.displayValue.length);\r\n                                                }\r\n                                            }\r\n                                            if (enc===0) {\r\n                                                //T_TipoT.push('sin tipo');\r\n                                                Tipo='sin tipo';\r\n                                            }\r\n                                            //item\r\n                                            //alert(ItemAc?.Descripcion);\r\n                                            //dispatch(guardarAsociado(ItemAc?.CodPresupuesto,ItemAc?.CodSubpresupuesto,ItemAc?.Item,getRandomString(24),Categoria,e.data.Familia,e.data.Tipo,e.data.CampoFiltro,agre+e.data.Valor,''));\r\n                                            dispatch(guardarAsociado(ItemAc?.CodPresupuesto,ItemAc?.CodSubpresupuesto,ItemAc?.Item,getRandomString(24),Categoria,Familia,Tipo,'','',''));\r\n\r\n                                            dispatch(limpiaAsociado());\r\n                                            setTimeout(() => {\r\n                                                dispatch(selectAsociados(ItemAc?.CodPresupuesto, ItemAc?.CodSubpresupuesto, ItemAc?.Item, ''));\r\n                                            }, 400);\r\n                                                \r\n                        \r\n\r\n                                            if (n == DBids.length) {\r\n                                                console.log('Estas son las props', props);\r\n                                                //9c9538fd-af40-4b3d-bd89-f8e4acac1fd8-000525ae\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                                /*title: 'Agregar a seleccion',\r\n                                target: () => {\r\n                                    var uniqueIds = [];\r\n                                    var categorias = [];\r\n                                    var NombreT = [];\r\n                                    var TipoT = [];\r\n                                    T_cantidad_elementos = 0;\r\n\r\n                                    T_uniqueIds = [];\r\n                                    T_NombreT = [];\r\n                                    T_categorias = [];\r\n                                    T_TipoT = [];\r\n\r\n\r\n                                    var DBids = viewer.getSelection();\r\n                                    var n = 0;\r\n                                    for (var uniqueId of DBids) {\r\n                                        var objSelected = viewer.getSelection()[n];\r\n                                        n = n + 1;\r\n                                        this.viewer.getProperties(objSelected, (props) => {\r\n                                            uniqueIds.push(props.externalId);\r\n                                            T_uniqueIds.push(props.externalId);\r\n\r\n                                            //alert(props.name+\" \"+props.properties[0].displayValue+\" \"+props.properties[45].displayValue);   \r\n\r\n                                            T_NombreT.push(props.name);\r\n                                            T_categorias.push(props.properties[0].displayValue);\r\n\r\n\r\n                                            // Buscar en el arreglo la proiedad \"Nombre de tipo\"\r\n                                            //var T_TipoT = [];\r\n                                            T_cantidad_elementos++;\r\n                                            var enc = 0;\r\n                                            for (var Propiedad of props.properties) {\r\n                                                if (Propiedad.displayName === 'Nombre de tipo') {\r\n                                                    T_TipoT.push(Propiedad.displayValue);\r\n                                                    enc = 1;\r\n                                                }\r\n                                            }\r\n                                            if (!enc) {\r\n                                                T_TipoT.push('sin tipo');\r\n                                            }\r\n\r\n\r\n\r\n                                            if (n == DBids.length) {\r\n                                                //callbackObj.showMessage(uniqueIds);\r\n                                                //callbackObj.returnex(uniqueIds);\r\n                                                //alert(uniqueIds);\r\n                                                seleccionados = uniqueIds.toString();\r\n                                                //seleccionadosCat=\"\", seleccionadosFamilia=\"\", seleccionadosTipo=\"\"; \r\n\r\n                                                console.log('Estas son las props', props);\r\n                                                //9c9538fd-af40-4b3d-bd89-f8e4acac1fd8-000525ae\r\n                                            }\r\n                                        })\r\n                                    }\r\n                                }\r\n                            },\r\n                            {\r\n                                title: 'Mostrar Partidas Asociadas',\r\n                                target: () => {\r\n                                    //BuscarNombreImagen(function callback(miNameImagen) {\r\n                                    //if (!miNameImagen.includes('<')) {\r\n                                    //CrearPanel(miNameImagen);\r\n                                    CargarPartidas();\r\n                                    //CrearPanel('doc1.pdf');\r\n                                    //carga2();\r\n                                    //}\r\n                                    //});\r\n                                }\r\n\r\n                            },\r\n                            {\r\n                                title: 'Cargar a Partida...',\r\n                                target: () => {\r\n                                    //BuscarNombreImagen(function callback(miNameImagen) {\r\n                                    //if (!miNameImagen.includes('<')) {\r\n                                    //CrearPanel(miNameImagen);\r\n                                    CrearPanel('doc1.pdf');\r\n                                    //carga2();\r\n                                    //}\r\n                                    //});\r\n                                }\r\n\r\n                            }*/\r\n                        );\r\n                    }//cierro if getSelection()=1    \r\n\r\n                } else {\r\n\r\n\r\n                        menu.push(\r\n                        {\r\n                            title: 'Ver elementos asociados a Partidas',\r\n                            target: () => {\r\n                                opcSeleccionada=1;\r\n                                CargarPartidas1();\r\n\r\n\r\n                                /*var uniqueIds = [];\r\n                                var DBids = viewer.getSelection();\r\n                                var n = 0;\r\n                                for (var uniqueId of DBids) {\r\n                                    var objSelected = viewer.getSelection()[n];\r\n                                    n = n + 1;\r\n                                    this.viewer.getProperties(objSelected, (props) => {\r\n                                        uniqueIds.push(props.externalId);\r\n                                        if (n == DBids.length) {\r\n                                            //callbackObj.showMessage(uniqueIds);\r\n                                            //callbackObj.returnex(uniqueIds);\r\n                                            //alert(uniqueIds);\r\n                                            //console.log(\"Estas son las props \", props);\r\n                                            //9c9538fd-af40-4b3d-bd89-f8e4acac1fd8-000525ae\r\n                                        }\r\n                                    })\r\n                                }*/\r\n                            }\r\n                        }\r\n                        /*{\r\n                            title: 'Filtrar elementos sin asociación a Partidas',\r\n                            target: () => {\r\n                                opcSeleccionada=2;\r\n                                CargarPartidas2();\r\n                            }\r\n\r\n                        }*/\r\n                    );\r\n\r\n                    /*menu.push(\r\n                        {\r\n                            title: 'Ver Vínculos',\r\n                            target: () => {\r\n                                var uniqueIds = [];\r\n                                var DBids = viewer.getSelection();\r\n                                var n = 0;\r\n                                for (var uniqueId of DBids) {\r\n                                    var objSelected = viewer.getSelection()[n];\r\n                                    n = n + 1;\r\n                                    this.viewer.getProperties(objSelected, (props) => {\r\n                                        uniqueIds.push(props.externalId);\r\n                                        if (n == DBids.length) {\r\n                                            //callbackObj.showMessage(uniqueIds);\r\n                                            //callbackObj.returnex(uniqueIds);\r\n                                            //alert(uniqueIds);\r\n                                            //console.log(\"Estas son las props \", props);\r\n                                            //9c9538fd-af40-4b3d-bd89-f8e4acac1fd8-000525ae\r\n                                        }\r\n                                    })\r\n                                }\r\n                            }\r\n                        },\r\n                        {\r\n                            title: 'Cargar a Rubro',\r\n                            target: () => {\r\n                                //BuscarNombreImagen(function callback(miNameImagen) {\r\n                                //if (!miNameImagen.includes('<')) {\r\n                                //CrearPanel(miNameImagen);\r\n                                CrearPanel('doc1.pdf');\r\n\r\n                                //}\r\n                                //});\r\n                            }\r\n\r\n                        }\r\n                    );*/\r\n\r\n\r\n                }\r\n\r\n\r\n            }\r\n\r\n           \r\n\r\n            load() {\r\n                // Creación menu contextual item\r\n                this.viewer.registerContextMenuCallback(\r\n                    this.menuId,\r\n                    this.onCreacionContextualMenuItem\r\n                );\r\n                return true;\r\n            }\r\n\r\n            unload() {\r\n                // Borrado de todas los items\r\n                this.viewer.unregisterContextMenuCallback(this.menuId);\r\n                return true;\r\n            }\r\n\r\n        }\r\n        Autodesk.Viewing.theExtensionManager.registerExtension('MenuContextual', MenuContextual);\r\n\r\n\r\n        function getRandomString(length) {\r\n            var s = '';\r\n            do { s += Math.random().toString(36).substr(2); } while (s.length < length);\r\n            s = s.substr(0, length);\r\n            \r\n            return s;\r\n          }\r\n\r\n        function Botones(viewer, options) {\r\n            Autodesk.Viewing.Extension.call(this, viewer, options);\r\n            var _viewer = viewer;\r\n            var _this = this;\r\n            _this.load = function () {\r\n                createBotones();\r\n                return true;\r\n            };\r\n            _this.unload = function () {\r\n                deleteBotones();\r\n                return true;\r\n            };\r\n\r\n            function createBotones() {\r\n\r\n                var ctrlGroup = new Autodesk.Viewing.UI.ControlGroup(\r\n                    'LateralToolbar.ControlGroup'\r\n                );\r\n                createPanelButton(ctrlGroup);\r\n                // this.viewer.toolbar.addControl(ctrlGroup);\r\n\r\n                //Creo un nuevo toolbar\r\n                var toolbar = new Autodesk.Viewing.UI.ToolBar('toolbar-extension');\r\n                //Añado el ctrlGroup al toolbar\r\n                toolbar.addControl(ctrlGroup);\r\n                //Creo un nuevo <div> contenedor del toolbar\r\n                var toolbarDivHtml = '<div id=\"divToolbar\"> </div>';\r\n                //Añado el contenedor al viewer\r\n                $(_viewer.container).append(toolbarDivHtml);\r\n\r\n                // Doy stylo al <div>\r\n                $('#divToolbar').css({\r\n                    'top': 'calc(50% + 96px)',\r\n                    'left': '0%',\r\n                    'z-index': '100',\r\n                    'position': 'absolute'\r\n                });\r\n\r\n\r\n\r\n                //añado el toolbar al <div>\r\n\r\n                $('#divToolbar')[0].appendChild(toolbar.container);\r\n\r\n                $('#MostrarMapa').css({\r\n                    'background-color': 'rgba(255,255,255,0.85)',\r\n                    'border-radius': '25px',\r\n                    'color': 'rgba(1,1,1,0.80)'\r\n                });\r\n                $('#MostrarFoto').css({\r\n                    'background-color': 'rgba(255,255,255,0.85)',\r\n                    'border-radius': '25px',\r\n                    'color': 'rgba(1,1,1,0.80)'\r\n                });\r\n                $('#MostrarVideo').css({\r\n                    'background-color': 'rgba(255,255,255,0.85)',\r\n                    'border-radius': '25px',\r\n                    'color': 'rgba(1,1,1,0.80)'\r\n                });\r\n                $('#MostrarRecursos').css({\r\n                    'background-color': 'rgba(255,255,255,0.85)',\r\n                    'border-radius': '25px',\r\n                    'color': 'rgba(1,1,1,0.80)'\r\n                });\r\n                $('#MostrarPres').css({\r\n                    'background-color': 'rgba(255,255,255,0.85)',\r\n                    'border-radius': '25px',\r\n                    'color': 'rgba(1,1,1,0.80)'\r\n                });\r\n                $('#MostrarCrono').css({\r\n                    'background-color': 'rgba(255,255,255,0.85)',\r\n                    'border-radius': '25px',\r\n                    'color': 'rgba(1,1,1,0.80)'\r\n                });\r\n\r\n\r\n\r\n\r\n\r\n\r\n            }\r\n\r\n            function deleteBotones() {\r\n                $('#LateralToolbar.ControlGroup').remove();\r\n            }\r\n\r\n        };\r\n\r\n        Botones.prototype = Object.create(Autodesk.Viewing.Extension.prototype);\r\n        Botones.prototype.constructor = Botones;\r\n        Autodesk.Viewing.theExtensionManager.registerExtension('Botones', Botones);\r\n\r\n        // Creación de botones Mostrar mapa - mostrar fotos mostrar Video y mostrar Documento\r\n        function createPanelButton(ctrl) {\r\n            var buttonVerMapa = new Autodesk.Viewing.UI.Button('MostrarMapa');\r\n            buttonVerMapa.onClick = function (e) {\r\n                ponerdato = !ponerdato;\r\n                carga2();\r\n                //MostrarMapa('Mapa1.jpg');\r\n            };\r\n            ctrl.addControl(buttonVerMapa);\r\n            buttonVerMapa.setToolTip('Presupuestos');\r\n            buttonVerMapa.setIcon('adsk-icon-bug');\r\n            //buttonVerMapa.setIcon('nav-icon fab fa-accusoft');\r\n            //<i className=\"\"></i>\r\n            var buttonVerFotos = new Autodesk.Viewing.UI.Button('MostrarFoto');\r\n            buttonVerFotos.onClick = function (e) {\r\n                //MostrarFoto();\r\n            };\r\n            ctrl.addControl(buttonVerFotos);\r\n            buttonVerFotos.setToolTip('Cronograma');\r\n            buttonVerFotos.setIcon('adsk-icon-structure');\r\n\r\n            var buttonVerVideo = new Autodesk.Viewing.UI.Button('MostrarVideo');\r\n            buttonVerVideo.onClick = function (e) {\r\n                //MostrarVideo();\r\n            };\r\n            ctrl.addControl(buttonVerVideo);\r\n            buttonVerVideo.setToolTip('Recursos');\r\n            buttonVerVideo.setIcon('adsk-icon-layers');\r\n\r\n            var buttonVerRec = new Autodesk.Viewing.UI.Button('MostrarRecursos');\r\n            buttonVerRec.onClick = function (e) {\r\n                //MostrarMapa('Mapa1.jpg');\r\n            };\r\n            ctrl.addControl(buttonVerRec);\r\n            buttonVerRec.setToolTip('Avance');\r\n            buttonVerRec.setIcon('adsk-icon-section-analysis');\r\n\r\n            var buttonVerPres = new Autodesk.Viewing.UI.Button('MostrarPres');\r\n            buttonVerPres.onClick = function (e) {\r\n                //MostrarMapa('Mapa1.jpg');\r\n            };\r\n            ctrl.addControl(buttonVerPres);\r\n            buttonVerPres.setToolTip('Ver Incidencias');\r\n            buttonVerPres.setIcon('adsk-icon-measure-menu');\r\n\r\n            var buttonVerCrono = new Autodesk.Viewing.UI.Button('MostrarCrono');\r\n            buttonVerCrono.onClick = function (e) {\r\n                //MostrarMapa('Mapa1.jpg');\r\n            };\r\n            ctrl.addControl(buttonVerCrono);\r\n            buttonVerCrono.setToolTip('Planillas');\r\n            buttonVerCrono.setIcon('adsk-icon-settings-render');\r\n\r\n\r\n\r\n\r\n            /*var buttonVerDocumento = new Autodesk.Viewing.UI.Button('MostrarPDF');\r\n            buttonVerDocumento.onClick = function (e) {\r\n                createQualityIssues();\r\n            };\r\n            ctrl.addControl(buttonVerDocumento);\r\n            buttonVerDocumento.setToolTip('Ver documento');\r\n            buttonVerDocumento.setIcon('adsk-icon-bug');*/\r\n        }\r\n\r\n\r\n        function seleccionar_btn() {\r\n            //btn.addClass();\r\n            alert('hola');\r\n\r\n        }\r\n\r\n\r\n\r\n        function CrearPanel(imageName) {\r\n            imageName = \"doc2.pdf\";\r\n            var itemMenuContextual = $(\"#ItemMenuContextual\");\r\n            var panel = itemMenuContextual.panel;\r\n            //if (panel == null) {\r\n            panel = new PanelVacioBIM(viewer, viewer.container, 'PanelPropiedadesBIM', 'Cargar Rubros');\r\n            itemMenuContextual.panel = panel;\r\n            //}\r\n            var panelId = document.getElementById('PanelPropiedadesBIM');\r\n            if (panelId != null) {\r\n                panelId.style.display = \"block\";\r\n            }\r\n\r\n\r\n            var html = '<div class=\"docking-panel-container-solid-color-b settings-tabs docking-panel-delimiter-shadow\">' +\r\n                '<ul>' +\r\n                '<li id=\"ViewerSettingsPanel0-1-performancetab\" class=\"performance tabselected selectedmouseout\"><a>' +\r\n                '<span data-i18n=\"Configuration\">Rubros del Presupuesto</span></a>' +\r\n                '</li>' +\r\n                '<li id=\"ViewerSettingsPanel0-1-navigationtab\" class=\"navigation\"><a>' +\r\n                '<span data-i18n=\"Navigation\">Asignar Familias</span></a>' +\r\n                '</li>' +\r\n                '<li id=\"ViewerSettingsPanel0-1-appearance\" class=\"appearance\"><a>' +\r\n                '<span data-i18n=\"Appearance\">Elementos asinados</span></a>' +\r\n                '</li>' +\r\n                '<li id=\"ViewerSettingsPanel0-1-environment\" class=\"environment\"><a>' +\r\n                '<span data-i18n=\"Environment\">Programación</span></a>' +\r\n                '</li>' +\r\n                '</ul>' +\r\n                '</div>' +\r\n                '<div class=\"docking-panel-scroll docking-panel-container-solid-color-a right\"id=\"ViewerSettingsPanel0-1-scroll-container\" style=\"height: calc(100% - 110px);\">' +\r\n                '<div class=\"settings-tabs-tables-container\">' +\r\n                '<table id=\"ViewerSettingsPanel0-1-performancetab-table\" class=\"settings-table adsk-lmv-tftable performance settings-selected-table\">' +\r\n                '<tbody style=\"display: table; width: 100%;\">' +\r\n\r\n                '<tr class=\"logical-group\">' +\r\n                '<td colspan=\"3\">' +\r\n                '<div data-i18n=\"Performance Optimization\" style=\"margin-top:20px;\">Opcion 1' +\r\n                '</div>' +\r\n                '</td>' +\r\n                '</tr>' +\r\n\r\n\r\n                '<div class=\"btn-group\" style=\"margin-top:30px;\">' +\r\n                '<button type=\"button\" class=\"btn btn-outline-default\">Principal 3D</button>' +\r\n                '<button type=\"button\" class=\"btn btn-outline-secondary dropdown-toggle dropdown-icon\" data-toggle=\"dropdown\">' +\r\n                '<span class=\"sr-only\">Toggle Dropdown</span>' +\r\n                '</button>' +\r\n                '<div class=\"dropdown-menu\" role=\"menu\">' +\r\n                '<a class=\"dropdown-item\" href=\"#\">Action</a>' +\r\n                '<a class=\"dropdown-item\" href=\"#\">Another action</a>' +\r\n                '<a class=\"dropdown-item\" href=\"#\">Something else here</a>' +\r\n                '<div class=\"dropdown-divider\"></div>' +\r\n                '<a class=\"dropdown-item\" href=\"#\">Separated link</a>' +\r\n                '</div>' +\r\n                '</div>' +\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                '</tbody>' +\r\n                '</table>' +\r\n\r\n                '<table id=\"ViewerSettingsPanel0-1-navigationtab-table\" class=\"settings-table adsk-lmv-tftable navigation\">' +\r\n\r\n                '<tbody style=\"display: table; width: 100%;\">' +\r\n                '<tr class=\"logical-group\">' +\r\n                '<td colspan=\"3\">' +\r\n                '<div data-i18n=\"ViewCube\">Opcion 2</div>' +\r\n                '</td>' +\r\n                '</tr>' +\r\n\r\n                '</tbody>' +\r\n                '</table>' +\r\n\r\n\r\n                '</div>' +\r\n                '</div>';\r\n            var cont = 0;\r\n            var cadenaaux = \"\";\r\n\r\n            var cadenaaux1 = \"\";\r\n\r\n\r\n            for (var elem of T_NombreT) {\r\n                var separador = \"[\",\r\n                    arregloDeSubCadenas = elem.split(separador);\r\n                var separador1 = \"Revit\",\r\n                    arregloDeSubCadenas1 = T_categorias[cont].replace('Revit ', '');\r\n                cadenaaux = cadenaaux + '<a class=\"claseElemento list-group-item list-group-item-action active\" id=\"list-home-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\" style=\"width:90%;\">' + cont + '. ' + arregloDeSubCadenas1 + ' - ' + arregloDeSubCadenas[0] + ' ' + T_TipoT[cont] + '</a>';\r\n                cont++;\r\n            }\r\n\r\n\r\n\r\n\r\n\r\n\r\n            var procesadosCat = [];\r\n            var contar_procesados = 0, Indicador = 0;\r\n            var cont1 = 0;\r\n\r\n            for (var elem1 of T_NombreT) {\r\n                var arregloDeSubCadenas1 = T_categorias[cont1].replace('Revit ', '');\r\n                Indicador = 0;\r\n                for (var elem2 of procesadosCat) {\r\n                    if (elem2 === arregloDeSubCadenas1) {\r\n                        Indicador = 1;\r\n                    }\r\n                }\r\n                if (!Indicador) {\r\n                    cadenaaux1 = cadenaaux1 + '<a class=\"clase1 list-group-item list-group-item-action active\" id=\"list-home-list2\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\" style=\"width:75%;\">' + arregloDeSubCadenas1 + '</a>';\r\n                    procesadosCat.push(arregloDeSubCadenas1);\r\n                    contar_procesados++;\r\n                }\r\n                cont1++;\r\n            }\r\n\r\n\r\n\r\n            html =\r\n                '<nav>' +\r\n                '<div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\" style=\"background:rgba(0,0,0,0.5); color:white;\">' +\r\n                '<button class=\"nav-link\" id=\"nav-seleccion-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-home\" type=\"button\" role=\"tab\" aria-controls=\"nav-home\" aria-selected=\"true\" style=\"background:rgba(255,255,255,0.05); color:rgba(255,255,255,0.6);\">Elementos</button>' +\r\n                '<button class=\"nav-link active\" id=\"nav-profile-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-profile\" type=\"button\" role=\"tab\" aria-controls=\"nav-profile\" aria-selected=\"false\" style=\"background:rgba(255,255,255,0.05); color:rgba(255,255,255,0.6);\">Clasificados</button>' +\r\n                '<button class=\"nav-link\" id=\"nav-contact-tab\" onclick=\"alert(\"hola\")\" data-bs-toggle=\"tab\" data-bs-target=\"#nav-contact\" type=\"button\" role=\"tab\" aria-controls=\"nav-contact\" aria-selected=\"false\" style=\"background:rgba(255,255,255,0.05); color:rgba(255,255,255,0.6);\">Vinculos</button>' +\r\n                '</div>' +\r\n                '</nav>' +\r\n                '<div class=\"tab-content\" id=\"nav-tabContent\">' +\r\n\r\n\r\n                '<div class=\"tab-pane fade\" id=\"nav-seleccion\" role=\"tabpanel\" aria-labelledby=\"nav-home-tab\">Listado de elementos seleccionados' +\r\n\r\n                '<div class=\"row\">' +\r\n                '<div class=\"col-11\">' +\r\n                '<div class=\"list-group\" id=\"list-tab\" role=\"tablist\" style=\"height:450px; overflow:scroll;font-size:0.8rem;\">' +\r\n\r\n                cadenaaux +\r\n                //'<a class=\"list-group-item list-group-item-action active\" id=\"list-home-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\">Nombre </a>'+\r\n\r\n\r\n\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-profile-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-profile\">Profile</a>'+\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-messages-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-messages\">Messages</a>'+\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-settings-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-settings\">Settings</a>'+\r\n                '</div>' +\r\n                '</div>' +\r\n                /*'<div class=\"col-8\">'+\r\n                    '<div class=\"tab-content\" id=\"nav-tabContent\">'+\r\n                    '<div class=\"tab-pane fade show active\" id=\"list-home\" role=\"tabpanel\" aria-labelledby=\"list-home-list\">...</div>'+\r\n                    '<div class=\"tab-pane fade\" id=\"list-profile\" role=\"tabpanel\" aria-labelledby=\"list-profile-list\">...</div>'+\r\n                    '<div class=\"tab-pane fade\" id=\"list-messages\" role=\"tabpanel\" aria-labelledby=\"list-messages-list\">...</div>'+\r\n                    '<div class=\"tab-pane fade\" id=\"list-settings\" role=\"tabpanel\" aria-labelledby=\"list-settings-list\">...</div>'+\r\n                    '</div>'+\r\n                '</div>'+*/\r\n                '</div>' +\r\n\r\n                '</div>' +\r\n\r\n                '<div class=\"tab-pane fade show active\" id=\"nav-profile\" role=\"tabpanel\" aria-labelledby=\"nav-profile-tab\">Categorías, Familias y tipos seleccionadas' +\r\n\r\n\r\n                '<div class=\"row\">' +\r\n                '<div class=\"col-4\">' +\r\n                '<div class=\"list-group\" id=\"list-tab\" role=\"tablist\" style=\"height:400px; overflow:scroll;font-size:0.7rem;\">' +\r\n\r\n                cadenaaux1 +\r\n                //'<a class=\"list-group-item list-group-item-action active\" id=\"list-home-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\">Nombre </a>'+\r\n\r\n\r\n\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-profile-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-profile\">Profile</a>'+\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-messages-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-messages\">Messages</a>'+\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-settings-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-settings\">Settings</a>'+\r\n                '</div>' +\r\n                '</div>' +\r\n\r\n                '<div class=\"col-4\">' +\r\n                '<div class=\"list-group\" id=\"lista-tipos\" role=\"tablist\" style=\"height:400px; overflow:scroll;font-size:0.6rem;\">' +\r\n\r\n                //cadenaaux1+\r\n                //'<a class=\"list-group-item list-group-item-action active\" id=\"list-home-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\">Nombre </a>'+\r\n\r\n\r\n\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-profile-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-profile\">Profile</a>'+\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-messages-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-messages\">Messages</a>'+\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-settings-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-settings\">Settings</a>'+\r\n                '</div>' +\r\n                '</div>' +\r\n\r\n                '<div class=\"col-3\">' +\r\n                '<div class=\"list-group\" id=\"lista-tipos1\" role=\"tablist\" style=\"height:400px; overflow:scroll;\">' +\r\n\r\n                //cadenaaux1+\r\n                //'<a class=\"list-group-item list-group-item-action active\" id=\"list-home-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\">Nombre </a>'+\r\n\r\n\r\n\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-profile-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-profile\">Profile</a>'+\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-messages-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-messages\">Messages</a>'+\r\n                //'<a class=\"list-group-item list-group-item-action\" id=\"list-settings-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-settings\">Settings</a>'+\r\n                '</div>' +\r\n                '</div>' +\r\n\r\n                /*'<div class=\"col-8\">'+\r\n                    '<div class=\"tab-content\" id=\"nav-tabContent\">'+\r\n                    '<div class=\"tab-pane fade show active\" id=\"list-home\" role=\"tabpanel\" aria-labelledby=\"list-home-list\">...</div>'+\r\n                    '<div class=\"tab-pane fade\" id=\"list-profile\" role=\"tabpanel\" aria-labelledby=\"list-profile-list\">...</div>'+\r\n                    '<div class=\"tab-pane fade\" id=\"list-messages\" role=\"tabpanel\" aria-labelledby=\"list-messages-list\">...</div>'+\r\n                    '<div class=\"tab-pane fade\" id=\"list-settings\" role=\"tabpanel\" aria-labelledby=\"list-settings-list\">...</div>'+\r\n                    '</div>'+\r\n                '</div>'+*/\r\n\r\n\r\n                '</div>' +\r\n                '<div class=\"row\" style=\"height:15px;\">' +\r\n\r\n                '</div>' +\r\n                '<div class=\"row\">' +\r\n\r\n                //BOTONES\r\n                '<div class=\"col-9\">' +\r\n                '<button id=\"sel_cat\" type=\"button\" class=\"btn btn-primary\" style=\"font-size:0.6rem;\"></button>' +\r\n                '<button id=\"sel_familia\" type=\"button\" class=\"btn btn-secondary\" style=\"font-size:0.6rem;\"></button>' +\r\n\r\n                '</div>' +\r\n\r\n                '<div class=\"col-2\">' +\r\n                '<button type=\"button\" id=\"btn-siguiente-tipo\" class=\"btn btn-danger\" style=\"margin-left:20px;\">Siguiente</button>' +\r\n\r\n                '</div>' +\r\n\r\n\r\n                '</div>' +\r\n\r\n\r\n                '</div>' +\r\n\r\n\r\n                //DIV PARA SELECCIONAR UNA ASOCIACION\r\n                '<div class=\"tab-pane fade\" id=\"nav-contact\" role=\"tabpanel\" aria-labelledby=\"nav-contact-tab\">Asociar elementos para generación de cantidades ' +\r\n                '<div class=\"row\">' +\r\n                '<div class=\"col-11\">' +\r\n                '<button id=\"sel_cat1\" type=\"button\" class=\"btn btn-primary\" style=\"font-size:0.7rem;\">Categoria seleccionada</button>' +\r\n                '<button id=\"sel_familia1\" type=\"button\" class=\"btn btn-secondary\" style=\"font-size:0.6rem;\">Tipo seleccionado</button>' +\r\n                '</div>' +\r\n                '</div>' +\r\n\r\n                '<div class=\"row\" style=\"height:20px;\">' +\r\n                '</div>' +\r\n\r\n\r\n                '<div class=\"row\">' +\r\n                '<div class=\"col-3\">' +\r\n                '<ul class=\"list-group\">' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-outline-secondary btn-sm\">Contenedores</button></li>' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-outline-secondary btn-sm\">Unidad</button></li>' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-outline-secondary btn-sm\">Cantidad</button></li>' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-outline-secondary btn-sm\">Longitud</button></li>' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-outline-secondary btn-sm\">Ancho</button></li>' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-outline-secondary btn-sm\">Alto</button></li>' +\r\n                '</ul>' +\r\n\r\n                '</div>' +\r\n                //'<div class=\"col-1\">'+\r\n                //'</div>'+\r\n\r\n                '<div class=\"col-8\">' +\r\n                '<ul class=\"list-group\">' +\r\n                '<li class=\"list-group-item\"><button id=\"Mas_contenedores\" type=\"button\" class=\"btn btn-secondary btn-sm\">+</button></li>' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-secondary btn-sm\">+</button></li>' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-secondary btn-sm\">+</button></li>' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-secondary btn-sm\">+</button></li>' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-secondary btn-sm\">+</button></li>' +\r\n                '<li class=\"list-group-item\"><button id=\"\" type=\"button\" class=\"btn btn-secondary btn-sm\">+</button></li>' +\r\n                '</ul>' +\r\n                '</div>' +\r\n\r\n                '</div>' +\r\n\r\n                '<div class=\"row\" style=\"height:15px;\">' +//separacion del boton\r\n                '</div>' +\r\n\r\n                '<div class=\"row\">' +\r\n                '<div class=\"col-9\">' +\r\n                '</div>' +\r\n                '<div class=\"col-2\">' +\r\n                '<button type=\"button\" id=\"btn-siguiente-tipo\" class=\"btn btn-danger\" style=\"margin-left:20px;\">Siguiente</button>' +\r\n                '</div>' +\r\n\r\n\r\n                '</div>' +\r\n\r\n\r\n                '</div>' +\r\n                '</div>';\r\n\r\n\r\n            var ficheroJPG_a_txt = [\"\"];\r\n            //var html = '<div class=\"uicomponent-panel-controls-container\" >hola Mundo' + '</div>'\r\n\r\n            var div1 = document.getElementById('ContenidoPanelBIM');\r\n            if (div1 != null) {\r\n                div1.innerHTML = html;\r\n            }\r\n\r\n\r\n            $(\"#Mas_contenedores\").on(\"click\", function () {\r\n                // alert('abro mas');\r\n\r\n                //var panel1 = itemMenuContextual.panel;\r\n                //if (panel == null) {\r\n                var panel1 = new PanelIngresoDatosBIM(viewer, viewer.container, 'PanelIngresoBIM', 'Agregar contenedor');\r\n                //itemMenuContextual.panel = panel;\r\n                //}\r\n                var panelId = document.getElementById('PanelIngresoBIM');\r\n                if (panelId != null) {\r\n                    panelId.style.display = \"block\";\r\n                }\r\n\r\n\r\n                var html1 = '<div class=\"docking-panel-container-solid-color-b settings-tabs docking-panel-delimiter-shadow\">Seleccione una propiedad</div>';\r\n                var div11 = document.getElementById('ContenidoIngresoBIM');\r\n                if (div11 != null) {\r\n                    div11.innerHTML = html1;\r\n\r\n\r\n                }\r\n\r\n\r\n            });\r\n\r\n            $(\".clase1\").on(\"click\", function () {\r\n                //alert($( this ).text());\r\n                //alert($(\"#sel_cat\").text());\r\n                //$(\"#sel_cat\").prop('value', $( this ).text());\r\n                $(\"#sel_cat\").html($(this).text());\r\n                $(\"#sel_familia\").html('');\r\n\r\n\r\n                $(\"#sel_cat1\").html($(this).text());\r\n                $(\"#sel_familia1\").html('');\r\n\r\n                //$(\"#sel_cat\").text=$( this ).text();\r\n\r\n                //alert($( this ).text());\r\n                var estesel = $(this).text();\r\n                //$('#lista-tipos').text=\"hola\";\r\n                $(\".item_tipo\").remove();\r\n                $(\".item_tipodet\").remove();\r\n\r\n                var procesadosTipo = [];\r\n                var contar_procesadosTip = 0, IndicadorTip = 0;\r\n                var cont2 = 0;\r\n                var auxcadenamuestra = \"\";\r\n\r\n                for (var elem1 of T_NombreT) {\r\n                    var arregloDeSubCadenas1 = T_categorias[cont2].replace('Revit ', '');\r\n\r\n                    var separador = \"[\",\r\n                        arregloDeSubCadenas = elem1.split(separador);\r\n\r\n                    var este = arregloDeSubCadenas[0] + ' ' + T_TipoT[cont2];\r\n                    //cadenaaux=cadenaaux+'<a class=\"claseElemento list-group-item list-group-item-action active\" id=\"list-home-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\">'+cont+'. '+arregloDeSubCadenas1+' - '+arregloDeSubCadenas[0]+' '+T_TipoT[cont]+'</a>';\r\n                    //cont++;\r\n                    //que pertenezca a la categoría\r\n                    if (estesel === arregloDeSubCadenas1) {\r\n                        //alert(estesel+'==='+arregloDeSubCadenas1);    \r\n\r\n                        if (auxcadenamuestra == \"\") {\r\n                            auxcadenamuestra = T_uniqueIds[cont2];\r\n                        } else {\r\n                            auxcadenamuestra = auxcadenamuestra + ',' + T_uniqueIds[cont2];\r\n                        }\r\n\r\n                        IndicadorTip = 0;\r\n                        for (var elem2 of procesadosTipo) {\r\n                            if (elem2 === este) {\r\n                                IndicadorTip = 1;\r\n                            }\r\n                        }\r\n                        if (!IndicadorTip) {\r\n                            //cadenaaux1=cadenaaux1+'<a class=\"clase1 list-group-item list-group-item-action active\" id=\"list-home-list2\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\">'+este+'</a>';\r\n                            $('#lista-tipos').append('<a class=\"item_tipo list-group-item list-group-item-action active\" id=\"list-home-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\" style=\"width:70%;\">' + este + ' </a>');\r\n                            procesadosTipo.push(este);\r\n                            contar_procesadosTip++;\r\n                        }\r\n                    }\r\n                    cont2++;\r\n                }\r\n\r\n                //$('#lista-tipos').append('<a class=\"item_tipo list-group-item list-group-item-action active\" id=\"list-home-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\">'+$( this ).text()+' </a>');\r\n\r\n                if (viewer && auxcadenamuestra != \"\")\r\n                    highlightRevit(auxcadenamuestra);\r\n\r\n\r\n\r\n\r\n                $(\".item_tipo\").on(\"click\", function () {\r\n                    //alert($( this ).text());\r\n\r\n\r\n                    $(\"#sel_familia\").html($(this).text());\r\n                    $(\"#sel_familia1\").html($(this).text());\r\n\r\n\r\n                    var estesel1 = $(this).text();\r\n                    //$('#lista-tipos').text=\"hola\";\r\n                    $(\".item_tipodet\").remove();\r\n\r\n                    //var procesadosTipodet = [];\r\n                    var contar_procesadosTipdet = 0, IndicadorTipdet = 0;\r\n                    var cont3 = 0;\r\n                    var cadenamostrar = \"\";\r\n\r\n                    for (var elem1 of T_NombreT) {\r\n                        var arregloDeSubCadenas1 = T_categorias[cont3].replace('Revit ', '');\r\n\r\n                        var separador = \"[\", arregloDeSubCadenas = elem1.split(separador);\r\n                        var este = arregloDeSubCadenas[0] + ' ' + T_TipoT[cont3];\r\n\r\n                        //que pertenezca a la categoría y al mismo tipo\r\n                        //alert(este+'=='+estesel1);\r\n                        if (este.trim() == estesel1.trim()) {\r\n\r\n                            //cadenaaux1=cadenaaux1+'<a class=\"clase1 list-group-item list-group-item-action active\" id=\"list-home-list2\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\">'+este+'</a>';\r\n                            $('#lista-tipos1').append('<a class=\"item_tipodet list-group-item list-group-item-action active\" id=\"list-home-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\" style=\"width:60%;\">' + cont3 + ' </a>');\r\n                            //procesadosTipo.push(este);\r\n                            //contar_procesadosTipdet++;\r\n                            if (cadenamostrar === \"\") {\r\n                                cadenamostrar = T_uniqueIds[cont3];\r\n                            } else {\r\n                                cadenamostrar = cadenamostrar + ',' + T_uniqueIds[cont3];\r\n                            }\r\n\r\n\r\n                        }\r\n                        cont3++;\r\n                    }\r\n\r\n                    if (viewer && cadenamostrar != \"\")\r\n                        highlightRevit(cadenamostrar);\r\n\r\n                    //$('#lista-tipos').append('<a class=\"item_tipo list-group-item list-group-item-action active\" id=\"list-home-list\" data-bs-toggle=\"list\" role=\"tab\" aria-controls=\"list-home\">'+$( this ).text()+' </a>');\r\n\r\n\r\n                    $(\".item_tipodet\").on(\"click\", function () {\r\n                        //alert($( this ).text());\r\n                        var indice = parseInt($(this).text());\r\n\r\n                        if (viewer)\r\n                            highlightRevit(T_uniqueIds[indice]);\r\n\r\n\r\n\r\n                    });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n                    //var estesel=$( this ).text();\r\n                    //$(\".item_tipo\").remove();\r\n                });\r\n\r\n\r\n                /* var separador = \".\",\r\n                     arregloDeSubCadenas = $( this ).text().split(separador);\r\n                 var indice=parseInt(arregloDeSubCadenas[0]);\r\n \r\n                 if (viewer)\r\n                     highlightRevit(T_uniqueIds[indice]);*/\r\n\r\n                //alert('hola');\r\n            });\r\n\r\n\r\n\r\n\r\n            $(\".claseElemento\").on(\"click\", function () {\r\n                //alert($( this ).text());\r\n                // alert($( this ).text());\r\n\r\n                var separador = \".\",\r\n                    arregloDeSubCadenas = $(this).text().split(separador);\r\n                var indice = parseInt(arregloDeSubCadenas[0]);\r\n\r\n                if (viewer)\r\n                    highlightRevit(T_uniqueIds[indice]);\r\n\r\n                //alert('hola');\r\n            });\r\n\r\n            $(\"#nav-seleccion-tab\").on(\"click\", function () {\r\n                //console.log( $( this ).text() );\r\n                //alert('holaa');\r\n\r\n                $(\"#nav-seleccion-tab\").addClass('active');\r\n                $(\"#nav-contact-tab\").removeClass('active');\r\n                $(\"#nav-profile-tab\").removeClass('active');\r\n\r\n\r\n                $(\"#nav-seleccion\").addClass('show');\r\n                $(\"#nav-seleccion\").addClass('active');\r\n\r\n                $(\"#nav-profile\").removeClass('active');\r\n                $(\"#nav-profile\").removeClass('show');\r\n\r\n                $(\"#nav-contact\").removeClass('active');\r\n                $(\"#nav-contact\").removeClass('show');\r\n            });\r\n\r\n            $(\"#nav-profile-tab\").on(\"click\", function () {\r\n                //console.log( $( this ).text() );\r\n                //alert('holaa');\r\n                $(\"#nav-profile-tab\").addClass('active');\r\n                $(\"#nav-seleccion-tab\").removeClass('active');\r\n                $(\"#nav-contact-tab\").removeClass('active');\r\n\r\n\r\n                $(\"#nav-seleccion\").removeClass('show');\r\n                $(\"#nav-seleccion\").removeClass('active');\r\n\r\n                $(\"#nav-profile\").addClass('active');\r\n                $(\"#nav-profile\").addClass('show');\r\n\r\n                $(\"#nav-contact\").removeClass('active');\r\n                $(\"#nav-contact\").removeClass('show');\r\n\r\n            });\r\n\r\n            $(\"#nav-contact-tab\").on(\"click\", function () {\r\n                //console.log( $( this ).text() );\r\n                //alert('holaa');\r\n                /* $(\"#nav-profile-tab\").removeClass('active');\r\n                 $(\"#nav-seleccion-tab\").removeClass('active');\r\n                 $(\"#nav-contact-tab\").addClass('active');\r\n \r\n \r\n                 $(\"#nav-seleccion\").removeClass('show');\r\n                 $(\"#nav-seleccion\").removeClass('active');\r\n                 \r\n                 $(\"#nav-profile\").removeClass('active');\r\n                 $(\"#nav-profile\").removeClass('show');\r\n \r\n                 $(\"#nav-contact\").addClass('active');\r\n                 $(\"#nav-contact\").addClass('show');*/\r\n\r\n            });\r\n\r\n            $(\"#btn-siguiente-tipo\").on(\"click\", function () {\r\n                //console.log( $( this ).text() );\r\n                //alert('holaa');\r\n                $(\"#nav-profile-tab\").removeClass('active');\r\n                $(\"#nav-seleccion-tab\").removeClass('active');\r\n                $(\"#nav-contact-tab\").addClass('active');\r\n\r\n\r\n                $(\"#nav-seleccion\").removeClass('show');\r\n                $(\"#nav-seleccion\").removeClass('active');\r\n\r\n                $(\"#nav-profile\").removeClass('active');\r\n                $(\"#nav-profile\").removeClass('show');\r\n\r\n                $(\"#nav-contact\").addClass('active');\r\n                $(\"#nav-contact\").addClass('show');\r\n\r\n\r\n\r\n\r\n\r\n\r\n            });\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n        function PanelVacioBIM(viewer, container, id, title, options = '') {\r\n            this.viewer = viewer;\r\n            Autodesk.Viewing.UI.DockingPanel.call(this, container, id, title, options);\r\n            //Autodesk.Viewing.UI.ModelStructurePanel\r\n            // Style para docking panel\r\n            this.container.classList.add('docking-panel-container-solid-color-a');\r\n            this.container.style.top = \"20px\";\r\n            this.container.style.left = \"90px\";\r\n            //this.container.style.width = \"auto\";\r\n            //this.container.style.height = \"auto\";\r\n            this.container.style.width = \"550px\";\r\n            this.container.style.height = \"600px\";\r\n\r\n            this.container.style.resize = \"auto\";\r\n\r\n            // creamos un div para contener el panel\r\n            var div = document.createElement('div');\r\n            div.style.margin = '5px';\r\n            div.id = \"ContenidoPanelBIM\";\r\n            div.innerText = \"Mi contenido\";\r\n            this.container.appendChild(div);\r\n            // añadiremos elementos después\r\n        }\r\n        PanelVacioBIM.prototype = Object.create(Autodesk.Viewing.UI.DockingPanel.prototype);\r\n        PanelVacioBIM.prototype.constructor = PanelVacioBIM;\r\n\r\n\r\n        function PanelIngresoDatosBIM(viewer, container, id, title, options = '') {\r\n            this.viewer = viewer;\r\n            Autodesk.Viewing.UI.DockingPanel.call(this, container, id, title, options);\r\n            //Autodesk.Viewing.UI.ModelStructurePanel\r\n            // Style para docking panel\r\n            this.container.classList.add('docking-panel-container-solid-color-a');\r\n            this.container.style.top = \"25%\";\r\n            this.container.style.left = \"35%\";\r\n            //this.container.style.width = \"auto\";\r\n            //this.container.style.height = \"auto\";\r\n            this.container.style.width = \"420px\";\r\n            this.container.style.height = \"450px\";\r\n\r\n            this.container.style.resize = \"auto\";\r\n\r\n            // creamos un div para contener el panel\r\n            var div = document.createElement('div');\r\n            div.style.margin = '5px';\r\n            div.id = \"ContenidoIngresoBIM\";\r\n            div.innerText = \"Mi contenido\";\r\n            this.container.appendChild(div);\r\n            // añadiremos elementos después\r\n        }\r\n        PanelIngresoDatosBIM.prototype = Object.create(Autodesk.Viewing.UI.DockingPanel.prototype);\r\n        PanelIngresoDatosBIM.prototype.constructor = PanelIngresoDatosBIM;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const loadViewer = (svfUrl: string) => {\r\n\r\n\r\n        launchViewer(modelURL);\r\n        //launchViewer(modelURL);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    const cargar = async () => {\r\n        if (viewer) {\r\n            //viewer.uninitialize();\r\n            viewer.finish();\r\n        }\r\n\r\n        launchViewer(proyects.Urn);\r\n        //alert(urn);\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        //console.log('datos de subProyectos actualizados')\r\n        //if (proyects.treeSubControl==undefined) return;\r\n        //console.log(proyects.treeSubControl)\r\n        //alert(proyects.Urn);\r\n        if (proyects.Urn === '') {\r\n            if (viewer) {\r\n                //viewer.uninitialize();\r\n                viewer.finish();\r\n                //viewer = null;\r\n                return;\r\n            }\r\n\r\n            //return;\r\n        }\r\n\r\n        if (proyects.Urn) {\r\n\r\n            setModelURL(proyects.Urn);\r\n            //alert(modelURL);\r\n            //alert(proyects.Urn);\r\n            cargar();\r\n\r\n        }\r\n\r\n    }, [proyects.Urn])\r\n\r\n\r\n\r\n\r\n\r\n    async function postData(url = '', data = {}) {\r\n        // Opciones por defecto estan marcadas con un *\r\n        const response = await fetch(url, {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            //mode: 'cors', // no-cors, *cors, same-origin\r\n            //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n                //'Content-Type': 'application/json'\r\n                // 'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n            body: queryString.stringify(data)\r\n            //redirect: 'follow', // manual, *follow, error\r\n            //referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n            //body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        return response.json(); // parses JSON response into native JavaScript objects\r\n    }\r\n\r\n\r\n    /*const fetchConToken11 = () => {\r\n        postData('https://developer.api.autodesk.com/authentication/v1/authenticate', {\r\n            'client_id': 'Lrn6oqLnwpCBd8GS0LuimGx5SHONYw4b',\r\n            'client_secret': 'JLA2LfrdwUg4hMkz',\r\n            'grant_type': 'client_credentials',\r\n            'scope': 'data:read data:write data:create data:search bucket:create bucket:read bucket:update bucket:delete'\r\n        })\r\n            .then(data => {\r\n                console.log(data); // JSON data parsed by `data.json()` call\r\n\r\n            });\r\n    }*/\r\n\r\n\r\n    function getForgeToken(callback) {\r\n        postData('https://developer.api.autodesk.com/authentication/v1/authenticate', {\r\n            'client_id': 'Lrn6oqLnwpCBd8GS0LuimGx5SHONYw4b',\r\n            'client_secret': 'JLA2LfrdwUg4hMkz',\r\n            'grant_type': 'client_credentials',\r\n            'scope': 'data:read data:write data:create data:search bucket:create bucket:read bucket:update bucket:delete'\r\n        })\r\n            .then(data => {\r\n                console.log(data); // JSON data parsed by `data.json()` call\r\n                callback(data.access_token, data.expires_in);\r\n            });\r\n    }\r\n\r\n\r\n\r\n\r\n    const loadStyleSheet = (href: string) => {\r\n        const styles = document.createElement('link');\r\n        styles.rel = 'stylesheet';\r\n        styles.type = 'text/css';\r\n        styles.href = href;\r\n        styles.onload = handleStyleLoad;\r\n        document.getElementsByTagName('head')[0].appendChild(styles);\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        async function loadServiceWorker() {\r\n            //await new Promise(r=>{serviceWorker.register({onSuccess:()=>r()})});\r\n            setLoadViewerLibrary(true);\r\n            //setLoadViewerLibrary1(true);\r\n            //await loadStyleSheet(viewerStylesheetURL1);\r\n            await loadStyleSheet(viewerStylesheetURL);\r\n\r\n            //alert('init');\r\n        }\r\n        loadServiceWorker();\r\n\r\n        /*return ()=> {\r\n           if (window.NOP_VIEWER) window.NOP_VIEWER.finish() //terminate Viewer when unmounting\r\n        }*/\r\n    }, []);\r\n\r\n\r\n   /* useEffect(() => {\r\n        if (proyects.agregandoReg) {\r\n\r\n            if (proyects.agregandoReg === 'Asociado') {\r\n               // alert('Agregando Registro de asociado');\r\n            }\r\n\r\n        }\r\n\r\n    }, [proyects.agregandoReg]);\r\n*/\r\n\r\n    useEffect(() => {\r\n       // alert('cambio la fila en viewer sc')\r\n        //console.log('LOS DATOS DE MI FILA SELECCIONADA');\r\n        //console.log(proyects.filaAsociadoSel);\r\n        \r\n       \r\n\r\n        var Propies = [];\r\n        if (proyects.filaAsociadoSel) {\r\n            \r\n\r\n            setTimeout(() => {\r\n            \r\n            if (proyects.filaAsociadoSel.Familia === undefined) proyects.filaAsociadoSel.Familia='';\r\n            if (proyects.filaAsociadoSel.Tipo === undefined) proyects.filaAsociadoSel.Tipo='';\r\n            if (proyects.filaAsociadoSel.Categoria === undefined) proyects.filaAsociadoSel.Categoria='';\r\n\r\n\r\n\r\n            if (proyects.filaAsociadoSel.Tipo === '' && proyects.filaAsociadoSel.Familia === '' && proyects.filaAsociadoSel.Categoria !== '') {\r\n\r\n                /*dispatch(agregaTipo(proyects.DataTipoB));\r\n                dispatch(agregaFamilia(proyects.DataFamiliaB));*/\r\n            }\r\n\r\n\r\n            \r\n            let tienecomp=0;\r\n            if (proyects.filaAsociadoSel.Data?.CampoFiltro !=='' && (proyects.filaAsociadoSel.Data?.Comp !== '' || proyects.filaAsociadoSel.Data?.Comp !== undefined) && proyects.filaAsociadoSel.Data?.Valor !==''){\r\n                tienecomp=1;\r\n            }\r\n            \r\n            //alert(tienecomp)\r\n\r\n            \r\n            if (tienecomp===0)\r\n            {\r\n\r\n                if (proyects.filaAsociadoSel.Tipo !== '') {\r\n\r\n                    const filtr = proyects.DataElementos.filter((filtro1) => filtro1.Tipo.trim() === proyects.filaAsociadoSel.Tipo.trim() && filtro1.Tipo.trim() !== 'sin tipo');\r\n                    if (filtr) {\r\n                        if (viewer){\r\n    \r\n                            /*viewer.getProperties(filtr[0].Id, (props) => {\r\n                                for (var Propiedad of props.properties) {\r\n                                    Propies.push({\r\n                                        'ID': Propiedad.displayName,\r\n                                        'Name': Propiedad.displayName,\r\n                                    });    \r\n                                   \r\n                                }\r\n                            })*/\r\n                            let ids='';\r\n                            for (let i=0;i<filtr.length;i++)\r\n                            {\r\n                                ids=ids+filtr[i].UniqueId+',';\r\n                            }\r\n                            highlightRevit(ids);\r\n                        }\r\n    \r\n                       /* console.log('Esta es mi data ') \r\n                        console.log(proyects.filaAsociadoSel.Data) \r\n                        console.log('Este es mi codigo ') \r\n                        console.log(proyects.filaAsociadoSel.Data.CodAsociado) \r\n    \r\n                        console.log(proyects.DataAsociado) */\r\n    \r\n    \r\n                        /*const filtroA = proyects.DataTipoB.filter((filtro1) => filtro1.Familia.trim() === proyects.filaAsociadoSel.Familia.trim());\r\n                        const filtroB = proyects.DataFamiliaB.filter((filtro1) => filtro1.Categoria.trim() === proyects.filaAsociadoSel.Categoria.trim());\r\n                        filtroB.push({\r\n                            'ID': '',\r\n                            'Name': '',\r\n                            'Categoria': '',\r\n                        });\r\n            \r\n                        filtroA.push({\r\n                            'ID': '',\r\n                            'Name': '',\r\n                            'Familia': '',\r\n                            'Categoria': ''\r\n                        });\r\n    \r\n                        //dispatch(agregaCategoria(employees));\r\n                        dispatch(agregaTipo(filtroA));\r\n                        dispatch(agregaFamilia(filtroB));*/\r\n    \r\n    \r\n    \r\n                    }\r\n    \r\n                }\r\n                \r\n                \r\n                if (proyects.filaAsociadoSel.Tipo === '' && proyects.filaAsociadoSel.Familia !== '') {\r\n    \r\n                    const filtr = proyects.DataElementos.filter((filtro1) => filtro1.Familia.trim() === proyects.filaAsociadoSel.Familia.trim() && filtro1.Tipo.trim() !== 'sin tipo');\r\n                    //const filtr = proyects.DataElementos.filter((filtro1) => filtro1.UniqueId.trim() === '12923f74-c1bc-409a-a76d-4d7f4fa7040d-00090650');\r\n                    //const filtr = proyects.DataElementos.filter((filtro1) => filtro1.Tipo.trim() === 'sin tipo');\r\n                    if (filtr) {\r\n                       // console.log('este es el filtro')\r\n                        //console.log(filtr)\r\n                        if (viewer){\r\n    \r\n                         /*   viewer.getProperties(filtr[0]?.Id, (props) => {\r\n                                for (var Propiedad of props.properties) {\r\n                                    Propies.push({\r\n                                        'ID': Propiedad.displayName,\r\n                                        'Name': Propiedad.displayName,\r\n                                    });    \r\n                                }\r\n                            })*/\r\n                            let ids='';\r\n                            for (let i=0;i<filtr.length;i++)\r\n                            {\r\n                                //OBTENER LA PROPIEDAD PARA FILTRAR\r\n    \r\n    \r\n    \r\n                                ids=ids+filtr[i].UniqueId+',';\r\n                            }\r\n                            /*console.log('estos son los ids')\r\n                            console.log(filtr)\r\n                            console.log(ids)*/\r\n                            highlightRevit(ids);\r\n                            //highlightRevit('380444ae-b94c-4c6e-ad5a-08a1a8974d62-0006ad5e');\r\n                            //highlightRevit('12923f74-c1bc-409a-a76d-4d7f4fa7040d-000902e5,12923f74-c1bc-409a-a76d-4d7f4fa7040d-000902eb,12923f74-c1bc-409a-a76d-4d7f4fa7040d-000a085b,12923f74-c1bc-409a-a76d-4d7f4fa7040d-000a0da0,12923f74-c1bc-409a-a76d-4d7f4fa7040d-000a0dc1,12923f74-c1bc-409a-a76d-4d7f4fa7040d-000a0df7,12923f74-c1bc-409a-a76d-4d7f4fa7040d-000a0e0f,12923f74-c1bc-409a-a76d-4d7f4fa7040d-000a0e31,12923f74-c1bc-409a-a76d-4d7f4fa7040d-000a1436,47e46396-fd7f-44bb-941c-3dd493a1b714,12923f74-c1bc-409a-a76d-4d7f4fa7040d-00090650');\r\n                        }\r\n    \r\n                        /*const filtroA = proyects.DataTipoB.filter((filtro1) => filtro1.Familia.trim() === proyects.filaAsociadoSel.Familia.trim());\r\n                        const filtroB = proyects.DataFamiliaB.filter((filtro1) => filtro1.Categoria.trim() === proyects.filaAsociadoSel.Categoria.trim());\r\n                        filtroB.push({\r\n                            'ID': '',\r\n                            'Name': '',\r\n                            'Categoria': '',\r\n                        });\r\n            \r\n                        filtroA.push({\r\n                            'ID': '',\r\n                            'Name': '',\r\n                            'Familia': '',\r\n                            'Categoria': ''\r\n                        });\r\n    \r\n                        \r\n                        dispatch(agregaTipo(filtroA));\r\n                        dispatch(agregaFamilia(filtroB));*/\r\n    \r\n    \r\n                    }\r\n    \r\n    \r\n                }\r\n                \r\n    \r\n                \r\n                //console.log('antes antes del filtro')\r\n                //console.log(proyects.filaAsociadoSel)\r\n    \r\n                if (proyects.filaAsociadoSel.Tipo === '' && proyects.filaAsociadoSel.Familia === '' && proyects.filaAsociadoSel.Categoria !== '') {\r\n                   // console.log('antes del filtro')\r\n                    //console.log(proyects.filaAsociadoSel)\r\n    \r\n                    const filtr = proyects.DataElementos.filter((filtro1) => filtro1.Categoria.trim() === proyects.filaAsociadoSel.Categoria.trim() && filtro1.Tipo.trim() !== 'sin tipo');\r\n                    if (filtr && filtr[0]) {\r\n                        //console.log('este es el filtro')\r\n                        //console.log(filtr)\r\n                        if (viewer){\r\n    \r\n                           /* viewer.getProperties(filtr[0].Id, (props) => {\r\n                                for (var Propiedad of props.properties) {\r\n                                    Propies.push({\r\n                                        'ID': Propiedad.displayName,\r\n                                        'Name': Propiedad.displayName,\r\n                                    });    \r\n                                     if (Propiedad.displayName === 'Nombre de tipo'){\r\n                                         T_TipoT.push(Propiedad.displayValue);\r\n                                         //enc=1;\r\n                                     }\r\n                                }\r\n                            })*/\r\n                            let ids='';\r\n                            for (let i=0;i<filtr.length;i++)\r\n                            {\r\n                                ids=ids+filtr[i].UniqueId+',';\r\n                            }\r\n                            //console.log('estos son los ids')\r\n                            //console.log(ids)\r\n                            highlightRevit(ids);\r\n                        }\r\n    \r\n    \r\n                        /*const filtroA = proyects.DataTipoB.filter((filtro1) => filtro1.Categoria.trim() === proyects.filaAsociadoSel.Categoria.trim());\r\n                        const filtroB = proyects.DataFamiliaB.filter((filtro1) => filtro1.Categoria.trim() === proyects.filaAsociadoSel.Categoria.trim());\r\n                        filtroB.push({\r\n                            'ID': '',\r\n                            'Name': '',\r\n                            'Categoria': '',\r\n                        });\r\n            \r\n                        filtroA.push({\r\n                            'ID': '',\r\n                            'Name': '',\r\n                            'Familia': '',\r\n                            'Categoria': ''\r\n                        });*/\r\n    \r\n                        \r\n                        //dispatch(agregaTipo(filtroA));\r\n                        //dispatch(agregaFamilia(filtroB));\r\n    \r\n    \r\n                    }\r\n    \r\n                }\r\n    \r\n\r\n            }else{ //FILTRO CON COMPARACION\r\n\r\n                console.log('tiene comparacion')\r\n                console.log(proyects.filaAsociadoSel)\r\n\r\n\r\n                if (proyects.filaAsociadoSel.Tipo !== '') {\r\n\r\n                    let filtr = proyects.DataElementos.filter((filtro1) => filtro1.Tipo.trim() === proyects.filaAsociadoSel.Tipo.trim() && filtro1.Tipo.trim() !== 'sin tipo');\r\n                    if (filtr) {\r\n                        \r\n                        let ids='';\r\n                        if (viewer){\r\n    \r\n                            \r\n                            for (let i=0;i<filtr.length;i++){\r\n                                viewer.getProperties(filtr[i].Id, (props) => {\r\n                                    let v1 = props.properties.find((filtro1) => filtro1.displayName === proyects.filaAsociadoSel.Data.CampoFiltro)\r\n                                    let ValorP='';                                    \r\n                                    if (v1 && v1?.displayValue!==''){\r\n                                        //filtr[indice].Descripcion=v1?.displayValue;\r\n                                        ValorP=v1?.displayValue;\r\n                                    }else{\r\n                                        ValorP='';\r\n                                        //filtr[indice].Descripcion=filtr[indice].Descripcion;\r\n                                    }\r\n                                    if (proyects.filaAsociadoSel.Data.Comp==='Igual'){\r\n                                        if (ValorP !== proyects.filaAsociadoSel.Data.Valor){\r\n                                            //se va\r\n                                            //filtr = filtr.filter((filtro1) => filtro1.UniqueId !== filtr[i].UniqueId);\r\n                                        }else{\r\n                                            ids=ids+filtr[i].UniqueId+',';\r\n\r\n                                        }\r\n                                    }else{\r\n                                        if (ValorP === proyects.filaAsociadoSel.Data.Valor){\r\n                                            //se va\r\n                                            //filtr = filtr.filter((filtro1) => filtro1.UniqueId !== filtr[i].UniqueId);\r\n                                        }else{\r\n                                            ids=ids+filtr[i].UniqueId+',';\r\n\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n\r\n\r\n                            setTimeout(() => {\r\n                                /*let ids='';\r\n                                for (let i=0;i<filtr.length;i++)\r\n                                {\r\n                                    ids=ids+filtr[i].UniqueId+',';\r\n                                }*/\r\n                                highlightRevit(ids);                                    \r\n                            }, 600);\r\n                        \r\n                        \r\n                        \r\n                        }\r\n    \r\n                     \r\n    \r\n    \r\n    \r\n                    }\r\n    \r\n                }\r\n                \r\n                \r\n                if (proyects.filaAsociadoSel.Tipo === '' && proyects.filaAsociadoSel.Familia !== '') {\r\n\r\n                    \r\n                    \r\n\r\n    \r\n\r\n                    let filtr = proyects.DataElementos.filter((filtro1) => filtro1.Familia.trim() === proyects.filaAsociadoSel.Familia.trim() && filtro1.Tipo.trim() !== 'sin tipo');\r\n                    \r\n                    console.log('Estoy por familia')\r\n                    console.log(filtr)\r\n\r\n                    let ids='';\r\n                    if (filtr) {\r\n                        if (viewer){\r\n    \r\n                        \r\n                            for (let i=0;i<filtr.length;i++){\r\n                                viewer.getProperties(filtr[i].Id, (props) => {\r\n                                    let v1 = props.properties.find((filtro1) => filtro1.displayName === proyects.filaAsociadoSel.Data.CampoFiltro)\r\n                                    let ValorP='';                                    \r\n                                    if (v1 && v1?.displayValue!==''){\r\n                                        //filtr[indice].Descripcion=v1?.displayValue;\r\n                                        ValorP=v1?.displayValue;\r\n                                    }else{\r\n                                        ValorP='';\r\n                                        //filtr[indice].Descripcion=filtr[indice].Descripcion;\r\n                                    }\r\n                                    if (proyects.filaAsociadoSel.Data.Comp==='Igual'){\r\n                                        if (ValorP !== proyects.filaAsociadoSel.Data.Valor){\r\n                                            //se va\r\n                                            //filtr = filtr.filter((filtro1) => filtro1.UniqueId !== filtr[i]?.UniqueId);\r\n\r\n                                            //console.log('Se va este')\r\n                                            //console.log(filtr[i]?.UniqueId)\r\n                        \r\n                                        }else{  // se queda\r\n\r\n                                            ids=ids+filtr[i].UniqueId+',';\r\n                                        }\r\n                                    }else{\r\n                                        if (ValorP === proyects.filaAsociadoSel.Data.Valor){\r\n                                            //se va\r\n                                            //filtr = filtr.filter((filtro1) => filtro1.UniqueId !== filtr[i]?.UniqueId);\r\n                                        }else\r\n                                        {\r\n                                            ids=ids+filtr[i].UniqueId+',';\r\n\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n\r\n\r\n                            setTimeout(() => {\r\n                               /* let ids='';\r\n                                for (let i=0;i<filtr.length;i++)\r\n                                {\r\n                                    ids=ids+filtr[i].UniqueId+',';\r\n                                }*/\r\n                                highlightRevit(ids);                                    \r\n                            }, 600);\r\n                            \r\n\r\n\r\n                        }   \r\n                    }\r\n                }\r\n                \r\n    \r\n                \r\n                //console.log('antes antes del filtro')\r\n                //console.log(proyects.filaAsociadoSel)\r\n    \r\n                if (proyects.filaAsociadoSel.Tipo === '' && proyects.filaAsociadoSel.Familia === '' && proyects.filaAsociadoSel.Categoria !== '') {\r\n                   // console.log('antes del filtro')\r\n                    //console.log(proyects.filaAsociadoSel)\r\n    \r\n                    let filtr = proyects.DataElementos.filter((filtro1) => filtro1.Categoria.trim() === proyects.filaAsociadoSel.Categoria.trim() && filtro1.Tipo.trim() !== 'sin tipo');\r\n                    if (filtr && filtr[0]) {\r\n                        \r\n                        let ids='';\r\n                        if (viewer){\r\n    \r\n\r\n                            for (let i=0;i<filtr.length;i++){\r\n                                viewer.getProperties(filtr[i].Id, (props) => {\r\n                                    let v1 = props.properties.find((filtro1) => filtro1.displayName === proyects.filaAsociadoSel.Data.CampoFiltro)\r\n                                    let ValorP='';                                    \r\n                                    if (v1 && v1?.displayValue!==''){\r\n                                        //filtr[indice].Descripcion=v1?.displayValue;\r\n                                        ValorP=v1?.displayValue;\r\n                                    }else{\r\n                                        ValorP='';\r\n                                        //filtr[indice].Descripcion=filtr[indice].Descripcion;\r\n                                    }\r\n                                    if (proyects.filaAsociadoSel.Data.Comp==='Igual'){\r\n                                        if (ValorP !== proyects.filaAsociadoSel.Data.Valor){\r\n                                            //se va\r\n                                           // filtr = filtr.filter((filtro1) => filtro1.UniqueId !== filtr[i].UniqueId);\r\n                                        }else\r\n                                        {\r\n                                            ids=ids+filtr[i].UniqueId+',';\r\n\r\n                                        }\r\n                                    }else{\r\n                                        if (ValorP === proyects.filaAsociadoSel.Data.Valor){\r\n                                            //se va\r\n                                            //filtr = filtr.filter((filtro1) => filtro1.UniqueId !== filtr[i].UniqueId);\r\n                                        }else{\r\n                                            ids=ids+filtr[i].UniqueId+',';\r\n\r\n                                        }\r\n                                    }\r\n                                })\r\n                            }\r\n\r\n\r\n                            setTimeout(() => {\r\n                                /*let ids='';\r\n                                for (let i=0;i<filtr.length;i++)\r\n                                {\r\n                                    ids=ids+filtr[i].UniqueId+',';\r\n                                }*/\r\n                                highlightRevit(ids);                                    \r\n                            }, 600);\r\n\r\n\r\n\r\n    \r\n                        }\r\n                    }\r\n                }\r\n    \r\n\r\n\r\n\r\n\r\n            }\r\n\r\n\r\n\r\n            }, 250);\r\n\r\n\r\n            \r\n            //console.log('estas son las propies')\r\n            //console.log(Propies)\r\n            //dispatch(ponerPropiedades(Propies));\r\n        }\r\n\r\n\r\n    }, [proyects.filaAsociadoSel/*,proyects.DataAsociado*/]);\r\n\r\n\r\n\r\nuseEffect(() => {\r\n        //alert('cambiaron mis asociados')\r\n       // console.log('cambiaron mis asociados');\r\n        //console.log(proyects.DataAsociado);\r\n        setTimeout(() => {\r\n\r\n            \r\n            var Propies = [];\r\n            Propies.push({\r\n                'ID': '',\r\n                'Name': '',\r\n            });    \r\n    \r\n            if (proyects.DataAsociado.length>0){\r\n    \r\n                if (proyects.DataAsociado[0].Categoria !=='')            \r\n                {\r\n                    const filtr = proyects.DataElementos?.filter((filtro1) => filtro1.Categoria.trim() === proyects.DataAsociado[0].Categoria.trim());\r\n                \r\n                    if (filtr) {\r\n                        //console.log('este es el filtro')\r\n                        //console.log(filtr)\r\n                        if (viewer){\r\n                            //console.log('este es el elemento que coge')\r\n                            //console.log(filtr[filtr.length-1])\r\n                            //console.log(filtr[1000])\r\n                            viewer.getProperties(filtr[0].Id, (props) => {\r\n                                console.log('este es propiedades')\r\n                                console.log(props)\r\n                                for (var Propiedad of props.properties) {\r\n                                                                    \r\n                                    if ( Propiedad.displayName!=='viewable_in')\r\n                                    Propies.push({\r\n                                        'ID': Propiedad.displayName,\r\n                                        'Name': Propiedad.displayName,\r\n                                    });    \r\n                                   \r\n                                }\r\n                            })\r\n                           \r\n                        }\r\n                }\r\n    \r\n            }\r\n                //console.log('estas son las propies')\r\n                //console.log(Propies)\r\n                setTimeout(() => {\r\n                    dispatch(ponerPropiedades(Propies));    \r\n                }, 450);\r\n                \r\n            }\r\n    \r\n\r\n\r\n        }, 600);\r\n\r\n\r\n    }, [proyects.DataAsociado]);\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const laneId = 'demo-lane'\r\n    const lanes = [\r\n        {\r\n            laneId,\r\n            label: 'Plazo del Proyecto',\r\n        },\r\n    ]\r\n    var now = new Date();\r\n    const events = [\r\n        {\r\n            eventId: 'event-1',\r\n            laneId: laneId,\r\n            startTimeMillis: 1399845600000,\r\n            //endTimeMillis: 1530698899000,\r\n            endTimeMillis: now.getTime()\r\n        },\r\n        {\r\n            eventId: 'event-2',\r\n            laneId,\r\n            startTimeMillis: 1167606000000,\r\n            endTimeMillis: 1230698892000,\r\n        },\r\n    ]\r\n    const dateFormat = (ms: number) => new Date(ms).toLocaleString();\r\n\r\n    var tamano = $('#FrmPrin').width();\r\n\r\n    const [fecha, setfecha] = useState(new Date(now.getTime()).toLocaleString());\r\n    const [fechasel, setfechasel] = useState(new Date(now.getTime()).toLocaleString());\r\n\r\n\r\n    const evento = (evento) => {\r\n        setfecha(fechasel);\r\n    }\r\n    //const a = TimelineTheme;\r\n\r\n    const oncursor = (millisAtCursor, startMillis, endMillis) => {\r\n        setfechasel(new Date(millisAtCursor).toLocaleString());\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card\" id=\"forgeViewer\" style={{\r\n                height: \"100%\", width: '100%', \r\n                background: 'black'\r\n\r\n            }}></div>\r\n            {/* <div style={{ fontSize:'0.7rem', top:'10px', position:'absolute', zIndex:1 }}>Items seleccionados: <span id=\"MySelectionValue\">0</span></div> */}\r\n\r\n\r\n            {/* </div> */}\r\n\r\n            {/* {loadViewerLibrary1 ? <Script url={viewerLibaryURL1} onLoad={handleScriptLoad1}></Script> : null} */}\r\n            {loadViewerLibrary ? <Script url={viewerLibaryURL} onLoad={handleScriptLoad}></Script> : null}\r\n\r\n            {/* {<Script url={viewerLibaryURL} onLoad={handleScriptLoad}></Script>} \r\n            {<Script url={viewerLibaryURL1} onLoad={handleScriptLoad1}></Script>} */}\r\n            {/* </div> */}\r\n        </>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n","export default \"data:image/png;base64,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\"","import axios from 'axios';\n\nconst Axios = axios.create({\n    //baseURL: process.env.REACT_APP_URL,\n    baseURL: 'http://200.48.100.203:5030/api/S10ERP/RequestS10ERPData',\n})\n\n\nexport const Axios1 = axios.create({\n    //baseURL: process.env.REACT_APP_URL,\n    baseURL: 'http://200.48.100.203:5030/api/S10ERP/RequestS10ERPTransaction',\n})\n\n\nexport default Axios;","import { createModuleResolutionCache, parseJsonText } from 'typescript';\nimport axios from '../config/axios';\nimport axiosU from '../config/axiosU';\nimport { APU_DETALLE, METRADO_DETALLE, ID_DATA_TABLE, ID_PC, LISTAR_POR_PERIODO, MENSUAL_DETALLE, NAVIGATION_TREE, NAVIGATION_TREE_PC, TREE_SELECTEDS, URN_WEB, URN_WEB1, CAMBIA_SELECCION, SUB_SEL, METRADO_LIMPIAR, LIMPIAR_UBICACIONES, PARTY_CONTROL1, AGREGA_REGISTRO, AGREGA_CATEGORIA, AGREGA_TIPO, AGREGA_FAMILIA, AGREGA_GRUPO, MODIFICA_GRUPO, ELIMINA_GRUPO, AGREGA_ELEMENTOS, MODIFICA_SUB, MODIFICA_SUB1, AGREGA_SUB1, ACT_PRESUPUESTO, LIMPIA_PARTY_CONTROL, LIMPIAR_SUBS, PONER_PROPS, CAMBIAR_FILA_ASOCIADO, ADD_ASOCIADO, ASOCIADO_LIMPIAR, AGREGA_CATEGORIAB, AGREGA_TIPOB, AGREGA_FAMILIAB, ADD_ITEM, UPDATE_ITEM, REMOVE_ITEM, DELETE_ASOCIADO, DELETE_ESTRUCTURA, ADD_ESTRUCTURA, UPDATE_ESTRUCTURA, ADD_CALCULO, UPDATE_CALCULO, ADD_CALCULODET, UPDATE_CALCULODET, DELETE_CALCULODET, UPDATE_METRADO, ADD_METRADO, DELETE_METRADO, ESTABLECE_METRADO, DELETE_ITEM, UPDATE_ASOCIADO, LIMPIAR_ITEMS, UPDATE_PARTIDAS, ADD_PARTIDAS, DELETE_PARTIDAS, ESTABLECE_ITEM, UPDATE_TITULOS, ADD_TITULOS, DELETE_TITULOS, ADD_FAVORITO, DELETE_FAVORITO, ESTABLECER_PARTIDAS, ESTABLECER_TITULOS, ESTABLECE_PARTIDAS, LIMPIA_ELEMENTOS_ITEMS, ITEM_SELEC, LIMPIAR_GRP_PARTIDAS, LIMPIAR_GRP_TITULOS, LIMPIAR_RECURSOS, UPDATE_RECURSOS, LIMPIAR_GRP_RECURSOS, ADD_RECURSOS, DELETE_RECURSOS, ELIMINA_GRUPOSUB, LIMPIAR_DETALLE_PRECIOS } from '../constants';\n\nexport const selectProyect = (idCod, userName, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t// console.log(idCod, '<--- lo que le paso');\n\t\tawait axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_06_TableroProyecto_Listar '${userName}', '01', '${idCod}'`,\n\t\t\t\tRequestId: \"DATA_GENERAL\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 10,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t\tdispatch({\n\t\t\ttype: ID_DATA_TABLE,\n\t\t\tpayload: idCod\n\t\t})\n\t}\n}\n\nexport const selectPc = (idCod, idPc, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tconsole.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_06_Tablero_PartidaControlListar '${idCod}', '01', '${idPc}', ''`,\n\t\t\t\tRequestId: \"MENSUAL_DETALLE\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 10,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(data);\n\n\t\tdispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: idPc\n\t\t})\n\t}\n}\n\nexport const ListarPorPeriodo = (idCod, moneda) => {\n\treturn async () => {\n\t\t// console.log('ListarPorPeriodo');\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet user = JSON.parse(localStorage.getItem(\"user-s10\"));\n\t\tawait axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.S10_00_ResultadoOperativo_ListarPorPeriodo '${idCod}', '01', ''`,\n\t\t\t\tRequestId: \"LISTAR_POR_PERIODO\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: user.IdUser, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 10,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t// console.log(data);\n\t}\n}\n\nexport const ListarPorPeriodoPc = (idCod, idPc) => {\n\treturn async () => {\n\t\t// console.log('ListarPorPeriodo');\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet user = JSON.parse(localStorage.getItem(\"user-s10\"));\n\t\tawait axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.S10_00_ResultadoOperativo_ListarPorPeriodo '${idCod}', '01', ${idPc}`,\n\t\t\t\tRequestId: \"LISTAR_POR_PERIODO\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: user.IdUser, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 10,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t// console.log(data);\n\t}\n}\n\nexport const ProjectDetails = (idCod, moneda) => {\n\treturn async () => {\n\t\t// console.log('ProjectDetails#')\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet user = JSON.parse(localStorage.getItem(\"user-s10\"));\n\t\tawait axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.S10_06_Tablero_ListarProyectoDetalle '${idCod}', '01'`,\n\t\t\t\tRequestId: \"PROJECT_DETAILS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: user.IdUser, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 10,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t// console.log(data);\n\t}\n}\n\nexport const ProjectDetailsPc = (idCod, idPc) => {\n\treturn async () => {\n\t\t// console.log('ProjectDetails#')\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet user = JSON.parse(localStorage.getItem(\"user-s10\"));\n\t\tawait axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.S10_06_Tablero_ListarProyectoDetalle '${idCod}', '01', ${idPc}`,\n\t\t\t\tRequestId: \"PROJECT_DETAILS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: user.IdUser, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 10,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t// console.log(data);\n\t}\n}\n\n/*export const listHistory = (codProyecto) => {\n\treturn async () => {\n\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet user = JSON.parse(localStorage.getItem(\"user-s10\"));\n\t\tawait axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\tObjectName: `dbo.S10_06_Tablero_ListarProyectoMensualDetalle '${codProyecto}', '01', '', '', 20, 1`,\n\t\t\t\tRequestId: \"LIST_HISTORY\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: user.IdUser, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 10,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t// console.log(data);\n\t}\n}*/\n\n\n\n\n\nexport const selectItems = (CodPres, CodSubP, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_ListarHoja '${CodPres}','${CodSubP}'`,\n\t\t\t\tRequestId: \"MENSUAL_DETALLE\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t}\n}\n\n\n\nexport const selectRecursosPres = (CodPres, CodSubP, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_Subpresupuesto_ListarPreciosRecursos '${CodPres}','${CodSubP}'`,\n\t\t\t\tRequestId: \"DETALLE_PRECIOS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.S10_01_Subpresupuesto_ListarPreciosRecursos '${CodPres}','${CodSubP}'`);\n\t}\n}\n\n\nexport const selectCLIENTES = (Descripcion, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_Identificador_ListarPorDescripcion '${Descripcion}'`,\n\t\t\t\tRequestId: \"LISTAR_CLIENTES\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\n\nexport const guardarPresupuesto = (CodPresupuesto, Descripcion, Plazo, Fecha, Jornada, DobleMoneda, CostoDirectoBase1, CostoIndirectoBase1, CostoBase1, CostoDirectoBase2, CostoIndirectoBase2, CostoBase2, CodIdentificador, CodLugar, CodMoneda1, CodMoneda2, CodigoAlterno, JornadaSemana, JornadaMes, JornadaAno, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\t//dbo.S10_01_Presupuesto_Adicionar 'ctorres@s10peru.com','1502005','Presupuesto 5',0,'6/8/2021',8.00,0,0.00,0.00,0.00,0.00,0.00,0.00,'22000030','010112','01',NULL,'',0.00,0.00,0.00\n\n\t\t\t\t//dbo.S10_01_Presupuesto_Adicionar 'ctorres@s10peru.com','1504002','Presupuesto 2',0,'6/8/2021',8.00,0,0.00,0.00,0.00,0.00,0.00,0.00,'22000048','010117','01',NULL,'',0.00,0.00,0.00\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_Adicionar '${CodPresupuesto}','${Descripcion}',${Plazo},'${Fecha}',${Jornada},${0},${CostoDirectoBase1},${CostoIndirectoBase1},${CostoBase1},${CostoDirectoBase2},${CostoIndirectoBase2},${CostoBase2},'${CodIdentificador}','${CodLugar}','${CodMoneda1}','${CodMoneda2}','${CodigoAlterno}',${JornadaSemana},${JornadaMes},${JornadaAno},'${email}'`,\n\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_Adicionar '${email}','${CodPresupuesto}','${Descripcion}',${Plazo},'${Fecha}',${Jornada},${0},${CostoDirectoBase1},${CostoIndirectoBase1},${CostoBase1},${CostoDirectoBase2},${CostoIndirectoBase2},${CostoBase2},'${CodIdentificador}','${CodLugar}','${CodMoneda1}',${'NULL'},'${CodigoAlterno}',${JornadaSemana},${JornadaMes},${JornadaAno}`,\n\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_Adicionar '${CodPresupuesto}','${Descripcion}','${Plazo}','${Fecha}','${Jornada}','${DobleMoneda}','${CostoDirectoBase1}','${CostoIndirectoBase1}','${CostoBase1}','${CostoDirectoBase2}','${CostoIndirectoBase2}','${CostoBase2}','${CodIdentificador}','${CodLugar}','${CodMoneda1}','${CodMoneda2}','${CodigoAlterno}','${JornadaSemana}','${JornadaMes}','${JornadaAno}'`,\n\t\t\t\tRequestId: \"IngPres\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.S10_01_Presupuesto_Adicionar '${email}','${CodPresupuesto}','${Descripcion}',${Plazo},'${Fecha}',${Jornada},${0},${CostoDirectoBase1},${CostoIndirectoBase1},${CostoBase1},${CostoDirectoBase2},${CostoIndirectoBase2},${CostoBase2},'${CodIdentificador}','${CodLugar}','${CodMoneda1}',${'NULL'},'${CodigoAlterno}',${JornadaSemana},${JornadaMes},${JornadaAno}`);\n\t}\n}\n\n\n\n\n\n//private async void GuardarMedicion(string CodMedicion, string Descripcion, string Cantidad, string Longitud, string Ancho, string Alto, string Total, string Detalle, string Vinculo, string UniqueId, string PhantomParentId, int Nivel, string Tipo)\nexport const guardarMedicion = (Presupuesto, SubPresupuesto, Item, CodMedicion, Descripcion, Cantidad, Longitud, Ancho, Alto, Total, Detalle, Vinculo, UniqueId, PhantomParentId, Nivel, Tipo, Posicion, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleMedicion_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodMedicion + \"','\" + Descripcion + \"','\" + Cantidad + \"','\" + Longitud + \"','\" + Ancho + \"','\" + Alto + \"','\" + Total + \"','\" + Detalle + \"','\" + Vinculo + \"','\" + UniqueId + \"','\" + PhantomParentId + \"','\" + Nivel + \"','\" + Tipo + \"','\" + EmailUsuario + \"'\");\t\t\t\t\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalleMedicion_Actualizar '${Presupuesto}','${SubPresupuesto}','${Item}','${CodMedicion}','${Descripcion}','${Cantidad}','${Longitud}','${Ancho}','${Alto}','${Total}','${Detalle}','${Vinculo}','${UniqueId}','${PhantomParentId}',${Nivel},'${Tipo}',${Posicion},'${email}'`,\n\t\t\t\tRequestId: \"IngMedicion\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\t\t\n\t\tconsole.log(data);\n\t\tconsole.log(`dbo.S10_01_SubpresupuestoDetalleMedicion_Actualizar '${Presupuesto}','${SubPresupuesto}','${Item}','${CodMedicion}','${Descripcion}','${Cantidad}','${Longitud}','${Ancho}','${Alto}','${Total}','${Detalle}','${Vinculo}','${UniqueId}','${PhantomParentId}',${Nivel},'${Tipo}',${Posicion},'${email}'`);\n\t}\n}\n\n\nexport const guardarMedicionMasiva = (datos, userId) => {\n\t//console.log(datos);\n\t//RestRequest request = new RestRequest(\"/S10ERP/RequestS10ERPTransaction\", RestSharp.Method.POST);\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axiosU.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\t//HasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleMedicion_Actualizar '\" + \"0501001\" + \"','\" + \"001\" + \"','\" + \"000000000000034\" + \"','\" + \"dvRmC9IjYE6FMR1SH24ewg==\" + \"','\" + \"Descripcion\" + \"','\" + \"0.00\" + \"','\" + \"0.00\" + \"','\" + \"0.00\" + \"','\" + \"0.00\" + \"','\" + \"0.00\" + \"','\" + \"Detalle\" + \"','\" + \"dvRmC9IjYE6FMR1SH24ewg==\" + \"','\" + \"da1f6cea-96c3-44e8-9761-6d0b310acd46\" + \"','\" + \"dvRmC9IjYE6FMR1SH24ewg==\" + \"','\" + \"1\" + \"','\" + \"Titulo\" + \"',1,'\" + \"email@email.com\" + \"'\");\t\t\t\t\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalleMedicion_Actualizar '${'0501001'}','${'001'}','${'000000000000034'}','${'dvRmC9IjYE6FMR1SH24ewg=='}','${'Descripcion'}','${'0.00'}','${'0.00'}','${'0.00'}','${'0.00'}','${'0.00'}','${'Detalle'}','${'dvRmC9IjYE6FMR1SH24ewg=='}','${'da1f6cea-96c3-44e8-9761-6d0b310acd46'}','${'dvRmC9IjYE6FMR1SH24ewg=='}',${'1'},'${'Titulo'}',${'1'},'${'email@email.com'}'`,\n\t\t\t\tRequestId: \"IngMedicionMasiva\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: \"580\", // SecurityUserId obtenido al logear\n\t\t\t\tIsBulkTransaction: true,\n\t\t\t\tData:datos\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\t\t\n\t\tconsole.log(data);\t\n\t\tconsole.log(`dbo.S10_01_SubpresupuestoDetalleMedicion_Actualizar '${'0501001'}','${'001'}','${'000000000000034'}','${'dvRmC9IjYE6FMR1SH24ewg=='}','${'Descripcion'}','${'0.00'}','${'0.00'}','${'0.00'}','${'0.00'}','${'0.00'}','${'Detalle'}','${'dvRmC9IjYE6FMR1SH24ewg=='}','${'da1f6cea-96c3-44e8-9761-6d0b310acd46'}','${'dvRmC9IjYE6FMR1SH24ewg=='}',${'1'},'${'Titulo'}',${'1'},'${'email@email.com'}'`);\n\t}\n}\n\nexport const actualizarSecuenciales = (datos, userId) => {\n\tconsole.log(datos);\n\t//RestRequest request = new RestRequest(\"/S10ERP/RequestS10ERPTransaction\", RestSharp.Method.POST);\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//let email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axiosU.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tObjectName: `dbo.s10_01_SubpresupuestoDetalle_ActualizarSecuencial '${'email@email.com'}','${'0501001'}','${'001'}','${'000000000000034'}',${'1'},${'1'},'${'01.01'}'`,\n\t\t\t\tRequestId: \"ActualizaMasivaSecuencia\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: \"580\", // SecurityUserId obtenido al logear\n\t\t\t\tIsBulkTransaction: true,\n\t\t\t\tData:datos\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\t\t\n\t\tconsole.log(data);\t\n\t\tconsole.log(`dbo.s10_01_SubpresupuestoDetalle_ActualizarSecuencial '${'email@email.com'}','${'0501001'}','${'001'}','${'000000000000034'}',${'1'},${'1'},'${'01.01'}'`);\n\t}\n}\n\n/*dbo].[S10_01_Subpresupuesto_ActualizarSecuencialItem]\n@CodPresupuesto VARCHAR(7),\n@CodSubpresupuesto VARCHAR(3),\n@SecuencialActual SMALLINT*/\n\nexport const desplazarSecuenciales = (Presupuesto, Subpresupuesto, SecuencialInicio ,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_Subpresupuesto_ActualizarSecuencialItem '${Presupuesto}','${Subpresupuesto}',${SecuencialInicio}`,\n\t\t\t\tRequestId: \"ActualizaSecuenciales\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(data);\t\n\t\tconsole.log(`dbo.S10_01_Subpresupuesto_ActualizarSecuencialItem '${Presupuesto}','${Subpresupuesto}',${SecuencialInicio}`);\n\n\t}\n}\n\n\n\n\nexport const guardarMetrado = (Presupuesto, SubPresupuesto, Item, Metrado, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleMedicion_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodMedicion + \"','\" + Descripcion + \"','\" + Cantidad + \"','\" + Longitud + \"','\" + Ancho + \"','\" + Alto + \"','\" + Total + \"','\" + Detalle + \"','\" + Vinculo + \"','\" + UniqueId + \"','\" + PhantomParentId + \"','\" + Nivel + \"','\" + Tipo + \"','\" + EmailUsuario + \"'\");\t\t\t\t\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalle_ActualizarMetrado '${Presupuesto}','${SubPresupuesto}','${Item}','${Metrado}','${email}'`,\n\t\t\t\tRequestId: \"ActMetrado\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\t\t\n\t\tconsole.log(data);\t\t\n\t}\n}\n\n\nexport const eliminarMetradoItem = (Presupuesto, SubPresupuesto, Item, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleMedicion_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodMedicion + \"','\" + Descripcion + \"','\" + Cantidad + \"','\" + Longitud + \"','\" + Ancho + \"','\" + Alto + \"','\" + Total + \"','\" + Detalle + \"','\" + Vinculo + \"','\" + UniqueId + \"','\" + PhantomParentId + \"','\" + Nivel + \"','\" + Tipo + \"','\" + EmailUsuario + \"'\");\t\t\t\t\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalleMedicion_EliminarPorItem '${Presupuesto}','${SubPresupuesto}','${Item}'`,\n\t\t\t\tRequestId: \"EliminaMetrado\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\t\t\n\t\tconsole.log(data);\t\t\n\t}\n}\n\n\n\nexport const guardarCantidadMetrado = (Presupuesto, SubPresupuesto, Item, CantidadMetrado, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleMedicion_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodMedicion + \"','\" + Descripcion + \"','\" + Cantidad + \"','\" + Longitud + \"','\" + Ancho + \"','\" + Alto + \"','\" + Total + \"','\" + Detalle + \"','\" + Vinculo + \"','\" + UniqueId + \"','\" + PhantomParentId + \"','\" + Nivel + \"','\" + Tipo + \"','\" + EmailUsuario + \"'\");\t\t\t\t\n\t\t\t\tObjectName: `dbo.s10_01_SubpresupuestoDetalle_ActualizarCantidadMetrado '${email}','${Presupuesto}','${SubPresupuesto}','${Item}','${CantidadMetrado}'`,\n\t\t\t\tRequestId: \"ActCantMetrado\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\t\t\n\t\tconsole.log(data);\t\t\n\t}\n}\n\n\n\n\nexport const modificarPresupuesto = (CodPresupuesto, Descripcion, Plazo, Fecha, Jornada, DobleMoneda, CostoDirectoBase1, CostoIndirectoBase1, CostoBase1, CostoDirectoBase2, CostoIndirectoBase2, CostoBase2, CodIdentificador, CodLugar, CodMoneda1, CodMoneda2, CodigoAlterno, JornadaSemana, JornadaMes, JornadaAno, userId) => {\n\tCostoDirectoBase1 = CostoDirectoBase1.replace(/,/g, '');\n\tCostoIndirectoBase1 = CostoIndirectoBase1.replace(/,/g, '');\n\tCostoBase1 = CostoBase1.replace(/,/g, '');\n\tCostoDirectoBase2 = CostoDirectoBase2.replace(/,/g, '');\n\tCostoIndirectoBase2 = CostoIndirectoBase2.replace(/,/g, '');\n\tCostoBase2 = CostoBase2.replace(/,/g, '');\n\n\tJornada = Jornada.replace(/,/g, '');\n\n\tJornadaSemana = JornadaSemana.replace(/,/g, '');\n\tJornadaMes = JornadaMes.replace(/,/g, '');\n\tJornadaAno = JornadaAno.replace(/,/g, '');\n\t//alert(CostoDirectoBase1 + \" \" + CostoIndirectoBase1 + \" \" + CostoBase1 + \" \" + CostoDirectoBase2 + \" \" + CostoIndirectoBase2+ \" \" + CostoBase2);\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_Modificar '${CodPresupuesto}','${Descripcion}','${Plazo}','${Fecha}','${Jornada}','${DobleMoneda}','${CostoDirectoBase1}','${CostoIndirectoBase1}','${CostoBase1}','${CostoDirectoBase2}','${CostoIndirectoBase2}','${CostoBase2}','${CodIdentificador}','${CodLugar}','${CodMoneda1}','${CodMoneda2}','${CodigoAlterno}','${JornadaSemana}','${JornadaMes}','${JornadaAno}','${email}'`,\n\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_Modificar '${email}','${CodPresupuesto}','${Descripcion}',${Plazo},'${Fecha}',${Jornada},${0},${CostoDirectoBase1},${CostoIndirectoBase1},${CostoBase1},${CostoDirectoBase2},${CostoIndirectoBase2},${CostoBase2},'${CodIdentificador}','${CodLugar}','${CodMoneda1}',${'NULL'},'${CodigoAlterno}',${JornadaSemana},${JornadaMes},${JornadaAno}`,\n\t\t\t\tRequestId: \"ModPres\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.S10_01_Presupuesto_Modificar '${email}','${CodPresupuesto}','${Descripcion}',${Plazo},'${Fecha}',${Jornada},${0},${CostoDirectoBase1},${CostoIndirectoBase1},${CostoBase1},${CostoDirectoBase2},${CostoIndirectoBase2},${CostoBase2},'${CodIdentificador}','${CodLugar}','${CodMoneda1}',${'NULL'},'${CodigoAlterno}',${JornadaSemana},${JornadaMes},${JornadaAno}`);\n\t}\n}\n\n\n\n\n\nexport const guardarItemSub = (CodPresupuesto, CodSubPresupuesto, Item, Orden, ItemAlterno, Secuencial, Descripcion, Unidad, Tipo, Metrado, MetradoBase, Precio1, PrecioBase1, ManoDeObra1, Material1, Equipo1, Precio2, PrecioBase2,ManoDeObra2, Material2, Equipo2, Peso, Nivel, CodTitulo, CodPartida,CodPresupuestoPartida, PropioPartida, userId) => {\n''\n\tDescripcion= Descripcion.replace(\"\\'\",\"´\");\n\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_Modificar '${CodPresupuesto}','${Descripcion}','${Plazo}','${Fecha}','${Jornada}','${DobleMoneda}','${CostoDirectoBase1}','${CostoIndirectoBase1}','${CostoBase1}','${CostoDirectoBase2}','${CostoIndirectoBase2}','${CostoBase2}','${CodIdentificador}','${CodLugar}','${CodMoneda1}','${CodMoneda2}','${CodigoAlterno}','${JornadaSemana}','${JornadaMes}','${JornadaAno}','${email}'`,\n\t\t\t\tObjectName: `dbo.s10_01_SubpresupuestoDetalle_Adicionar '${email}','${CodPresupuesto}','${CodSubPresupuesto}',${Item},'${Orden}','${ItemAlterno}',${Secuencial},'${Descripcion}','${Unidad}',${Tipo},${Metrado},${MetradoBase},${Precio1},${PrecioBase1},${ManoDeObra1},${Material1},${Equipo1},${Precio2},${PrecioBase2},${ManoDeObra2},${Material2},${Equipo2},${Peso},${Nivel},'${CodTitulo}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`,\n\t\t\t\tRequestId: \"RECOGER_ITEMS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_SubpresupuestoDetalle_Adicionar '${email}','${CodPresupuesto}','${CodSubPresupuesto}',${Item},'${Orden}','${ItemAlterno}',${Secuencial},'${Descripcion}','${Unidad}',${Tipo},${Metrado},${MetradoBase},${Precio1},${PrecioBase1},${ManoDeObra1},${Material1},${Equipo1},${Precio2},${PrecioBase2},${ManoDeObra2},${Material2},${Equipo2},${Peso},${Nivel},'${CodTitulo}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`);\n\t}\n\n\n}\n\n\n/*(@EmailUsuario VARCHAR(128) = Null,\n@CodPresupuesto VARCHAR(7),\n@CodSubpresupuesto VARCHAR(3),\n@Item VARCHAR(15),\n@Orden VARCHAR(20) = Null,\n@ItemAlterno VARCHAR(20) = Null,\n@Secuencial SMALLINT = 0,\n@Descripcion VARCHAR(250),\n@Unidad VARCHAR(10),\n@Tipo TINYINT,   -- 1:Partida 2:Estimada 5:Titulo 7:Formato\n@Metrado NUMERIC (25,6),\n@MetradoBase NUMERIC (25,6),\n@Precio1   NUMERIC(25,9),\n@PrecioBase1   NUMERIC(25,9),\n@ManoDeObra1   NUMERIC(25,9),\n@Material1   NUMERIC(25,9),\n@Equipo1   NUMERIC(25,9),\n@Precio2   NUMERIC(25,9),\n@PrecioBase2   NUMERIC(25,9),\n@ManoDeObra2   NUMERIC(25,9),\n@Material2   NUMERIC(25,9),\n@Equipo2   NUMERIC(25,9),\n@Peso   NUMERIC(17,2),\n@Nivel SMALLINT,\n@CodTitulo VARCHAR(7), -- 9999999 para Tipo <> 5\n@CodPartida VARCHAR(12), -- 999999999999 para Tipo <> 1\n@CodPresupuestoPartida VARCHAR(7), -- 9999999 para Tipo <> 1\n@PropioPartida CHAR(2) ) -- 99 para Tipo <> 1*/\n\nexport const modificarItemSub = (CodPresupuesto, CodSubPresupuesto, Item, Orden, ItemAlterno, Secuencial, Descripcion, Unidad, Tipo, Metrado, MetradoBase, Precio1, PrecioBase1, ManoDeObra1, Material1, Equipo1, Precio2, PrecioBase2,ManoDeObra2, Material2, Equipo2, Peso, Nivel, CodTitulo, CodPartida,CodPresupuestoPartida, PropioPartida, userId) => {\n\t''\n\t\tDescripcion= Descripcion.replace(\"\\'\",\"´\");\n\t\n\t\treturn async (dispatch) => {\n\t\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t\tlet email = localStorage.getItem(\"email\");\n\t\t\tconst { data } = await axios.post(\n\t\t\t\t\"\",\n\t\t\t\t{\n\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_Modificar '${CodPresupuesto}','${Descripcion}','${Plazo}','${Fecha}','${Jornada}','${DobleMoneda}','${CostoDirectoBase1}','${CostoIndirectoBase1}','${CostoBase1}','${CostoDirectoBase2}','${CostoIndirectoBase2}','${CostoBase2}','${CodIdentificador}','${CodLugar}','${CodMoneda1}','${CodMoneda2}','${CodigoAlterno}','${JornadaSemana}','${JornadaMes}','${JornadaAno}','${email}'`,\n\t\t\t\t\tObjectName: `dbo.s10_01_SubpresupuestoDetalle_Modificar '${email}','${CodPresupuesto}','${CodSubPresupuesto}',${Item},'${Orden}','${ItemAlterno}',${Secuencial},'${Descripcion}','${Unidad}',${Tipo},${Metrado},${MetradoBase},${Precio1},${PrecioBase1},${ManoDeObra1},${Material1},${Equipo1},${Precio2},${PrecioBase2},${ManoDeObra2},${Material2},${Equipo2},${Peso},${Nivel},'${CodTitulo}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`,\n\t\t\t\t\tRequestId: \"RECOGER_ITEMS\",\n\t\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\t\t\tconsole.log(`dbo.s10_01_SubpresupuestoDetalle_Modificar '${email}','${CodPresupuesto}','${CodSubPresupuesto}',${Item},'${Orden}','${ItemAlterno}',${Secuencial},'${Descripcion}','${Unidad}',${Tipo},${Metrado},${MetradoBase},${Precio1},${PrecioBase1},${ManoDeObra1},${Material1},${Equipo1},${Precio2},${PrecioBase2},${ManoDeObra2},${Material2},${Equipo2},${Peso},${Nivel},'${CodTitulo}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`);\n\t\t}\n\t\n\t\n\t}\n\n\n/*\n\t(@EmailUsuario VARCHAR(128) = Null,\n\t@CodPresupuesto VARCHAR(7),\n\t@CodPartida VARCHAR(12),\n\t@CodPresupuestoPartida VARCHAR(7),\n\t@PropioPartida CHAR(2),\n\t@RendimientoMO NUMERIC(13,4) = Null,\n\t@RendimientoEQ NUMERIC(13,4) = Null )\n*/\n\n\texport const modificarItemRend = (CodPresupuesto, CodPartida, CodPresupuestoPartida, PropioPartida, RendimientoMO, RendimientoEQ, userId) => {\n\t\t''\n\t\t\t//Descripcion= Descripcion.replace(\"\\'\",\"´\");\t\t\n\t\t\treturn async (dispatch) => {\n\t\t\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t\t\tlet email = localStorage.getItem(\"email\");\n\t\t\t\tconst { data } = await axios.post(\n\t\t\t\t\t\"\",\n\t\t\t\t\t{\n\t\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_Modificar '${CodPresupuesto}','${Descripcion}','${Plazo}','${Fecha}','${Jornada}','${DobleMoneda}','${CostoDirectoBase1}','${CostoIndirectoBase1}','${CostoBase1}','${CostoDirectoBase2}','${CostoIndirectoBase2}','${CostoBase2}','${CodIdentificador}','${CodLugar}','${CodMoneda1}','${CodMoneda2}','${CodigoAlterno}','${JornadaSemana}','${JornadaMes}','${JornadaAno}','${email}'`,\n\t\t\t\t\t\tObjectName: `dbo.S10_01_Partida_ActualizarRendimientos '${email}','${CodPresupuesto}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}',${RendimientoMO},${RendimientoEQ}`,\n\t\t\t\t\t\tRequestId: \"MODIFICA_REND1\",\n\t\t\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t\tconsole.log(`dbo.S10_01_Partida_ActualizarRendimientos '${email}','${CodPresupuesto}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}',${RendimientoMO},${RendimientoEQ}`);\n\t\t\t}\n\t\t}\n\n\n\nexport const guardarSubPresupuesto = (CodPresupuesto, CodSubpresupuesto, Descripcion, CodModelo, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.S10_01_Subpresupuesto_Adicionar '${CodPresupuesto}','${CodSubpresupuesto}','${Descripcion}','${CodModelo}','${email}'`,\n\t\t\t\tRequestId: \"IngSubPres\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(data);\n\t}\n}\n\n/*export const modificarSubPresupuesto = (CodPresupuesto,CodSubpresupuesto,Descripcion,CodModelo,userId) =>{\n\treturn async (dispatch) =>{\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst {data} = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.S10_01_Subpresupuesto_Modificar '${CodPresupuesto}','${CodSubpresupuesto}','${Descripcion}','${CodModelo}','${email}'`,\n\t\t\t\tRequestId: \"ModSubPres\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token , // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(data);\n\t}\n}*/\n\n\n\n\nexport const guardarGrupo = (CodPresupuesto, Descripcion, Nivel, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_AdicionarGrupo '${email}','${CodPresupuesto}','${Descripcion}',${Nivel}`,\n\t\t\t\tRequestId: \"IngGrupo\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.S10_01_Presupuesto_AdicionarGrupo '${email}','${CodPresupuesto}','${Descripcion}',${Nivel}`);\n\t}\n}\n\nexport const modificarGrupo = (CodPresupuesto, Descripcion, Nivel, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_ModificarGrupo '${email}','${CodPresupuesto}','${Descripcion}',${Nivel}`,\n\t\t\t\tRequestId: \"ModGrupo\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(data);\n\t}\n}\n\n\nexport const eliminarGrupo = (CodPresupuesto, Descripcion, Nivel, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_EliminarGrupo '${CodPresupuesto}','${Descripcion}',${Nivel}`,\n\t\t\t\tRequestId: \"EliminaGrupo\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(data);\n\t}\n}\n\n\nexport const eliminarRecurso = (CodInsumo, Nivel, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.S10_00_Insumo_Eliminar '${email}','${CodInsumo}',${Nivel}`,\n\t\t\t\tRequestId: \"EliminaRec\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(data);\n\t}\n}\n\n\nexport const eliminarItemSub = (CodPresupuesto, CodSubPresupuesto, Item, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\tObjectName: `dbo.s10_01_SubpresupuestoDetalle_Eliminar '${email}','${CodPresupuesto}','${CodSubPresupuesto}','${Item}'`,\n\t\t\t\tRequestId: \"EliminaItemSub\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_SubpresupuestoDetalle_Eliminar '${email}','${CodPresupuesto}','${CodSubPresupuesto}','${Item}'`);\n\t}\n}\n\n\n\nexport const eliminarSubPresupuesto = (CodPresupuesto, CodSubPresupuesto, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//ObjectName: `dbo.s10_01_SubpresupuestoDetalle_Eliminar '${email}','${CodPresupuesto}','${CodSubPresupuesto}','${Item}'`,\n\t\t\t\tObjectName: `dbo.S10_01_Subpresupuesto_Eliminar '${CodPresupuesto}','${CodSubPresupuesto}'`,\n\t\t\t\tRequestId: \"EliminaSubPresupuesto\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.S10_01_Subpresupuesto_Eliminar '${CodPresupuesto}','${CodSubPresupuesto}'`);\n\t}\n}\n\n\n/*(@EmailUsuario VARCHAR(128) = Null,\n@CodPresupuesto VARCHAR(7),\n@CodPartida VARCHAR(12),\n@CodPresupuestoPartida VARCHAR(7),\n@PropioPartida CHAR(2),\n@Tipo TINYINT,    --1:Insumo   2:Subpartida\n@CodInsumo VARCHAR(14),\n@CodPartidaR VARCHAR(12),\n@CodPresupuestoR VARCHAR(7),\n@PropioPartidaR CHAR(2)*/\n\nexport const eliminarRecursoPartida = (CodPresupuesto, CodPartida,CodPresupuestoPartida,PropioPartida,Tipo,CodInsumo,CodPartidaR,CodPresupuestoR,PropioPartidaR, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//ObjectName: `dbo.s10_01_SubpresupuestoDetalle_Eliminar '${email}','${CodPresupuesto}','${CodSubPresupuesto}','${Item}'`,\n\t\t\t\tObjectName: `dbo.s10_01_PartidaDetalle_Eliminar '${email}','${CodPresupuesto}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}',${Tipo},'${CodInsumo}','${CodPartidaR}','${CodPresupuestoR}','${PropioPartidaR}'`,\n\t\t\t\tRequestId: \"EliminaRecursoPartida\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_PartidaDetalle_Eliminar '${email}','${CodPresupuesto}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}',${Tipo},'${CodInsumo}','${CodPartidaR}','${CodPresupuestoR}','${PropioPartidaR}'`);\n\t}\n}\n\n\n\n\nexport const guardarModelo = (CodPlano, NombreArchivoRvt, RutaArchivoRvt, UrnAddIn, UrnWeb, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\t//ObjectName: `dbo.S10_01_SubpresupuestoDetallePlano_Actualizar '${CodPlano}','${NombreArchivoRvt}','${RutaArchivoRvt}','${UrnAddIn}','${UrnWeb}','${email}'`,\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetallePlano_Actualizar '${CodPlano}','${NombreArchivoRvt}','${UrnAddIn}','${UrnWeb}','${email}'`,\n\t\t\t\tRequestId: \"ActPlano\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"estado del guardar modelo\" + `dbo.S10_01_SubpresupuestoDetallePlano_Actualizar '${CodPlano}','${NombreArchivoRvt}','${UrnAddIn}','${UrnWeb}','${email}'`);\n\t\tconsole.log(data);\n\t}\n}\n\n\nexport const guardarAsociado = (Presupuesto, SubPresupuesto, Item, CodAsociado, Categoria, Familia, Tipo, campoFiltro, valorFiltro, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '${Presupuesto}','${SubPresupuesto}','${Item}','${CodAsociado}','${Categoria}','${Familia}','${Tipo}','${campoFiltro}','${valorFiltro}','${email}'`,\n\t\t\t\tRequestId: \"IngAsociado\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a guardar asociado\" + `dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '${Presupuesto}','${SubPresupuesto}','${Item}','${CodAsociado}','${Categoria}','${Familia}','${Tipo}','${campoFiltro}','${valorFiltro}','${email}'`);\n\t\tconsole.log(data);\n\n\t}\n}\n//private async void GuardarEstructura(string CodEstructura, string Nivel, string Campo, string Mostrar)\nexport const guardarEstructura = (Presupuesto, SubPresupuesto, Item, CodEstructura, Nivel, Campo, Mostrar, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalleEstructura_Actualizar '${Presupuesto}','${SubPresupuesto}','${Item}','${CodEstructura}','${Nivel}','${Campo}','${Mostrar}','${email}'`,\n\t\t\t\tRequestId: \"IngEstructura\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a guardar estructura\" + `dbo.S10_01_SubpresupuestoDetalleEstructura_Actualizar '${Presupuesto}','${SubPresupuesto}','${Item}','${CodEstructura}','${Nivel}','${Campo}','${Mostrar}','${email}'`);\n\t\tconsole.log(data);\n\n\t}\n}\n\n//private async void GuardarCalculo(string CodCalculo, string Descripcion, string Cantidad, string Longitud, string Ancho, string Alto)\nexport const guardarCalculo = (Presupuesto, SubPresupuesto, Item, CodCalculo, Descripcion, Cantidad, Longitud, Ancho, Alto, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalleCalculo_Actualizar '${Presupuesto}','${SubPresupuesto}','${Item}','${CodCalculo}','${Descripcion}','${Cantidad}','${Longitud}','${Ancho}','${Alto}','${email}'`,\n\t\t\t\tRequestId: \"IngCalculo\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a guardar asociado\" + `dbo.S10_01_SubpresupuestoDetalleCalculo_Actualizar '${Presupuesto}','${SubPresupuesto}','${Item}','${CodCalculo}','${Descripcion}','${Cantidad}','${Longitud}','${Ancho}','${Alto}','${email}'`);\n\t\tconsole.log(data);\n\n\t}\n}\n\n\n//private async void GuardarCalculoDetalle(string CodCalculoDetalle, string CodCalculo, string TipoCampo, string Campo, string Operacion, string Posicion)\nexport const guardarCalculoDetalle = (Presupuesto, SubPresupuesto, Item, CodCalculoDetalle, CodCalculo, TipoCampo, Campo, Operacion, Posicion, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalleCalculoDetalle_Actualizar '${Presupuesto}','${SubPresupuesto}','${Item}','${CodCalculoDetalle}','${CodCalculo}','${TipoCampo}','${Campo}','${Operacion}','${Posicion}','${email}'`,\n\t\t\t\tRequestId: \"IngCalculoDetalle\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a guardar estructura\" + `dbo.S10_01_SubpresupuestoDetalleCalculoDetalle_Actualizar '${Presupuesto}','${SubPresupuesto}','${Item}','${CodCalculoDetalle}','${CodCalculo}','${TipoCampo}','${Campo}','${Operacion}','${Posicion}','${email}'`);\n\t\tconsole.log(data);\n\n\t}\n}\n\n\n\nexport const guardarPartida = (CodPartida, CodPresupuesto, PropioPartida, Nivel, CodigoAlterno, Descripcion, DescripcionAlterna, CodUnidad, Grupo, RendimientoMO,RendimientoEQ, Jornada, CodUnidadPeso, Peso ,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.s10_01_Partida_Adicionar '${email}','${CodPartida}','${'9999999'}','${PropioPartida}',${Nivel},'${CodigoAlterno}','${Descripcion}','${DescripcionAlterna}','${CodUnidad}',${Grupo},${RendimientoMO},${RendimientoEQ},${Jornada},${CodUnidadPeso},${Peso}`,\n\t\t\t\tRequestId: \"IngPartidaN\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a guardar partida\" + `dbo.s10_01_Partida_Adicionar '${email}','${CodPartida}','${CodPresupuesto}','${PropioPartida}',${Nivel},'${CodigoAlterno}','${Descripcion}','${DescripcionAlterna}','${CodUnidad}',${Grupo},${RendimientoMO},${RendimientoEQ},${Jornada},${CodUnidadPeso},${Peso}`);\n\t\tconsole.log(data);\n\n\t}\n}\n\n\nexport const guardarTitulo = (CodTitulo, Nivel, CodigoAlterno, Descripcion, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.s10_01_Titulo_Adicionar '${email}','${CodTitulo}',${Nivel},'${CodigoAlterno}','${Descripcion}'`,\n\t\t\t\tRequestId: \"IngTituloN\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a guardar partida\" + `dbo.s10_01_Titulo_Adicionar '${email}','${CodTitulo}',${Nivel},'${CodigoAlterno}','${Descripcion}'`);\n\t\tconsole.log(data);\n\n\t}\n}\n\n\n\nexport const modificarPartida = (CodPartida, CodPresupuesto, PropioPartida, Nivel, CodigoAlterno, Descripcion, DescripcionAlterna, CodUnidad, Grupo, RendimientoMO,RendimientoEQ, Jornada, CodUnidadPeso, Peso ,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.s10_01_Partida_Modificar '${email}','${CodPartida}','${CodPresupuesto}','${PropioPartida}',${Nivel},'${CodigoAlterno}','${Descripcion}','${DescripcionAlterna}','${CodUnidad}',${Grupo},${RendimientoMO},${RendimientoEQ},${Jornada},${CodUnidadPeso},${Peso}`,\n\t\t\t\tRequestId: \"ModPartida1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a modificar partida \" + `dbo.s10_01_Partida_Modificar '${email}','${CodPartida}','${CodPresupuesto}','${PropioPartida}',${Nivel},'${CodigoAlterno}','${Descripcion}','${DescripcionAlterna}','${CodUnidad}',${Grupo},${RendimientoMO},${RendimientoEQ},${Jornada},${CodUnidadPeso},${Peso}`,);\n\t\tconsole.log(data);\n\n\t}\n}\n\nexport const modificarRecurso = (CodInsumo, CodAlterno, Nivel, Descripcion, CodUnidad, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.S10_00_Insumo_Modificar '${email}','${CodInsumo}','${CodAlterno}',${Nivel},'${Descripcion}','${CodUnidad}'`,\n\t\t\t\tRequestId: \"ModInsumo1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a modificar insumo \" + `dbo.S10_00_Insumo_Modificar '${email}','${CodInsumo}','${CodAlterno}',${Nivel},'${Descripcion}','${CodUnidad}'`);\n\t\tconsole.log(data);\n\t}\n}\n\nexport const agregarRecurso = (CodInsumo, CodAlterno, Nivel, Descripcion, CodUnidad, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.S10_00_Insumo_Adicionar '${email}','${CodInsumo}','${CodAlterno}',${Nivel},'${Descripcion}','${CodUnidad}'`,\n\t\t\t\tRequestId: \"AddInsumo1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a AGREGAR insumo \" + `dbo.S10_00_Insumo_Adicionar '${email}','${CodInsumo}','${CodAlterno}',${Nivel},'${Descripcion}','${CodUnidad}'`);\n\t\tconsole.log(data);\n\t}\n}\n\n\n\nexport const modificarTitulo = (CodTitulo, Nivel, CodigoAlterno, Descripcion, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.s10_01_Titulo_Modificar '${email}','${CodTitulo}',${Nivel},'${CodigoAlterno}','${Descripcion}'`,\n\t\t\t\tRequestId: \"ModTitulo1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a modificar partida \" + `dbo.s10_01_Titulo_Modificar '${email}','${CodTitulo}',${Nivel},'${CodigoAlterno}','${Descripcion}'`);\n\t\tconsole.log(data);\n\n\t}\n}\n\n\nexport const eliminarPartida = (CodPartida, CodPresupuesto, PropioPartida, Nivel,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.s10_01_Partida_Eliminar '${email}','${CodPartida}','${CodPresupuesto}','${PropioPartida}',${Nivel}`,\n\t\t\t\tRequestId: \"ElimPartida1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a guardar partida\" + `dbo.s10_01_Partida_Eliminar '${email}','${CodPartida}','${CodPresupuesto}','${PropioPartida}',${Nivel}`);\n\t\tconsole.log(data);\n\n\t}\n}\n\n\nexport const eliminarTitulo = (CodTitulo, Nivel,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: `dbo.s10_01_Titulo_Eliminar '${email}','${CodTitulo}',${Nivel}`,\n\t\t\t\tRequestId: \"ElimTitulo1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a eliminar titulo\" + `dbo.s10_01_Titulo_Eliminar '${email}','${CodTitulo}',${Nivel}`);\n\t\tconsole.log(data);\n\n\t}\n}\n\n\n\n\nexport const eliminarXCodigo = (Tabla, CodEliminar, userId) => {\n\n\tlet CadenaC = '';\n\tswitch (Tabla) {\n\t\tcase 'Asociado':\n\t\t\tCadenaC = `dbo.S10_01_SubpresupuestoDetalleAsociado_Eliminar '${CodEliminar}'`\n\t\t\tbreak;\n\t\tcase 'Estructura':\n\t\t\tCadenaC = `dbo.S10_01_SubpresupuestoDetalleEstructura_Eliminar '${CodEliminar}'`\n\t\t\tbreak;\n\t\tcase 'Medicion':\n\t\t\tCadenaC = `dbo.S10_01_SubpresupuestoDetalleMedicion_Eliminar '${CodEliminar}'`\n\t\t\tbreak;\n\t\tcase 'Calculo':\n\t\t\tCadenaC = `dbo.S10_01_SubpresupuestoDetalleCalculo_Eliminar '${CodEliminar}'`\n\t\t\tbreak;\n\t\tcase 'CalculoDetalle':\n\t\t\tCadenaC = `dbo.S10_01_SubpresupuestoDetalleCalculoDetalle_Eliminar '${CodEliminar}'`\n\t\t\tbreak;\n\t};\n\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t//request.AddParameter(\"ObjectName\", \"dbo.S10_01_SubpresupuestoDetalleAsociado_Actualizar '\" + Presupuesto_actual + \"','\" + SubPresupuesto_actual + \"','\" + Item_actual + \"','\" + CodAsociado + \"','\" + Categoria + \"','\" + Familia + \"','\" + Tipo + \"','\" + campoFiltro + \"','\" + valorFiltro + \"','\" + EmailUsuario + \"'\");\n\t\t\t\tObjectName: CadenaC,\n\t\t\t\tRequestId: \"EliminarXCodigo\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(\"llamando a eliminar \" + Tabla + CadenaC);\n\t\tconsole.log(data);\n\n\t}\n}\n\n\n\n\nexport const ModificarSubPresupuesto = (CodPresupuesto, CodSubPresupuesto, Descripcion, CodModelo, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log(idCod, idPc);\n\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: false,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\t//ObjectName: `dbo.S10_01_Subpresupuesto_Modificar '${CodPresupuesto}','${CodSubPresupuesto}','${Descripcion}','${CodModelo}'`,\n\t\t\t\tObjectName: `dbo.S10_01_Subpresupuesto_Modificar '${CodPresupuesto}','${CodSubPresupuesto}','${Descripcion}','${CodModelo}','${email}'`,\n\t\t\t\tRequestId: \"ActSub\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: '1148', // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t}\n}\n\n\nexport const selectMODELOS = (userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetallePlano_Listar`,\n\t\t\t\tRequestId: \"LISTAR_MODELOS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t}\n}\n\n\nexport const selectPartida = (IdPartida,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Partida_LeerRegistro '${IdPartida}','${'9999999'}','${'99'}',6`,\n\t\t\t\tRequestId: \"LEER_PARTIDA\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_Partida_LeerRegistro '${IdPartida}','${'9999999'}','${'99'}',6`);\n\n\t\n\t}\n}\n\n\nexport const selectRecurso = (CodInsumo,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_Insumo_LeerRegistro '${CodInsumo}',4`,\n\t\t\t\tRequestId: \"LEER_RECURSO\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.S10_00_Insumo_LeerRegistro '${CodInsumo}',4`);\n\n\t\n\t}\n}\n\nexport const selectRecurso1 = (CodInsumo,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_Insumo_LeerRegistro '${CodInsumo}',4`,\n\t\t\t\tRequestId: \"LEER_RECURSO1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.S10_00_Insumo_LeerRegistro '${CodInsumo}',4`);\n\n\t\n\t}\n}\n\nexport const selectPartida1 = (IdPartida,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Partida_LeerRegistro '${IdPartida}','${'9999999'}','${'99'}',6`,\n\t\t\t\tRequestId: \"LEER_PARTIDA1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_Partida_LeerRegistro '${IdPartida}','${'9999999'}','${'99'}',6`);\n\n\t\n\t}\n}\n\nexport const selectTitulo = (IdTitulo,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Titulo_LeerRegistro '${IdTitulo}',3`,\n\t\t\t\tRequestId: \"LEER_TITULO\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_Titulo_LeerRegistro '${IdTitulo}',3`);\n\n\t\n\t}\n}\n\n\nexport const selectTitulo1 = (IdTitulo,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Titulo_LeerRegistro '${IdTitulo}',3`,\n\t\t\t\tRequestId: \"LEER_TITULO1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_Titulo_LeerRegistro '${IdTitulo}',3`);\n\n\t\n\t}\n}\n\n\nexport const selectMONEDAS = (userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_Moneda_ListarPorDescripcion ''`,\n\t\t\t\tRequestId: \"LISTAR_MONEDAS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t}\n}\n\n\n\nexport const selectUNIDADES = (Descripcion, Cantidad, Pagina,  userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_Unidad_ListarPorDescripcion '${Descripcion}','${Cantidad}','${Pagina}','${'Null'}'`,\n\t\t\t\tRequestId: \"LISTAR_UNIDADES\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t}\n}\n\n\n\nexport const selectUBICACIONES = (Descripcion, Cantidad, Pagina, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_UbicacionGeografica_ListarPorDescripcion '${Descripcion}','${Cantidad}','${Pagina}'`,\n\t\t\t\tRequestId: \"LISTAR_UBICACIONES\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n}\n\n\nexport const selectTITULOS = (Descripcion, TamPagina, NumPagina, EtiquetaPag, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_Titulo_ListarPorDescripcion '${Descripcion}','${TamPagina}','${NumPagina}','${EtiquetaPag}'`,\n\t\t\t\t//ObjectName: `dbo.S10_01_Partida_ListarPorDescripcion '${Descripcion}','${TamPagina}','${NumPagina}','${EtiquetaPag}'`,\n\t\t\t\tRequestId: \"LISTAR_TITULOS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t}\n}\n\n\nexport const selectTITULOS1 = (Descripcion, TamPagina, NumPagina, EtiquetaPag, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_Titulo_ListarPorDescripcion '${Descripcion}','${TamPagina}','${NumPagina}','${EtiquetaPag}'`,\n\t\t\t\t//ObjectName: `dbo.S10_01_Partida_ListarPorDescripcion '${Descripcion}','${TamPagina}','${NumPagina}','${EtiquetaPag}'`,\n\t\t\t\tRequestId: \"LISTAR_TITULOS1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t}\n}\n\nexport const selectPARTIDAS = (Descripcion, TamPagina, NumPagina, EtiquetaPag, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\t\t\t\t\n\t\t\t\tObjectName: `dbo.S10_01_Partida_ListarPorDescripcion '${Descripcion}','${TamPagina}','${NumPagina}','${EtiquetaPag}'`,\n\t\t\t\tRequestId: \"LISTAR_PARTIDAS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n}\n\n\nexport const selectPARTIDAS1 = (Descripcion, TamPagina, NumPagina, EtiquetaPag, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\t\t\t\t\n\t\t\t\tObjectName: `dbo.S10_01_Partida_ListarPorDescripcion '${Descripcion}','${TamPagina}','${NumPagina}','${EtiquetaPag}'`,\n\t\t\t\tRequestId: \"LISTAR_PARTIDAS1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n}\n\n\nexport const selectPARTIDAS2 = (Descripcion, TamPagina, NumPagina, EtiquetaPag, userId, salida) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tconsole.log('PASA POR SELECT PARTIDAS 2');\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\t\t\t\t\n\t\t\t\tObjectName: `dbo.S10_01_Partida_ListarPorDescripcion '${Descripcion}','${TamPagina}','${NumPagina}','${EtiquetaPag}'`,\n\t\t\t\tRequestId: salida,\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n}\n\n\nexport const selectAPUS = (CodPres, CodSubP, CodItem, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_SubpresupuestoDetalle_ListarAnalisisPU '${CodPres}','${CodSubP}','${CodItem}'`,\n\t\t\t\tRequestId: \"APU_DETALLE\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\nexport const selectAPUSCATALOGO = (CodPres, CodSubP, CodPartida, CodPresupuestoPartida, PropioPartida, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Partida_ListarAnalisisPU '${CodPres}','${CodSubP}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`,\n\t\t\t\tRequestId: \"APU_DETALLE_CATALOGO\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_Partida_ListarAnalisisPU '${CodPres}','${CodSubP}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`,data);\n\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\nexport const selectAPUSCATALOGO2 = (CodPres, CodSubP, CodPartida, CodPresupuestoPartida, PropioPartida, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Partida_ListarAnalisisPU '${CodPres}','${CodSubP}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`,\n\t\t\t\tRequestId: \"APU_DETALLE_CATALOGO2\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_Partida_ListarAnalisisPU '${CodPres}','${CodSubP}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`,data);\n\n\t}\n}\n\n\nexport const selectAPUSCATALOGO1 = (CodPres, CodSubP, CodPartida, CodPresupuestoPartida, PropioPartida, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Partida_ListarAnalisisPU '${CodPres}','${CodSubP}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`,\n\t\t\t\tRequestId: \"APU_DETALLE_CATALOGO1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_Partida_ListarAnalisisPU '${CodPres}','${CodSubP}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`,data);\n\n\t}\n}\n\n\nexport const selectAPUSCATALOGOSUBP = (CodPres, CodSubP, CodPartida, CodPresupuestoPartida, PropioPartida, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Partida_ListarAnalisisPU '${CodPres}','${CodSubP}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`,\n\t\t\t\tRequestId: \"APU_DETALLE_CATALOGO_SUBP\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_Partida_ListarAnalisisPU '${CodPres}','${CodSubP}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}'`,data);\n\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\n\n\nexport const selectMETRADOS = (CodPres, CodSubP, CodItem, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalle_ListarMedicion '${CodPres}','${CodSubP}','${CodItem}'`,\n\t\t\t\tRequestId: \"METRADO_DETALLE\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t}\n}\n\n\n\n\n\nexport const selectParidas = (Unique, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalle_ListarMedicionPorUniqueId '${Unique}'`,\n\t\t\t\tRequestId: \"UNIQUE_DETALLE\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\nexport const selectAsociados = (CodPres, CodSubP, CodItem, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalle_ListarAsociado '${CodPres}','${CodSubP}','${CodItem}'`,\n\t\t\t\tRequestId: \"ASOCIADO_DETALLE\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\n\nexport const obtenerIdPartida = (CodPartida, Nivel, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Partida_NuevoCodigo '${CodPartida}',${Nivel}`,\n\t\t\t\tRequestId: \"CODIGO_OBTENIDO\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\t\tconsole.log(`dbo.s10_01_Partida_NuevoCodigo '${CodPartida}',${Nivel}`);\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\nexport const obtenerIdPartida1 = (CodPartida, Nivel, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Partida_NuevoCodigo '${CodPartida}',${Nivel}`,\n\t\t\t\tRequestId: \"CODIGO_OBTENIDO1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\t\tconsole.log(`dbo.s10_01_Partida_NuevoCodigo '${CodPartida}',${Nivel}`);\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\nexport const obtenerIdTitulo = (CodTitulo, Nivel, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Titulo_NuevoCodigo '${CodTitulo}',${Nivel}`,\n\t\t\t\tRequestId: \"CODIGO_OBTENIDO_TITULO\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\t\tconsole.log(`dbo.s10_01_Titulo_NuevoCodigo '${CodTitulo}',${Nivel}`);\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\nexport const obtenerIdTitulo1 = (CodTitulo, Nivel, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_Titulo_NuevoCodigo '${CodTitulo}',${Nivel}`,\n\t\t\t\tRequestId: \"CODIGO_OBTENIDO_TITULO1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\t\tconsole.log(`dbo.s10_01_Titulo_NuevoCodigo '${CodTitulo}',${Nivel}`);\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\nexport const obtenerIdRecurso = (CodInsumo, Nivel, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_Insumo_NuevoCodigo '${CodInsumo}',${Nivel}`,\n\t\t\t\tRequestId: \"CODIGO_OBTENIDO_RECURSO\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\t\tconsole.log(`dbo.S10_00_Insumo_NuevoCodigo '${CodInsumo}',${Nivel}`);\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\nexport const obtenerIdRecurso1 = (CodInsumo, Nivel, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_Insumo_NuevoCodigo '${CodInsumo}',${Nivel}`,\n\t\t\t\tRequestId: \"CODIGO_OBTENIDO_RECURSO1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\t\tconsole.log(`dbo.S10_00_Insumo_NuevoCodigo '${CodInsumo}',${Nivel}`);\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\n\nexport const selectEstructura = (CodPres, CodSubP, CodItem, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalle_ListarEstructura '${CodPres}','${CodSubP}','${CodItem}'`,\n\t\t\t\tRequestId: \"ESTRUCTURA_DETALLE\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\n\nexport const selectCalculo = (CodPres, CodSubP, CodItem, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalle_ListarCalculo '${CodPres}','${CodSubP}','${CodItem}'`,\n\t\t\t\tRequestId: \"CALCULO_DETALLE\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\nexport const selectCalculoDet = (CodPres, CodSubP, CodItem, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalle_ListarCalculoDetalle '${CodPres}','${CodSubP}','${CodItem}'`,\n\t\t\t\tRequestId: \"CALCULODET_DETALLE\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t//console.log(data);\n\n\t\t/*dispatch({\n\t\t\ttype: ID_PC,\n\t\t\tpayload: CodPres\n\t\t})*/\n\t}\n}\n\n\nexport const cleanDataChart1 = () => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LISTAR_POR_PERIODO,\n\t\t\tpayload: []\n\t\t})\n}\n\n\n\nexport const SelectUrn = (Urn) => {\n\t// console.log('reiniciando desde actions')\n\t//alert(Urn);\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: URN_WEB,\n\t\t\tpayload: Urn\n\t\t})\n}\n\nexport const SelectUrnB = (Urn) => {\n\t// console.log('reiniciando desde actions')\n\t//alert(Urn);\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: URN_WEB1,\n\t\t\tpayload: Urn\n\t\t})\n}\n\n\nexport const cleanDataChartAPU = () => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: APU_DETALLE,\n\t\t\tpayload: []\n\t\t})\n}\n\n\n\n\n\nexport const cleanDataChart = () => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LISTAR_POR_PERIODO,\n\t\t\tpayload: []\n\t\t})\n}\n\n\nexport const LimpiarSubPres = () => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: PARTY_CONTROL1,\n\t\t\tpayload: []\n\t\t})\n}\n\n\nexport const cleanDataChart22 = () => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: METRADO_LIMPIAR,\n\t\t\tpayload: []\n\t\t})\n}\n\n\n\nexport const limpiaTree = () => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LIMPIA_PARTY_CONTROL,\n\t\t\tpayload: []\n\t\t})\n}\n\nexport const limpiaSubs = () => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LIMPIAR_SUBS,\n\t\t\tpayload: []\n\t\t})\n}\n\nexport const limpiaUbicaciones = () => ({\n\ttype: LIMPIAR_UBICACIONES,\n\tpayload: []\n})\n\n\nexport const navigationTree = (grupo) => ({\n\ttype: NAVIGATION_TREE,\n\tpayload: { grupo }\n})\n\nexport const navigationTreePC = (grupo) => ({\n\ttype: NAVIGATION_TREE_PC,\n\tpayload: { grupo }\n})\n\n\nexport const cambiaSeleccion = (sel) => ({\n\ttype: CAMBIA_SELECCION,\n\tpayload: sel\n})\n\n\nexport const agregaRegistro = (sel) => ({\n\ttype: AGREGA_REGISTRO,\n\tpayload: sel\n})\n\nexport const agregaCategoria = (sel) => ({\n\ttype: AGREGA_CATEGORIA,\n\tpayload: sel\n})\n\nexport const agregaTipo = (sel) => ({\n\ttype: AGREGA_TIPO,\n\tpayload: sel\n})\n\nexport const agregaFamilia = (sel) => ({\n\ttype: AGREGA_FAMILIA,\n\tpayload: sel\n})\n\n\nexport const agregaCategoriaB = (sel) => ({\n\ttype: AGREGA_CATEGORIAB,\n\tpayload: sel\n})\n\nexport const agregaTipoB = (sel) => ({\n\ttype: AGREGA_TIPOB,\n\tpayload: sel\n})\n\nexport const agregaFamiliaB = (sel) => ({\n\ttype: AGREGA_FAMILIAB,\n\tpayload: sel\n})\n\nexport const agregaElementos = (sel) => ({\n\ttype: AGREGA_ELEMENTOS,\n\tpayload: sel\n})\n\nexport const ponerPropiedades = (sel) => ({\n\ttype: PONER_PROPS,\n\tpayload: sel\n})\n\n/*export const seleccionarFilaAsociado = (sel) => ({\n\ttype: CAMBIAR_FILA_ASOCIADO,\n\tpayload: sel\n})*/\n\nexport const seleccionarFilaAsociado = (sel) => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: CAMBIAR_FILA_ASOCIADO,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\nexport const agregaGrupo1 = (sel) => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: AGREGA_GRUPO,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\nexport const agregacalculoDet = (sel) => {\n\tconsole.log('LLAMANDO A DISPARAR')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ADD_CALCULODET,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const modificaCalculoDet = (sel) => {\n\tconsole.log('LLAMANDO A modificar')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: UPDATE_CALCULODET,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const eliminaCalculoDet = (sel) => {\n\tconsole.log('LLAMANDO A eliminar')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: DELETE_CALCULODET,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const modificaGrupo1 = (sel) => {\n\tconsole.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: MODIFICA_GRUPO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const modificaSub = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: MODIFICA_SUB,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const modificaSub1 = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: MODIFICA_SUB1,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const agregaSub1 = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: AGREGA_SUB1,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const eliminaGrupo1 = (sel) => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ELIMINA_GRUPO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const eliminaGrupoSub = (sel) => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ELIMINA_GRUPOSUB,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const eliminaAsociado = (sel) => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: DELETE_ASOCIADO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const eliminaEstructura = (sel) => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: DELETE_ESTRUCTURA,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const modificaEstructura = (sel) => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: UPDATE_ESTRUCTURA,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const modificaAsociado = (sel) => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: UPDATE_ASOCIADO,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\nexport const agregaItem = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ADD_ITEM,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\nexport const modificaItem = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: UPDATE_ITEM,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\nexport const removerItem = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: DELETE_ITEM,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\nexport const eliminaItem = (sel) => {\n\t// console.log('reiniciando desde actions')\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: REMOVE_ITEM,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\n\nexport const actualizaMetrado = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: UPDATE_METRADO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const establecerMetrado = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ESTABLECE_METRADO,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\n\nexport const borraMetrado = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: DELETE_METRADO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const agregaMetrado = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ADD_METRADO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const actPresupuesto = (sel) => {\n\t/*console.log('aGREGANDO MODIFICA GRUPO');\n\tconsole.log(sel);*/\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ACT_PRESUPUESTO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const addAsociado = (sel) => {\n\t//console.log('aGREGANDO asociado');\n\t//console.log(sel);\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ADD_ASOCIADO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const addEstructura = (sel) => {\n\t//console.log('aGREGANDO estructura');\n\t//console.log(sel);\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ADD_ESTRUCTURA,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\nexport const limpiarItemsIngresados = (sel) => {\n\t//console.log('aGREGANDO estructura');\n\t//console.log(sel);\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LIMPIAR_ITEMS,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const addCalculo = (sel) => {\n\t//console.log('aGREGANDO estructura');\n\t//console.log(sel);\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ADD_CALCULO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const actualizaCalculo = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: UPDATE_CALCULO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const limpiaAsociado = () => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ASOCIADO_LIMPIAR,\n\t\t\tpayload: []\n\t\t})\n}\n\nexport const modificaPartidas = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: UPDATE_PARTIDAS,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const modificaRecursos = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: UPDATE_RECURSOS,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const modificaTitulos = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: UPDATE_TITULOS,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\n\nexport const agregaPartidas = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ADD_PARTIDAS,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\n\nexport const agregaRecursos = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ADD_RECURSOS,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\n\nexport const agregaTitulos = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ADD_TITULOS,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\n\nexport const eliminaPartidas = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: DELETE_PARTIDAS,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\n/*export const eliminaRecursos = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: DELETE_PARTIDAS,\n\t\t\tpayload: sel\n\t\t})\n}*/\n\n\nexport const eliminaTitulos = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: DELETE_TITULOS,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const eliminaRecursos = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: DELETE_RECURSOS,\n\t\t\tpayload: sel\n\t\t})\n}\n\n\n\nexport const estableceItems = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ESTABLECE_ITEM,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const agregaFavorito = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ADD_FAVORITO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const eliminaFavorito = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: DELETE_FAVORITO,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const SeleccionaSub = (sel) => ({\n\ttype: SUB_SEL,\n\tpayload: sel\n})\n\nexport const selectTree = (nodeId) => {\n\treturn ({\n\t\ttype: TREE_SELECTEDS,\n\t\tpayload: nodeId\n\t})\n}\n\nexport const establecerPartidas = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ESTABLECER_PARTIDAS,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const establecerTitulos = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ESTABLECER_TITULOS,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const establecerPartidasM = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ESTABLECE_PARTIDAS,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const limpiaElementosItems = () => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LIMPIA_ELEMENTOS_ITEMS,\n\t\t\tpayload: []\n\t\t})\n}\n\nexport const seleccionaItemGlb = (sel) => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: ITEM_SELEC,\n\t\t\tpayload: sel\n\t\t})\n}\n\nexport const limpiarGRPPARTIDAS = () => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LIMPIAR_GRP_PARTIDAS,\n\t\t\tpayload: []\n\t\t})\n}\n\nexport const limpiarGRPRECURSOS = () => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LIMPIAR_GRP_RECURSOS,\n\t\t\tpayload: []\n\t\t})\n}\n\nexport const limpiarGRPTITULOS = () => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LIMPIAR_GRP_TITULOS,\n\t\t\tpayload: []\n\t\t})\n}\n\n\n\n\nexport const selectELEMENTOS_METRADOS = (CodPres, CodSubP, CodItem, userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_SubpresupuestoDetalle_ListarMedicion '${CodPres}','${CodSubP}','${CodItem}'`,\n\t\t\t\tRequestId: \"PIDE_ELEMENTOS_ITEMS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\n\t}\n}\n\nexport const selectRECURSOS = (Descripcion, Cantidad, Pagina, EtiquetaPag, userId ) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_Insumo_ListarPorDescripcion '${Descripcion}','${Cantidad}','${Pagina}','${EtiquetaPag}'`,\n\t\t\t\tRequestId: \"LISTAR_RECURSOS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n}\n\n\nexport const selectRECURSOS1 = (Descripcion, Cantidad, Pagina, EtiquetaPag, userId ) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_Insumo_ListarPorDescripcion '${Descripcion}','${Cantidad}','${Pagina}','${EtiquetaPag}'`,\n\t\t\t\tRequestId: \"LISTAR_RECURSOS1\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n}\n\nexport const selectGRPPARTIDAS = (Nivel, CodPartida, TamanoPagina, NumeroPagina,EtiquetaPagina ,userId, Req ) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_Partida_ListarPorNivel ${Nivel},'${CodPartida}',${TamanoPagina},${NumeroPagina},'${EtiquetaPagina}'`,\n\t\t\t\tRequestId: Req,\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n}\n\nexport const selectGRPTITULOS = (Nivel, CodTitulo, TamanoPagina, NumeroPagina,EtiquetaPagina ,userId, Req ) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_Titulo_ListarPorNivel ${Nivel},'${CodTitulo}',${TamanoPagina},${NumeroPagina},'${EtiquetaPagina}'`,\n\t\t\t\tRequestId: Req,\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n}\n\nexport const selectGRPRECURSOS = (Nivel, CodInsumo, TamanoPagina, NumeroPagina,EtiquetaPagina ,userId, Req ) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_00_Insumo_ListarPorNivel ${Nivel},'${CodInsumo}',${TamanoPagina},${NumeroPagina},'${EtiquetaPagina}'`,\n\t\t\t\tRequestId: Req,\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t}\n}\n\n\n/*[dbo].[S10_01_Partida_GenerarArbolSubpartidas]\n@CodPresupuesto VARCHAR(7),\n@CodPartida VARCHAR(12),\n@CodPresupuestoPartida VARCHAR(7),\n@PropioPartida CHAR(2),  \n@Recursivo BIT = 0 Output*/\n\nexport const selectARBOLSUBPARTIDAS = (CodPresupuesto, CodPartida, CodPresupuestoPartida, PropioPartida,Recursivo ,userId ) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_Partida_GenerarArbolSubpartidas '${CodPresupuesto}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}',${Recursivo}`,\n\t\t\t\tRequestId: \"LEER_ARBOL_SUBPARTIDAS\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.S10_01_Partida_GenerarArbolSubpartidas '${CodPresupuesto}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}',${Recursivo}`, data);\n\t}\n}\n\n\n\nexport const limpiarRECURSOS = () => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LIMPIAR_RECURSOS,\n\t\t\tpayload: []\n\t\t})\n}\n\n\nexport const limpiarPRECIOSRECURSOS = () => {\n\treturn (dispatch) =>\n\t\tdispatch({\n\t\t\ttype: LIMPIAR_DETALLE_PRECIOS,\n\t\t\tpayload: []\n\t\t})\n}\n\n/*[dbo].[s10_01_PartidaDetalle_Modificar]\n(@EmailUsuario VARCHAR(128) = Null,\n@CodPresupuesto VARCHAR(7),\n@CodSubpresupuesto VARCHAR(3),\n@CodPartida VARCHAR(12),\n@CodPresupuestoPartida VARCHAR(7),\n@PropioPartida CHAR(2),\n@Tipo TINYINT,    --1:Insumo   2:Subpartida\n@CodInsumo VARCHAR(14),\n@CodPartidaR VARCHAR(12),\n@CodPresupuestoR VARCHAR(7),\n@PropioPartidaR CHAR(2),\n@Cuadrilla NUMERIC(15, 6),\n@Cantidad NUMERIC(15, 6),\n@Precio1 NUMERIC(15, 6),\n@Precio2 NUMERIC(15, 6),\n@ColumnaEdicion TINYINT = 0 --0:Cuadrilla  1:Cantidad  2:Precio 1  3:Precio2  4:Otros*/\n\n\nexport const modificaAPU = (CodPresupuesto, CodSubpresupuesto, CodPartida,CodPresupuestoPartida ,PropioPartida,Tipo,CodInsumo,CodPartidaR,CodPresupuestoR,PropioPartidaR,Cuadrilla,Cantidad,Precio1,Precio2,ColumnaEdicion,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\t\t\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_PartidaDetalle_Modificar '${email}','${CodPresupuesto}','${CodSubpresupuesto}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}',${Tipo},'${CodInsumo}','${CodPartidaR}','${CodPresupuestoR}','${PropioPartidaR}',${Cuadrilla},${Cantidad},${Precio1},${Precio2},${ColumnaEdicion}`,\n\t\t\t\t//ObjectName: `dbo.s10_01_PartidaDetalle_Modificar '${'ncortez@s10peru.com'}','${'9999999'}','${'999'}',${CodPartida},'${CodPresupuestoPartida}','${PropioPartida}',${Tipo},'${CodInsumo}','${CodPartidaR}','${CodPresupuestoR}','${PropioPartidaR}',${Cuadrilla},${Cantidad},${Precio1},${Precio2},${ColumnaEdicion}`,\n\t\t\t\tRequestId: \"MODIFICAR_APU\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_PartidaDetalle_Modificar '${email}','${CodPresupuesto}','${CodSubpresupuesto}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}',${Tipo},'${CodInsumo}','${CodPartidaR}','${CodPresupuestoR}','${PropioPartidaR}',${Cuadrilla},${Cantidad},${Precio1},${Precio2},${ColumnaEdicion}`, data);\n\t}\n}\n\n\n/*\n(@EmailUsuario VARCHAR(128) = Null,\n@CodPresupuesto VARCHAR(7),\n@CodSubpresupuesto VARCHAR(3),\n@CodInsumo VARCHAR(14),\n@Precio1 NUMERIC(15, 6),\n@Precio2 NUMERIC(15, 6)\n*/\n\n\nexport const modificaPRECIO = (CodPresupuesto, CodSubpresupuesto, CodInsumo, Precio1 ,Precio2,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\t\t\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.S10_01_PrecioParticularInsumo_Modificar '${email}','${CodPresupuesto}','${CodSubpresupuesto}','${CodInsumo}',${Precio1},${Precio2}`,\n\t\t\t\t//ObjectName: `dbo.s10_01_PartidaDetalle_Modificar '${'ncortez@s10peru.com'}','${'9999999'}','${'999'}',${CodPartida},'${CodPresupuestoPartida}','${PropioPartida}',${Tipo},'${CodInsumo}','${CodPartidaR}','${CodPresupuestoR}','${PropioPartidaR}',${Cuadrilla},${Cantidad},${Precio1},${Precio2},${ColumnaEdicion}`,\n\t\t\t\tRequestId: \"MODIFICAR_PRECIO\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.S10_01_PrecioParticularInsumo_Modificar '${email}','${CodPresupuesto}','${CodSubpresupuesto}','${CodInsumo}',${Precio1},${Precio2}`, data);\n\t}\n}\n\n\n\n/*[dbo].[s10_01_PartidaDetalle_Adicionar]\n(@EmailUsuario VARCHAR(128) = Null,\n@CodPresupuesto VARCHAR(7),\n@CodPartida VARCHAR(12),\n@CodPresupuestoPartida VARCHAR(7),\n@PropioPartida CHAR(2),\n@Tipo TINYINT,    --1:Insumo   2:Subpartida\n@CodInsumo VARCHAR(14),\n@CodPartidaR VARCHAR(12),\n@CodPresupuestoR VARCHAR(7),\n@PropioPartidaR CHAR(2)*/\n\nexport const ingresarAPU = (CodPresupuesto, CodPartida,CodPresupuestoPartida ,PropioPartida,Tipo,CodInsumo,CodPartidaR,CodPresupuestoR,PropioPartidaR,userId) => {\n\treturn async (dispatch) => {\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet email = localStorage.getItem(\"email\");\t\t\n\t\t//console.log(idCod, idPc);\n\t\tconst { data } = await axios.post(\n\t\t\t\"\",\n\t\t\t{\n\t\t\t\tHasOutputParam: true,\n\t\t\t\t// dbo.s10_06_Proyecto_General\n\t\t\t\tObjectName: `dbo.s10_01_PartidaDetalle_Adicionar '${email}','${CodPresupuesto}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}',${Tipo},'${CodInsumo}','${CodPartidaR}','${CodPresupuestoR}','${PropioPartidaR}'`,\n\t\t\t\t//ObjectName: `dbo.s10_01_PartidaDetalle_Modificar '${'ncortez@s10peru.com'}','${'9999999'}','${'999'}',${CodPartida},'${CodPresupuestoPartida}','${PropioPartida}',${Tipo},'${CodInsumo}','${CodPartidaR}','${CodPresupuestoR}','${PropioPartidaR}',${Cuadrilla},${Cantidad},${Precio1},${Precio2},${ColumnaEdicion}`,\n\t\t\t\tRequestId: \"INGRESAR_APU\",\n\t\t\t\tSignalRConnectionID: localStorage.getItem(\"connectionId\"),\n\t\t\t\tSecurityUserId: userId, // SecurityUserId obtenido al logear\n\t\t\t},\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\tModuleId: 21,\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(`dbo.s10_01_PartidaDetalle_Adicionar '${email}','${CodPresupuesto}','${CodPartida}','${CodPresupuestoPartida}','${PropioPartida}',${Tipo},'${CodInsumo}','${CodPartidaR}','${CodPresupuestoR}','${PropioPartidaR}'`, data);\n\t}\n}\n\n","import axios from 'axios';\n\nconst AxiosU = axios.create({\n    //baseURL: process.env.REACT_APP_URL,\n    baseURL: 'http://200.48.100.203:5030/api/S10ERP/RequestS10ERPTransaction',\n})\n\nexport default AxiosU;\n\n","import React from \"react\";\nimport {Link} from 'react-router-dom';\nimport { Breadcrumb } from \"react-bootstrap\";\nimport {useDispatch, useSelector} from 'react-redux';\nimport {logOut} from '../../actions/auth.action';\n\nimport avatar from '../../assets/img/avatar5.png'\nimport {useHistory} from 'react-router-dom';\nimport { RefrescarV } from \"../ViewerSc\";\n\nconst Navbar = () => {\n\tconst history = useHistory();\n\tconst proyects = useSelector(state => state.proyects);\n\tconst dispatch = useDispatch();\n\t\n\n\tlet user = JSON.parse(localStorage.getItem(\"user-s10\"));\n  return (\n    <nav className=\"main-header navbar navbar-expand navbar-white navbar-light\" style={{ /*background:'#3c8dbc',*/ color:'white', height:'37px', marginLeft:'200px',\n    \n    /*background: 'rgb(30,87,153)',\n    background: '-moz-linear-gradient(top, rgba(30,87,153,1) 0%, rgba(41,137,216,1) 50%, rgba(32,124,202,1) 51%, rgba(125,185,232,1) 100%)',\n    background: '-webkit-linear-gradient(top, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 50%,rgba(32,124,202,1) 51%,rgba(125,185,232,1) 100%)',\n    background: 'linear-gradient(to bottom, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 50%,rgba(32,124,202,1) 51%,rgba(125,185,232,1) 100%)',\n    filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#1e5799\", endColorstr=\"#7db9e8\",GradientType=0 )',*/\n\n    /*background: '-moz-linear-gradient(top, rgba(98,125,77,1) 0%, rgba(98,125,77,0.95) 23%, rgba(98,125,77,0.91) 38%, rgba(98,125,77,0.86) 58%, rgba(98,125,77,0.84) 68%, rgba(48,76,26,0.8) 85%, rgba(31,59,8,0.8) 91%)',\n    background: '-webkit-linear-gradient(top, rgba(98,125,77,1) 0%,rgba(98,125,77,0.95) 23%,rgba(98,125,77,0.91) 38%,rgba(98,125,77,0.86) 58%,rgba(98,125,77,0.84) 68%,rgba(48,76,26,0.8) 85%,rgba(31,59,8,0.8) 91%)',\n    background: 'linear-gradient(to bottom, rgba(98,125,77,1) 0%,rgba(98,125,77,0.95) 23%,rgba(98,125,77,0.91) 38%,rgba(98,125,77,0.86) 58%,rgba(98,125,77,0.84) 68%,rgba(48,76,26,0.8) 85%,rgba(31,59,8,0.8) 91%)',\n    filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#627d4d\", endColorstr=\"#cc1f3b08\",GradientType=0 )'*/\n    background:'#398bf7'\n    \n    }}>\n      {/* <!-- Left navbar links --> */}\n      <ul className=\"navbar-nav\">\n        <li className=\"nav-item\"  onClick={()=>{\n            \n          \n            \n          if (proyects.Avisa===0)proyects.Avisa=1;\n          else\n            proyects.Avisa=0;\n\n\n            \n\n            setTimeout(() => {\n\t\t\t\t\t\t\tRefrescarV();\n\t\t\t\t\t\t}, 150);\n\n\n            }}>\n          <Link className=\"nav-link\" data-widget=\"pushmenu\" to=\"#\" role=\"button\" style={{color:'white'}}>\n            <i className=\"fas fa-bars\"></i>\n          </Link>\n        </li>\n        <li className=\"d-flex align-items-center\">\n          <p className=\"ml-3 mr-0 mb-0\" style={{fontSize: 12, fontWeight:'300', marginTop:'-2px'}}>Presupuestos S10  |</p>\n        </li>\n      </ul>\n\n      <Breadcrumb>\n        <Breadcrumb.Item href=\"#\" ><p style={{color:'white', marginTop:'15px', fontSize:'0.7rem',  fontWeight:'300'}}> {proyects.titleProject} {proyects.titlePC ? ' ≫ ' + proyects.titlePC : ''} </p></Breadcrumb.Item>\n      </Breadcrumb>\n\n      <ul className=\"navbar-nav ml-auto\">\n        <li className=\"nav-item\">\n          <div className=\"navbar-search-block\">\n       \n          </div>\n        </li>\n\n        {/* <!-- Notifications Dropdown Menu --> */}\n        <li className=\"nav-item dropdown\">\n          <Link className=\"nav-link d-flex\" data-toggle=\"dropdown\" to=\"#\">\n            \n\t\t\t<img src={avatar} className=\"img-fluid rounded-circle ml-3\" width=\"25\" alt=\"avatar\" />\n      <h6 style={{color:'white'}}>{user.FullName}</h6>\n          </Link>\n\n          <div className=\"dropdown-menu dropdown-menu-lg dropdown-menu-right\"\n          style={{\n            /*background: 'rgb(242,245,246)',\n            background: '-moz-linear-gradient(top, rgba(242,245,246,1) 0%, rgba(227,234,237,1) 37%, rgba(200,215,220,1) 100%)',\n            background: '-webkit-linear-gradient(top, rgba(242,245,246,1) 0%,rgba(227,234,237,1) 37%,rgba(200,215,220,1) 100%)',\n            background: 'linear-gradient(to bottom, rgba(242,245,246,1) 0%,rgba(227,234,237,1) 37%,rgba(200,215,220,1) 100%)',\n            filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#f2f5f6\", endColorstr=\"#c8d7dc\",GradientType=0 )',*/\n\n          }}\n          \n          >\n            <span className=\"dropdown-item dropdown-header\">Colaborador</span>\n            <div className=\"dropdown-divider\"></div>\n            \n\t\t\t<div className=\"text-center w-100\" style={{color:'white'}}>\n\t\t\t\t<img src={avatar} alt=\"avatar\" className=\"img-fluid mt-4 mb-2\" width=\"100\"/>\n\n\t\t\t\t<h4>{user.FullName}</h4>\n\t\t\t\t<p className=\"text-secondary mb-3\" >\n\t\t\t\t\t{user.UserName}\n\t\t\t\t</p>\n\t\t\t</div>\n\n\t\t\t<button \n\t\t\tclassName=\"btn btn-primary btn-block py-2 px-4 rounded-0\"\n\t\t\tonClick={() => dispatch(logOut(history))}\n      style={{\n       /* background: '-moz-linear-gradient(top, rgba(98,125,77,1) 0%, rgba(98,125,77,0.95) 23%, rgba(98,125,77,0.91) 38%, rgba(98,125,77,0.86) 58%, rgba(98,125,77,0.84) 68%, rgba(48,76,26,0.8) 85%, rgba(31,59,8,0.8) 91%)',\n        background: '-webkit-linear-gradient(top, rgba(98,125,77,1) 0%,rgba(98,125,77,0.95) 23%,rgba(98,125,77,0.91) 38%,rgba(98,125,77,0.86) 58%,rgba(98,125,77,0.84) 68%,rgba(48,76,26,0.8) 85%,rgba(31,59,8,0.8) 91%)',\n        background: 'linear-gradient(to bottom, rgba(98,125,77,1) 0%,rgba(98,125,77,0.95) 23%,rgba(98,125,77,0.91) 38%,rgba(98,125,77,0.86) 58%,rgba(98,125,77,0.84) 68%,rgba(48,76,26,0.8) 85%,rgba(31,59,8,0.8) 91%)',\n        filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#627d4d\", endColorstr=\"#cc1f3b08\",GradientType=0 )'*/\n        background:'#398bf7'\n      }}\n\t\t\t>Cerrar sesión</button>\n          </div>\n\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","\n\nimport React from \"react\";\nimport {Link} from 'react-router-dom';\n//import AdminLTELogo from '../../assets/img/AdminLTELogo.png';\nimport logo from \"../../assets/img/logo.png\";\n\n\n\nconst Sidebar = () => {\n  return (\n    <aside id=\"ContenedorSide\" className=\"main-sidebar sidebar-dark-primary elevation-3\" style={{opacity: 1.0,\n      /*background: '-moz-linear-gradient(top, rgba(53,53,42,1) 4%, rgba(53,53,42,1) 29%, rgba(53,53,42,0.97) 35%, rgba(122,155,141,0.91) 48%, rgba(78,99,78,0.86) 61%, rgba(116,135,117,0.8) 74%, rgba(165,183,169,0.8) 91%)',\n      background: '-webkit-linear-gradient(top, rgba(53,53,42,1) 4%,rgba(53,53,42,1) 29%,rgba(53,53,42,0.97) 35%,rgba(122,155,141,0.91) 48%,rgba(78,99,78,0.86) 61%,rgba(116,135,117,0.8) 74%,rgba(165,183,169,0.8) 91%)',\n      background: 'linear-gradient(to bottom, rgba(53,53,42,1) 4%,rgba(53,53,42,1) 29%,rgba(53,53,42,0.97) 35%,rgba(122,155,141,0.91) 48%,rgba(78,99,78,0.86) 61%,rgba(116,135,117,0.8) 74%,rgba(165,183,169,0.8) 91%)',\n      filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#35352a\", endColorstr=\"#cca5b7a9\",GradientType=0 )'    */\n      background:'#1e282c'\n    }}>\n      {/* <!-- Brand Logo --> */}\n      <Link to=\"/presupuesto\" className=\"brand-link\"  style={{ height:'35px', \n        /*background: 'rgb(30,87,153)',\n        background: '-moz-linear-gradient(top, rgba(30,87,153,1) 0%, rgba(41,137,216,1) 50%, rgba(32,124,202,1) 51%, rgba(125,185,232,1) 100%)',\n        background: '-webkit-linear-gradient(top, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 50%,rgba(32,124,202,1) 51%,rgba(125,185,232,1) 100%)',\n        background: 'linear-gradient(to bottom, rgba(30,87,153,1) 0%,rgba(41,137,216,1) 50%,rgba(32,124,202,1) 51%,rgba(125,185,232,1) 100%)',\n        filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#1e5799\", endColorstr=\"#7db9e8\",GradientType=0 )',    */\n       /* background: '-moz-linear-gradient(top, rgba(98,125,77,1) 0%, rgba(98,125,77,0.95) 23%, rgba(98,125,77,0.91) 38%, rgba(98,125,77,0.86) 58%, rgba(98,125,77,0.84) 68%, rgba(48,76,26,0.8) 85%, rgba(31,59,8,0.8) 91%)',\n        background: '-webkit-linear-gradient(top, rgba(98,125,77,1) 0%,rgba(98,125,77,0.95) 23%,rgba(98,125,77,0.91) 38%,rgba(98,125,77,0.86) 58%,rgba(98,125,77,0.84) 68%,rgba(48,76,26,0.8) 85%,rgba(31,59,8,0.8) 91%)',\n        background: 'linear-gradient(to bottom, rgba(98,125,77,1) 0%,rgba(98,125,77,0.95) 23%,rgba(98,125,77,0.91) 38%,rgba(98,125,77,0.86) 58%,rgba(98,125,77,0.84) 68%,rgba(48,76,26,0.8) 85%,rgba(31,59,8,0.8) 91%)',\n        filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#627d4d\", endColorstr=\"#cc1f3b08\",GradientType=0 )'        */\n       background:'#398bf7'\n\n    }}>\n        <img\n          src={logo}\n          alt=\"s10 Logo\"\n          className=\"brand-image img-circle elevation-3\"\n          style={{opacity: 0.8, marginLeft:'-8px', marginTop:'-2px', width:'35px'}}\n        />\n        <span className=\"brand-text font-weight-light\" style={{ position:'absolute', top:'2px', height:'40px' }} >Presupuestos</span>\n      </Link>\n\n      {/* <!-- Sidebar --> */}\n      <div className=\"sidebar\" style={{\n        /*background: 'rgb(206,220,231)',\n        background: '-moz-linear-gradient(top, rgba(206,220,231,1) 0%, rgba(89,106,114,1) 100%)',\n        background: '-webkit-linear-gradient(top, rgba(206,220,231,1) 0%,rgba(89,106,114,1) 100%)',\n        background: 'linear-gradient(to bottom, rgba(206,220,231,1) 0%,rgba(89,106,114,1) 100%)',\n        filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#cedce7\", endColorstr=\"#596a72\",GradientType=0 )',*/\n\n        /*background: 'rgb(31,48,58)',\n        background: '-moz-linear-gradient(top, rgba(31,48,58,1) 16%, rgba(31,48,58,1) 33%, rgba(181,189,200,1) 82%, rgba(181,189,200,1) 82%, rgba(181,189,200,1) 86%)',\n        background: '-webkit-linear-gradient(top, rgba(31,48,58,1) 16%,rgba(31,48,58,1) 33%,rgba(181,189,200,1) 82%,rgba(181,189,200,1) 82%,rgba(181,189,200,1) 86%)',\n        background: 'linear-gradient(to bottom, rgba(31,48,58,1) 16%,rgba(31,48,58,1) 33%,rgba(181,189,200,1) 82%,rgba(181,189,200,1) 82%,rgba(181,189,200,1) 86%)',\n        filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#1f303a\", endColorstr=\"#b5bdc8\",GradientType=0 )'*/\n        \n\n        /*background: '-moz-linear-gradient(top, rgba(53,53,42,1) 4%, rgba(53,53,42,1) 29%, rgba(53,53,42,0.97) 35%, rgba(122,155,141,0.91) 48%, rgba(78,99,78,0.86) 61%, rgba(116,135,117,0.8) 74%, rgba(165,183,169,0.8) 91%)',\n        background: '-webkit-linear-gradient(top, rgba(53,53,42,1) 4%,rgba(53,53,42,1) 29%,rgba(53,53,42,0.97) 35%,rgba(122,155,141,0.91) 48%,rgba(78,99,78,0.86) 61%,rgba(116,135,117,0.8) 74%,rgba(165,183,169,0.8) 91%)',\n        background: 'linear-gradient(to bottom, rgba(53,53,42,1) 4%,rgba(53,53,42,1) 29%,rgba(53,53,42,0.97) 35%,rgba(122,155,141,0.91) 48%,rgba(78,99,78,0.86) 61%,rgba(116,135,117,0.8) 74%,rgba(165,183,169,0.8) 91%)',\n        filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#35352a\", endColorstr=\"#cca5b7a9\",GradientType=0 )'*/\n        background:'#1e282c',\n        color:'white'\n\n      }} >\n     \n\n        {/* <!-- SidebarSearch Form --> */}\n        {/*<div className=\"form-inline mt-3\">\n          <div className=\"input-group\" data-widget=\"sidebar-search\">\n            <input\n              className=\"form-control form-control-sidebar\"\n              type=\"search\"\n              placeholder=\"Search\"\n              aria-label=\"Search\"\n            />\n            <div className=\"input-group-append\">\n              <button className=\"btn btn-sidebar\">\n                <i className=\"fas fa-search fa-fw\"></i>\n              </button>\n            </div>\n          </div>\n  </div>*/}\n\n\n\n        {/* <!-- Sidebar Menu --> */}\n        \n        \n        \n        \n    \n       \n        \n        <nav className=\"\" style={{marginTop:'30px'}}>\n          <ul\n            className=\"nav nav-pills nav-sidebar flex-column mt-0\"\n            data-widget=\"treeview\"\n            role=\"menu\"\n            data-accordion=\"false\"\n          >\n            {/* <!-- Add icons to the links using the .nav-icon className */}\n            {/* with font-awesome or any other icon font library --> */}\n           \n            <li className=\"nav-item\">\n              <Link to=\"/presupuesto\" className=\"nav-link font-12\">\n                <i className=\"nav-icon fas fa-th\" style={{fontSize: 15, marginLeft:'-20px', color:'white'}}></i>\n                <p style={{color:'white',fontWeight:'550'}}>\n                  Presupuesto\n                </p>\n              </Link>\n            </li>\n            <ul style={{listStyle:'none'}}>\n            {/* <li className=\"nav-item\">\n              <Link to=\"/inicio\" className=\"nav-link font-12\">\n                <i className=\"nav-icon far fa-calendar-alt\" style={{position:'absolute',fontSize: 15, marginLeft:'-30px'}}></i>\n                <p>\n                  Datos Generales\n                </p>\n              </Link>\n            </li> */}\n\n            <li className=\"nav-item\">\n              <Link to=\"/presupuesto\" className=\"nav-link font-12\">\n                <i className=\"nav-icon far fa-calendar-alt\" style={{position:'absolute', fontSize: 15, marginLeft:'-50px', color:'white'}}></i>\n                <p style={{marginLeft:'-25px', fontWeight:'550'}}>\n                  Hoja del Presupuesto\n                </p>\n              </Link>\n            </li>\n            </ul>\n\n\n\n            <li className=\"nav-item\">\n              <Link to=\"/modelos\" className=\"nav-link font-12\">\n                <i className=\"nav-icon fas fa-th\" style={{fontSize: 15, marginLeft:'-20px', color:'white'}}></i>\n                <p style={{color:'white',fontWeight:'550'}}>\n                  General\n                </p>\n              </Link>\n            </li>\n            <ul style={{listStyle:'none'}}>\n            <li className=\"nav-item\">\n              <Link to=\"/modelos\" className=\"nav-link font-12\">\n                <i className=\"nav-icon far fa-calendar-alt\" style={{position:'absolute', fontSize: 15, marginLeft:'-50px', color:'white' }}></i>\n                <p style={{ marginLeft:'-25px',fontWeight:'550'}}>\n                  Modelos\n                </p>\n              </Link>\n            </li>\n\n            </ul>\n\n\n              {/*<div className=\"input-group\" data-widget=\"sidebar-search\"  style={{fontSize: 15, color:'white', overflow:'hidden', height:'85vh', top:'10px', left:'70px', width:'85%'}}>\n              <TreeCP\n\t\t\t\t\t\t\t\t\tlevelStart={1}\n              idProject=\"\"/>\n              </div>*/}\n\n            \n            \n            \n         \n          </ul>\n        </nav>\n        {/* <!-- /.sidebar-menu --> */}\n      </div>\n      {/* <!-- /.sidebar --> */}\n    </aside>\n    \n  );\n};\n\nexport default Sidebar;\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport Navbar from \"./Navbar\";\nimport Sidebar from \"./Sidebar\";\n\n\n// import Footer from \"./Footer\";\nconst Layout = ({ children }) => {\n\n  const proyects = useSelector((state) => state.proyects);\n  const [ancho, setAncho] = useState('-48px');\n  const [ancho1, setAncho1] = useState('');\n  useEffect(() => {\n\t\t\n    \n    if(proyects.Avisa===undefined){\n      setAncho('-48px');\n      setAncho1(window.innerWidth - 210 );  \n      //$(\"#CC1\").width=\n    }\n    \n    if(proyects.Avisa===0){\n      setAncho('0px');\n      setAncho1(window.innerWidth - 40);\n      //setAncho1('1320px');\n    }\n\t\tif(proyects.Avisa===1){\n      setAncho('-48px');\n      setAncho1(window.innerWidth - 210);\n      //$(\"#CC1\").width=\n      //setAncho1('1800px');\n    }\n\t\t\n\t}, [ proyects.Avisa])\n\n\n  return (\n    <div className=\"wrapper\" style={{height: '100vh'}}>\n      <Navbar />\n      <Sidebar />\n\n      <div className=\"content-wrapper\" style={{height: '100vh'}}>\n        {/* Content Header (Page header) */}\n        <div>\n          <div className=\"container-fluid\" >\n            <div className=\"row\"></div>\n            {/* /.row */}\n          </div>\n          {/* /.container-fluid */}\n        </div>\n        {/* /.content-header */}\n\n        {/* Main content */}\n        <section className=\"content\">\n          <div id=\"CC1\" className=\"container-fluid\" style={{marginLeft:ancho, width:ancho1 }}>{children}</div>\n          {/* /.container-fluid */}\n        </section>\n        {/* /.content */}\n      </div>\n      {/* /.content-wrapper */}\n      {/* <Footer /> */}\n    </div>\n  );\n};\n\nexport default Layout;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAABmJLR0QA/wD/AP+gvaeTAAAEB0lEQVR4nO2bXWhbZRjHf2/SpB8urrq2S2s7N9YrwclwOhEUBFGZt9vYBu3WK0E7WDtloF7olchsFelAvLC6wVT8RNiFXhQtCrMwBWEMPy7WriTpurC2yWZzkryPF1tq15Kcc5KcnISc31U473Oe93ne8z//pu85AQ8PDw+P+kXlPrxxZLwpFOIthANA2OLJvw6PDTxWKGbk6PgUwiMlFlnueaIK9dlSUl5tyB253fwxO4UJ7LYQVFLzDs3TKchQKISsKGBkcDwKhPf1b2Bzp980w9jbizbmg8ETG23FOzlPLJLhyzM3AKK+VcfDgKXma51w14rwOxvyBX1xOslcNGuabMfwoYLjf4yeBexfybUsHz5YcLzpk09N5wl3NbC37647jvnyxFpqvqWzzTwmvMk0xgzdbp5Dt5nHxCKZdcfyKiCH2RU2o/fQswXHcwoxu8JmGM8/U3A8p5C15FVAveAtgNsFuI2pB6zln7PfczMWB26ZYO/BwvdeteMpwO4JZq5ea9S9Aup+ATwTdLsAt/FM0O0C3KbuF6DqTbDx3A+gILXHmXlsL0ClUdfijub3TNDtAtym4rfAcnyRhUuXSc7OkbqesHxevh2dUqmYCaYTN4n89BuLf82sG7Oy5+cUFVFA8spVpr+bJJsykEAA3buNbE830roRaW6ylKPUPcN8CnLcBBPTMS5/8yOiNdmtW8g8ugtpbrQ7rWM4qoD00g2mz/2CaE3mwQfI7Hxo1dPI6sDRBbgy+Tt6OXXryhfZvG7b5OiiOWaCy/EFkn/PIIEAmd0PF92E2X5/qTj2PWDxzxkQyG7fhjRZMzo3cMwEE9MxAPT9PXanqCiOKSC9lARAWot7LF4pHDPB9L8pABo//9o0Vm9ux3juaadKKYhjJtjSce9KnBm+uXm7ZZQNxxRg1StyT4fdwvt32O0C3KbuF6Am9gRVPI4Eg8jdIXRHB3r7VvQ9rWXJXzN7giploObj+ObjcPES2S3dZHbtREIbSspfMyYohtEuwcAOn9+/X2np88/Mtvijc1njycf9urur6LxVr4AcL3/4wjVgAph499iZN0ln35d0em9wYlKMp55Quue+ovLWpAkOvdcXHTp1eL8IJxFRwZ/PoxLJonLV5AIAKJQcP3XkBPAVhkFg6kJReUxvgUp9Uytm11eh5GTm9Iu+gOzxzUaai8mRVwG18s7wKx/0XwX9kZXYcNf6nvIqYF9/aX9eyoWVd4x9yLca9VJbh58DA/bqXq2AKFh7R7jq8AcuAixc15bCY5GVHqP//17g6PgIwnDZiysTx8cG8u4qCqJGBz+21v0dqHdWFJBI8BqKUW4roco4X2hQoQSYspEvKiIjAbX0emlleXh4eHjUNv8BR/RxRz42JdAAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABPElEQVRoge2YMUoDQRRA38xsETYbBRUSJI14AIsUOYKFl9BjpFJP4BG0sBLBxkb0EhaCiL0gKBgQU4SMRax2VphdZP6C/5V/luG95W+zoCiKovxnTNXQnzNkzgmwC/SibvIcmwOO/tAtiiDgR/4eWKt9m0CEDSbLN19fHsBw6E+lA5Zr05zEEeEKneHJMhj0oeiCrWpMiF94vmYvfM72zd7rbfk4tMsy2N6ClZ68PICxhjzfZH31xl9vjMrHoeGgD84lcauFdYYivwrGwYNFN4lPIzqdYXkUBrRhbX7D2uCbbbFtHBogjQZIowHSaIA0GiCNBkijAdJogDQaIE1VwDS5RTwf5UFVwF0CkWZ4In5seSbAWwqfmryTuUl5GASY8eMT88UOmAvasU5TPJc4Nzajh2dpGUVRFKVdfANy2ze35fnc8QAAAABJRU5ErkJggg==\"","import { CheckBox } from 'devextreme-react';\r\n\r\nimport React from 'react'\r\n\r\n\r\nexport const CellCheck = (options) => {\r\n  const datos = options.data;\r\n  \r\n\r\n  //console.log(' Esta es la da en CelllCheck');\r\n  //console.log(options);\r\n  //console.log(options.data);\r\n  /*if (!employee) {\r\n    return <span className=\"name\">not assigned</span>;\r\n  }*/\r\n  //const dispatch = useDispatch();\r\n\r\n  return (\r\n    <>\r\n      <div style={{ padding:'7px'}} >\r\n        <CheckBox\r\n          defaultValue={datos.Mostar==='true' ? true:false}\r\n          value={datos.Mostrar==='true' ? true:false}\r\n          onValueChange={(e)=>{\r\n           console.log(e);\r\n           console.log(datos)\r\n           //console.log(datos.CodPresupuesto,datos.CodSubpresupuesto,datos.Item,datos.CodEstructura,datos.Nivel,datos.Campo,e,'')\r\n           if (e)\r\n            datos.Mostrar='true';\r\n           else\r\n            datos.Mostrar='false';\r\n           //e tiene true o false aqui modificar state del campo que corresponde\r\n           \r\n            /*let gg;\r\n            if (e)\r\n            gg='true';\r\n            else\r\n            gg='false';*/\r\n            //dispatch(guardarEstructura(datos.CodPresupuesto,datos.CodSubpresupuesto,datos.Item,datos.CodEstructura,datos.Nivel,datos.Campo,gg,''));\r\n           //guardarEstructura(datos.CodPresupuesto,datos.CodSubpresupuesto,datos.Item,datos.CodEstructura,datos.Nivel,datos.Campo,gg,'');\r\n          }}\r\n          \r\n        />\r\n        </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport const CellNormal = (options) => {\r\n  const datos = options.data;\r\n  //console.log(' Esta es la da en CelllCheck');\r\n  //console.log(options);\r\n  //console.log(options.data);\r\n  /*if (!employee) {\r\n    return <span className=\"name\">not assigned</span>;\r\n  }*/\r\n\r\n  return (\r\n    <>\r\n      <div style={{ padding:'7px'}} >\r\n        &nbsp;<span >{options.displayValue}</span>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n\r\nexport const CellCheckresp = (options) => {\r\n  const datos = options.data;\r\n  //console.log(' Esta es la da en CelllCheck');\r\n  //console.log(options);\r\n  //console.log(options.data);\r\n  /*if (!employee) {\r\n    return <span className=\"name\">not assigned</span>;\r\n  }*/\r\n\r\n  return (\r\n    <>\r\n      {/* <div className=\"img\" style={{ backgroundImage: `url(${employee.Picture})` }} /> */}\r\n      { options.rowIndex % 2 ?\r\n      <div style={{ height:'100%', width:'100%', background: 'white' }} >\r\n        <CheckBox\r\n          defaultValue={options.displayValue==='true' ? true:false}\r\n          value={options.displayValue==='true' ? true:false}\r\n          onValueChange={(e)=>{\r\n           console.log(e)\r\n           //e tiene true o false aqui modificar state del campo que corresponde\r\n            \r\n          }}\r\n          \r\n        />\r\n        </div>\r\n\r\n      : <div style={{ height:'100%', width:'100%', background: '#f8f9fa' }} >\r\n        <CheckBox\r\n          defaultValue={options.displayValue==='true' ? true:false}\r\n          //value={options.displayValue==='true' ? true:false}\r\n        />\r\n        </div>\r\n     }      \r\n      \r\n    </>\r\n  );\r\n}\r\n\r\nexport function CellRend_Items(options) {\r\n  const employee = options.data;\r\n  /*console.log(' Esta es la da en CelllRend');\r\n  console.log(options);\r\n  console.log(options.data);*/\r\n  \r\n  let alto='34px';\r\n  let color='rgba(0,0,0,0.03)'\r\n  //const [alto, setAlto] = useState('20px');\r\n  let pading='7px';\r\n  let fsize='12px';\r\n  let brad='0px';\r\n  /*if (!employee) {\r\n    return <span className=\"name\">not assigned</span>;\r\n  }*/\r\n    if (options.data.Descripcion.length>10)\r\n      alto='34px';\r\n    if (options.data.Descripcion.length>25)\r\n      alto='43px';\r\n    if (options.data.Descripcion.length>50)\r\n      alto='52px';\r\n    if (options.data.Descripcion.length>65)\r\n      alto='63px';\r\n    if (options.data.Descripcion.length>90)\r\n      alto='82px';\r\n\r\n  if (options.columnIndex===0){\r\n    //border-radis\r\n    //bordes='80px 30px 0px 0px;'\r\n    pading='0px';\r\n    fsize='10px';\r\n    brad='10px 0px 3px 10px';\r\n    //color='transparent'\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      {/* <div className=\"img\" style={{ backgroundImage: `url(${employee.Picture})` }} /> */}\r\n      {/* { options.data.Unidad === null ?\r\n      <div style={{ background: 'rgba(0,0,0,0.05)', backgroundSize:'cover' }} >\r\n      &nbsp;<span >{options.displayValue}</span></div>: */}\r\n      {/* {options.rowIndex % 2 ?\r\n      <div style={{ background: 'transparent', backgroundSize:'cover', height:alto, padding:'7px' }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>\r\n      : <div style={{ background: 'rgba(0,0,0,0.03)', backgroundSize:'cover', height:alto, padding:'7px' }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>      \r\n      }       */}\r\n\r\n      \r\n      { options.data.Unidad !== null ?\r\n      <div style={{/*height:alto,*/ padding:'7px', fontWeight:'500', /*boxShadow:'0.0px 0.05px 0.0px 0.0px rgba(0,0,0,0.02) inset',*/ paddingLeft:pading, fontSize:fsize }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>\r\n      : <div style={{ background: color,  height:alto, padding:'7px', borderRadius:brad, fontWeight:'600', color:'rgb(70, 68, 68)', /*boxShadow:'0.0px 0.5px 0.5px 0.0px rgba(0,0,0,0.06) inset',*/ paddingLeft:pading, fontSize:fsize }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>      \r\n      }      \r\n\r\n\r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport function CellRend_Metrados(options) {\r\n  const employee = options.data;\r\n  /*console.log(' Esta es la da en CelllRend');\r\n  console.log(options);\r\n  console.log(options.data);*/\r\n  \r\n  let alto='34px';\r\n  let margen='0px';\r\n  let color='rgba(0,0,0,0.03)'\r\n  let color1='transparent'\r\n  //const [alto, setAlto] = useState('20px');\r\n  let pading='7px';\r\n  let fsize='12px';\r\n  let brad='0px';\r\n  let borde='none'\r\n  let icono=0;\r\n  /*if (!employee) {\r\n    return <span className=\"name\">not assigned</span>;\r\n  }*/\r\n    /*if (options.data.Descripcion.length>10)\r\n      alto='34px';\r\n    if (options.data.Descripcion.length>25)\r\n      alto='43px';\r\n    if (options.data.Descripcion.length>50)\r\n      alto='52px';\r\n    if (options.data.Descripcion.length>65)\r\n      alto='63px';\r\n    if (options.data.Descripcion.length>90)\r\n      alto='82px';*/\r\n\r\n  if (options.columnIndex===0){\r\n    //border-radis\r\n    //bordes='80px 30px 0px 0px;'\r\n    //pading='0px';\r\n    //fsize='10px';\r\n    //color='transparent'\r\n    margen='8px'\r\n    brad='6px';\r\n    color1='rgba(0,0,0,0.01)'\r\n    borde='4px outset rgba(0,0,0,0.08)'\r\n    icono=1;\r\n\r\n\r\n\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <>\r\n      {/* <div className=\"img\" style={{ backgroundImage: `url(${employee.Picture})` }} /> */}\r\n      {/* { options.data.Unidad === null ?\r\n      <div style={{ background: 'rgba(0,0,0,0.05)', backgroundSize:'cover' }} >\r\n      &nbsp;<span >{options.displayValue}</span></div>: */}\r\n      {/* {options.rowIndex % 2 ?\r\n      <div style={{ background: 'transparent', backgroundSize:'cover', height:alto, padding:'7px' }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>\r\n      : <div style={{ background: 'rgba(0,0,0,0.03)', backgroundSize:'cover', height:alto, padding:'7px' }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>      \r\n      }       */}\r\n      { icono === 1 ?\r\n      <img src={employee.Tipo==='Titulo' ? `img/${employee.Nivel}.png` : `img/regla.png`} style={{position: 'absolute', marginLeft:'10px', marginTop:'6px', width:'22px', height:'22px'}} >\r\n      </img>        \r\n      : ''\r\n      }      \r\n      \r\n      { options.data.Tipo === \"Medicion\" ?\r\n      <div style={{ borderLeft:borde, background: color1, /*height:alto,*/ padding:'7px', fontWeight:'500',/*boxShadow:'0.0px 0.02px 0.0px 0.0px rgba(0,0,0,0.02) inset',*/ paddingLeft:pading, fontSize:fsize }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>\r\n      : <div style={{ marginLeft:margen, background: color,  height:alto, padding:'7px', borderRadius:brad,fontWeight:'600', color:'rgb(70, 68, 68)', /*boxShadow:'0.0px 0.05px 0.5px 0.0px rgba(0,0,0,0.04) inset',*/ paddingLeft:pading, fontSize:fsize }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>      \r\n      }      \r\n\r\n\r\n    </>\r\n  );\r\n}\r\n\r\n\r\nexport default function CellRend(options) {\r\n  const data = options.data;\r\n  /*console.log(' Esta es la da en CelllRend');\r\n  console.log(options);\r\n  console.log(data);*/\r\n  /*if (!employee) {\r\n    return <span className=\"name\">not assigned</span>;\r\n  }*/\r\n  let icono=0;\r\n  let tamf='0.75rem';\r\n  let imag='';\r\n  if (data.TipoDetalle===''){\r\n    imag=`img/apu/${'sn'}.png`;\r\n  }\r\n\r\n\r\n  if (data.TipoDetalle==='Mano de Obra'){\r\n    imag=`img/apu/${'Mo'}.png`;\r\n  }\r\n  if (data.TipoDetalle==='Material'){\r\n    imag=`img/apu/${'Mat'}.png`;\r\n  }\r\n  if (data.TipoDetalle==='Equipo'){\r\n    imag=`img/apu/${'Eq'}.png`;\r\n  }\r\n  if (data.TipoDetalle==='Subcontrato'){\r\n    imag=`img/apu/${'Sub'}.png`;\r\n  }\r\n  if (data.TipoDetalle==='Subpartida'){\r\n    imag=`img/apu/${'Subp'}.png`;\r\n  }\r\n\r\n  \r\n  if (options.columnIndex===1){\r\n    icono=1;\r\n  }\r\n  if (options.columnIndex===0){\r\n    tamf='0.6rem';\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n      { icono === 1 ?\r\n      <img src={imag} style={{position: 'absolute', marginLeft:'2px', marginTop:'6px', width:'22px', height:'22px'}} >\r\n      </img>        \r\n      : ''\r\n      }      \r\n      { icono === 1 ?\r\n        <div style={{ padding:'7px', marginLeft:'15px', fontSize:'0.6rem' }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>              \r\n      : <div style={{ padding:'7px', fontSize:tamf }} >\r\n      &nbsp;<span >{options.displayValue}</span></div>\r\n      }  \r\n      \r\n      \r\n    </>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport function CellRend28(options) {\r\n  const data = options.data;\r\n  /*console.log(' Esta es la da en CelllRend');\r\n  console.log(options);\r\n  console.log(data);*/\r\n  /*if (!employee) {\r\n    return <span className=\"name\">not assigned</span>;\r\n  }*/\r\n  \r\n  return (\r\n    <>\r\n      <div style={{ padding:'7px' }} >\r\n      &nbsp;<span >{options.displayValue}</span></div>     \r\n      \r\n    </>\r\n  );\r\n}\r\n\r\n\r\nexport function CellRendresp(options) {\r\n  const employee = options.data;\r\n  /*console.log(' Esta es la da en CelllRend');\r\n  console.log(options);\r\n  console.log(options.data);*/\r\n  /*if (!employee) {\r\n    return <span className=\"name\">not assigned</span>;\r\n  }*/\r\n\r\n  return (\r\n    <>\r\n      {/* <div className=\"img\" style={{ backgroundImage: `url(${employee.Picture})` }} /> */}\r\n      { options.rowIndex % 2 ?\r\n      <div style={{ background: 'transparent', backgroundSize:'cover', padding:'7px' }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>\r\n      : <div style={{ background: 'rgba(0,0,0,0.03)', backgroundSize:'cover', padding:'7px' }} >\r\n        &nbsp;<span >{options.displayValue}</span></div>      \r\n     }      \r\n      \r\n    </>\r\n  );\r\n}","//import { Modal, Button, ListGroup, Form, Col, Card } from \"react-bootstrap\";\n//import { Modal, Card, Form, Row, Button, Col, InputGroup, FormControl, Dropdown, DropdownButton, Table } from 'react-bootstrap'\nimport { useSelector, useDispatch } from 'react-redux';\nimport 'devextreme/dist/css/dx.light.css';\n//import { selectCompany } from '../actions/auth.action';\nimport { useHistory } from 'react-router-dom';\nimport Button1 from 'devextreme-react/button';\nimport TreeList, {\n\tPager,\n\tPaging,\n\tEditing,\n\tHeaderFilter,\n\tFilterPanel,\n\tFilterRow,\n\tScrolling,\n\tColumn,\n\tSearchPanel\n} from 'devextreme-react/tree-list';\nimport { useState } from 'react';\nimport { CellRend28 } from './Cellrend';\nimport { Template } from 'devextreme-react';\n\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Paper from '@mui/material/Paper';\nimport Draggable from 'react-draggable';\n\nfunction PaperComponent(props) {\n\treturn (\n\t  <Draggable\n\t\thandle=\"#draggable-dialog-title\"\n\t\tcancel={'[class*=\"MuiDialogContent-root\"]'}\n\t  >\n\t\t<Paper {...props} />\n\t  </Draggable>\n\t);\n  }\n\nconst BuscaCliente = ({ tipo='',presupuestoN, show, setShow }) => {\n\tconst dispatch = useDispatch();\n\tconst handleClose = () => setShow(false);\n\tconst auth = useSelector(state => state.auth);\n\tconst history = useHistory()\n\tconst proyects = useSelector((state) => state.proyects);\n\t//dispatch(selectAPUS(codP, codSub, codItem, ''));\n\tconst [clienteSel, setClienteSel] = useState({\n\t\tCodigo: '',\n\t\tDescripcion: '',\n\t});\n\n\n\tconst seleccionar = () => {\n\n\t\tif (clienteSel.Descripcion===''){\n\n\t\t\t//mensaje de error \n\t\t\treturn;\n\t\t}\n\t\t/*if (tipo===''){\n\t\t\tproyects.DatosPresupuesto[0].CodCliente=clienteSel.Codigo;\n\t\t\tproyects.DatosPresupuesto[0].Cliente=clienteSel.Descripcion;\n\t\t}else\n\t\t{*/\n\t\t\tpresupuestoN.CodCliente=clienteSel.Codigo;\n\t\t\tpresupuestoN.Cliente=clienteSel.Descripcion;\n\t\t//}\n\t\t//proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodCliente\n\t\t//proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Cliente\n\t\t\t//console.log('Este va a guardar');\n\t\t\t//console.log(modeloSel);\n\t\n\t\t\t//console.log(\"LOS SUBPRESUPUESTOS AHORA SON\");\n\t\t\t//console.log(proyects.treeSubControl);\n\t\t\t//console.log(\"ACTUALMENTE LOS MODELOS\");\n\t\t\t//console.log(proyects.DataModelos);\n\t\n\t\t\tsetShow(false);\n\t}\n\n\n\n\t\n\n\treturn (\n\t\t<>\n\t\t\t<Dialog\n\t\t\t\topen={show}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tPaperComponent={PaperComponent}\n\t\t\t\taria-labelledby=\"draggable-dialog-title\"\n\t\t\t>\n\t\t\t\t<DialogTitle style={{ cursor: 'move', background:'#398bf7', color:'white', marginBottom:'10px', height:'50px' }} id=\"draggable-dialog-title\">\n\t\t\t\t\tSelecciona un cliente\n\t\t\t\t\t\n\t\t\t\t\t<Button1 \n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tstyle={{ position:'absolute', right:'15px', top:'8px',background: '#398bf7', color: 'white'}}\n\t\t\t\t\t\t><i class=\"fas fa-times\"></i>\n\t\t\t\t\t</Button1>\n\t\t\t\t\t\n\n\n        \t\t</DialogTitle>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t<TreeList\n\t\t\t\t\t\t\tdataSource={proyects.DataClientes}\n\t\t\t\t\t\t\tkeyExpr=\"CodIdentificador\"\n\t\t\t\t\t\t\tshowBorders={true}\n\t\t\t\t\t\t\tfocusedRowEnabled={true}\n\t\t\t\t\t\t\tdefaultExpandedRowKeys={[1, 2, 3, 5]}\n\t\t\t\t\t\t\tcolumnAutoWidth={false}\n\t\t\t\t\t\t\trootValue={-1}\n\t\t\t\t\t\t\trowAlternationEnabled={true}\n\t\t\t\t\t\t\tonFocusedRowChanged={(e) => {\n\t\t\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\t\t\tsetClienteSel({\n\t\t\t\t\t\t\t\t\tCodigo: e.row.data.CodIdentificador,\n\t\t\t\t\t\t\t\t\tDescripcion: e.row.data.Descripcion,\n\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\twordWrapEnabled={true}\n\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SearchPanel visible={true} />\n\t\t\t\t\t\t\t<Editing\n\t\t\t\t\t\t\t\tallowUpdating={false}\n\t\t\t\t\t\t\t\tallowDeleting={false}\n\t\t\t\t\t\t\t\tselectTextOnEditStart={true}\n\t\t\t\t\t\t\t\tuseIcons={true}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<HeaderFilter\n\t\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FilterRow\n\t\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Scrolling\n\t\t\t\t\t\t\t\tmode=\"standard\"\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\t\twidth={'20%'}\n\t\t\t\t\t\t\t\tdataField=\"CodIdentificador\"\n\t\t\t\t\t\t\t\tcellTemplate=\"Template1\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\t\twidth={'80%'}\n\t\t\t\t\t\t\t\tdataField=\"Descripcion\"\n\t\t\t\t\t\t\t\tcellTemplate=\"Template1\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Pager\n\t\t\t\t\t\t\t\tshowPageSizeSelector={true}\n\t\t\t\t\t\t\t\tshowNavigationButtons={true}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Paging\n\t\t\t\t\t\t\t\tenabled={true}\n\t\t\t\t\t\t\t\tdefaultPageSize={15}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Template name=\"Template1\" render={CellRend28} />\n\t\t\t\t\t\t</TreeList>\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<strong style={{ fontSize: '0.6rem', position: 'absolute', left: '5px', marginLeft: '20px', }}> {clienteSel.Descripcion}</strong>\n\t\t\t\t\t<Button1\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={seleccionar}\n\t\t\t\t\t\tstyle={{}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ion-icon name=\"checkmark-done-outline\"></ion-icon>\n\t\t\t\t\t\tSeleccionar\n\t\t\t\t\t</Button1>\n\n\t\t\t\t\t<Button1\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ion-icon name=\"close-outline\"></ion-icon>\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button1>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\n\t\t</>\n\t)\n}\n\nexport default BuscaCliente\n","//import { Modal, Button, ListGroup } from \"react-bootstrap\";\nimport { Card, Form, Row, Col } from 'react-bootstrap'\nimport { useSelector, useDispatch } from 'react-redux';\nimport Button1 from 'devextreme-react/button';\nimport TreeList, {\n\tPager,\n\tPaging,\n\tEditing,\n\tHeaderFilter,\n\tFilterPanel,\n\tFilterRow,\n\tScrolling,\n\tColumn\n} from 'devextreme-react/tree-list';\nimport { useEffect, useState } from 'react';\nimport { Template, TextBox } from 'devextreme-react';\nimport Pagination from '@material-ui/lab/Pagination';\nimport { selectUBICACIONES } from '../actions/proyects.actions';\nimport { CellNormal } from './Cellrend';\n\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Paper from '@mui/material/Paper';\nimport Draggable from 'react-draggable';\n\n\nfunction PaperComponent(props) {\n\treturn (\n\t  <Draggable\n\t\thandle=\"#draggable-dialog-title\"\n\t\tcancel={'[class*=\"MuiDialogContent-root\"]'}\n\t  >\n\t\t<Paper {...props} />\n\t  </Draggable>\n\t);\n  }\n\nconst BuscaUbicacion = ({ tipo='',presupuestoN,show, setShow }) => {\n\tconst dispatch = useDispatch();\n\tconst handleClose = () => setShow(false);\n\tconst proyects = useSelector((state) => state.proyects);\n\tconst [ubicacionSel, setUbicacionSel] = useState({\n\t\tCodigo: '',\n\t\tDescripcion: '',\n\t});\n\tconst [pagina, setPagina] = useState(1);\n\tconst [tpagina, setTPagina] = useState(1);\n\tconst [textoB, setTextoB] = useState('');\n\n\tconst seleccionar = () => {\n\t\tif (ubicacionSel.Descripcion === '') {\n\t\t\treturn;\n\t\t}\n\t\tpresupuestoN.CodLugar = ubicacionSel.Codigo;\n\t\tpresupuestoN.UbicacionGeografica = ubicacionSel.Descripcion;\n\t\tsetShow(false);\n\t}\n\n\tuseEffect(() => {\n\t\tvar paginas = localStorage.getItem(\"paginacion\");\n\t\tvar arrayDeCadenas = [];\n\t\tif (paginas)\n\t\tarrayDeCadenas = paginas.split('/');\n\n\t\tvar totalesp = Math.trunc((arrayDeCadenas[1] / 20));\n\t\tif (arrayDeCadenas[1] % 20 !== 0) {\n\t\t\ttotalesp = totalesp + 1;\n\t\t}\n\t\tsetTPagina(totalesp);\n\n\t}, [proyects.DataUbicaciones, textoB])\n\n\n\tconst valueChanged = (data) => {\n\t\tsetTextoB(data.value);\n\t\tdispatch(selectUBICACIONES(data.value, '20', 1, ''));\n\t\tsetPagina(1);\n\t}\n\n\tconst handleChange = (event, value) => {\n\t\tsetPagina(value);\n\t\t//dispatch(limpiaUbicaciones()); \n\t\tdispatch(selectUBICACIONES(textoB, '20', value, ''));\n\t};\n\treturn (\n\t\t<>\n\n\t\t\t<Dialog\n\t\t\t\topen={show}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tPaperComponent={PaperComponent}\n\t\t\t\taria-labelledby=\"draggable-dialog-title\"\n\t\t\t\tmaxWidth={'lg'}\n\t\t\t>\n\t\t\t\t<DialogTitle style={{ cursor: 'move', background:'#398bf7', color:'white', marginBottom:'10px', height:'50px' }} id=\"draggable-dialog-title\">\n\t\t\t\tSelecciona una Ubicación\n\t\t\t\t\t<Button1 \n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tstyle={{ position:'absolute', right:'15px', top:'8px',background: '#398bf7', color: 'white'}}\n\t\t\t\t\t\t><i class=\"fas fa-times\"></i>\n\t\t\t\t\t</Button1>\n        \t\t</DialogTitle>\n\t\t\t\t<Card style={{ height: '100%', width: '100%', marginTop: '0px'/*, background: '#e8f7fe'*/ }}>\n\t\t\t\t\t{/* <Card.Header style={{ height: '38px' }}> <div style={{ marginTop: '-5px' }}>Moneda Principal ({proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].SimboloMoneda : ''}) </div> </Card.Header> */}\n\t\t\t\t\t<Card.Body>\n\n\t\t\t\t\t\t<Form.Group as={Row} className=\"mb-0\" controlId=\"formHorizontalPassword\">\n\t\t\t\t\t\t\t<Form.Label column sm={6}>\n\t\t\t\t\t\t\t</Form.Label>\n\t\t\t\t\t\t\t<Col sm={6}>\n\t\t\t\t\t\t\t\t<div className=\"form mt-0\">\n\t\t\t\t\t\t\t\t\t<div className=\"input-group\" data-widget=\"\">\n\t\t\t\t\t\t\t\t\t\t<TextBox\n\t\t\t\t\t\t\t\t\t\t\tdefaultValue={textoB}\n\t\t\t\t\t\t\t\t\t\t\tvalue={textoB}\n\t\t\t\t\t\t\t\t\t\t\twidth=\"100%\"\n\t\t\t\t\t\t\t\t\t\t\tshowClearButton={true}\n\t\t\t\t\t\t\t\t\t\t\tvalueChangeEvent=\"keyup\"\n\t\t\t\t\t\t\t\t\t\t\tonValueChanged={valueChanged}\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search..\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-search fa-fw\" style={{ position: 'absolute', top: '10px', right: '30px', width: '12px', height: '12px' }}></i>\n\n\t\t\t\t\t\t\t\t\t\t</TextBox>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t</Form.Group>\n\t\t\t\t\t</Card.Body>\n\t\t\t\t</Card>\t\t\t\t\n\t\t\t\t<DialogContent >\n\t\t\t\t\t\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t<TreeList\n\t\t\t\t\t\tstyle={{ width: '100%', height: '700px', marginTop: '-15px' }}\n\t\t\t\t\t\tdataSource={proyects.DataUbicaciones}\n\t\t\t\t\t\tkeyExpr=\"CodLugar\"\n\t\t\t\t\t\tshowBorders={true}\n\t\t\t\t\t\tfocusedRowEnabled={true}\n\t\t\t\t\t\tdefaultExpandedRowKeys={[1, 2, 3, 5]}\n\t\t\t\t\t\tcolumnAutoWidth={false}\n\t\t\t\t\t\trootValue={-1}\n\t\t\t\t\t\trowAlternationEnabled={true}\n\t\t\t\t\t\tonFocusedRowChanged={(e) => {\n\t\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\t\tsetUbicacionSel({\n\t\t\t\t\t\t\t\tCodigo: e.row.data.CodLugar,\n\t\t\t\t\t\t\t\tDescripcion: e.row.data.Departamento + ' - ' + e.row.data.Descripcion + ' - ' + e.row.data.Provincia,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t\twordWrapEnabled={true}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Editing\n\t\t\t\t\t\t\tallowUpdating={false}\n\t\t\t\t\t\t\tallowDeleting={false}\n\t\t\t\t\t\t\tselectTextOnEditStart={true}\n\t\t\t\t\t\t\tuseIcons={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<HeaderFilter\n\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<FilterRow\n\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Scrolling\n\t\t\t\t\t\t\tmode=\"standard\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\twidth={'33%'}\n\t\t\t\t\t\t\tdataField=\"Departamento\" \n\t\t\t\t\t\t\tcellTemplate=\"Template1\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\twidth={'33%'}\n\t\t\t\t\t\t\tdataField=\"Descripcion\"\n\t\t\t\t\t\t\talignment={'left'}\n\t\t\t\t\t\t\tcellTemplate=\"Template1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\twidth={'33%'}\n\t\t\t\t\t\t\tdataField=\"Provincia\"\n\t\t\t\t\t\t\tcaption=\"Provincia\"\n\t\t\t\t\t\t\talignment={'left'}\n\t\t\t\t\t\t\tcellTemplate=\"Template1\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Pager\n\t\t\t\t\t\t\tshowPageSizeSelector={true}\n\t\t\t\t\t\t\tshowNavigationButtons={true}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Paging\n\t\t\t\t\t\t\tenabled={true}\n\t\t\t\t\t\t\tdefaultPageSize={20}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Template name=\"Template1\" render={CellNormal} />\n\t\t\t\t\t</TreeList>\n\t\t\t\t\t<div className=\"\" style={{ position: 'relative', width: '100%', height: '30px' }}></div>\n\t\t\t\t\t<Pagination count={tpagina} page={pagina} onChange={handleChange} style={{ position: 'absolute', right: '25px', bottom: '55px' }} />\n\t\t\t\t\t<strong style={{ fontSize: '0.7rem', position: 'absolute', left: '5px', marginLeft: '20px', bottom: '65px' }}> Pagina</strong>\n\t\t\t\t\t<TextBox\n\t\t\t\t\t\tid='TPag'\n\t\t\t\t\t\tstyle={{ fontSize: '0.7rem', position: 'absolute', left: '25px', marginLeft: '40px', bottom: '55px' }}\n\t\t\t\t\t\tdefaultValue={pagina}\n\t\t\t\t\t\tvalue={pagina}\n\t\t\t\t\t\twidth=\"40px\"\n\t\t\t\t\t\t\n\t\t\t\t\t\tvalueChangeEvent=\"keyup\"\n\t\t\t\t\t\tonValueChanged={(data) =>{\n\t\t\t\t\t\t\tif (data.value===''){}\n\t\t\t\t\t\t\tlet pag=Math.trunc(data.value);\n\t\t\t\t\t\t\tif (data.value!=='' && (pag > 0 && pag <= tpagina)){\n\t\t\t\t\t\t\t\tsetPagina(pag);\n\t\t\t\t\t\t\t\tdispatch(selectUBICACIONES(textoB, '20', data.value, ''));\n\t\t\t\t\t\t\t}else{}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder={pagina}\n\t\t\t\t\t>\n\t\t\t\t\t</TextBox>\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t<strong style={{ fontSize: '0.6rem', position: 'absolute', left: '5px', marginLeft: '20px', }}> {ubicacionSel.Descripcion}</strong>\n\t\t\t\t\t<Button1\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={seleccionar}\n\t\t\t\t\t\tstyle={{ }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ion-icon name=\"checkmark-done-outline\"></ion-icon>\n\t\t\t\t\t\tSeleccionar\n\t\t\t\t\t</Button1>\n\t\t\t\t\t<Button1\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ion-icon name=\"close-outline\"></ion-icon>\n\t\t\t\t\t\tCancelar\n\t\t\t</Button1>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\n\t\t</>\n\t)\n}\n\nexport default BuscaUbicacion\n","import React, { useEffect, useState } from 'react'\r\n\r\nimport Script from 'react-load-script';\r\nimport $ from 'jquery';\r\nimport queryString from 'query-string';\r\n\r\n//import { cleanDataChart, cleanDataChart1, selectPc, navigationTree, navigationTreePC, selectItems} from '../actions/proyects.actions';\r\n\r\n//import adskLogoSvg from \"./logo.svg\";\r\n//import VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport * as THREE from 'three';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n/*import { relativeTimeRounding } from 'moment';\r\nimport { selectParidas } from '../actions/proyects.actions';*/\r\n\r\n\r\n\r\nvar ponerdato=true;\r\nconst viewerLibaryURL1 = '//cdn.jsdelivr.net/gh/autodesk-forge/forge-extensions/public/extensions/NestedViewerExtension/contents/main.js';\r\nconst viewerStylesheetURL1 = '//cdn.jsdelivr.net/gh/autodesk-forge/forge-extensions/public/extensions/NestedViewerExtension/contents/main.css';\r\n\r\nvar seleccionados=\"\", seleccionadosCat=\"\", seleccionadosFamilia=\"\", seleccionadosTipo=\"\"; \r\nconst viewerLibaryURL2 = 'js/three.js';\r\n\r\n\r\nvar T_uniqueIds = [];\r\nvar T_categorias = [];\r\nvar T_NombreT = [];\r\nvar T_TipoT = [];\r\nvar T_cantidad_elementos=0;\r\n\r\n\r\n\r\nconst viewerStylesheetURL = 'https://developer.api.autodesk.com/modelderivative/v2/viewers/style.min.css?v=v7.*';\r\nconst viewerLibaryURL = 'https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js';\r\nlet viewerLibraryLoaded = false;\r\nlet viewerLibraryLoaded1 = false;\r\nlet viewerStyleLoaded = false;\r\nlet viewerLoading = false;\r\n\r\n//const viewerLibaryURL1 = 'js/ForgeViewer.js';\r\n\r\n\r\nvar viewer1 ;\r\n//export const Viewer1=null;\r\n\r\n\r\n\r\n//export const CambiardeModelo = async (NuevoModelo) => {\r\n    //setModelURL(NuevoModelo);\r\n    //await launchViewer(modelURL);\r\n\r\n//}\r\n\r\n\r\nexport const MostarModelo = (idelem) => {\r\n   highlightRevit(idelem);\r\n}\r\n\r\n\r\nfunction highlightRevit(idsRevit) {\r\n    viewer1.model.getExternalIdMapping((mapping) => {\r\n        configureElementByUniqueIdAndMapping(idsRevit, mapping);\r\n    });\r\n}\r\nfunction configureElementByUniqueIdAndMapping(idsRevit, mapping) {\r\n    var elementsDbId = [];\r\n    var idsRevitArray = idsRevit.split(',');\r\n    for (var uniqueId in idsRevitArray) {\r\n        const elementDbId = mapping[idsRevitArray[uniqueId]];\r\n        if (elementDbId) {\r\n            elementsDbId.push(elementDbId);\r\n        }\r\n    }\r\n    viewer1.isolate(elementsDbId);\r\n    viewer1.fitToView(elementsDbId);\r\n}\r\n\r\n\r\n    export const RefrescarV = async() => {\r\n        //alert(\"refresca\");\r\n       viewer1.resize();\r\n       //viewer.showAll();\r\n       //viewer.refresh(false);\r\n       //viewer.refresh(true);\r\n       //var urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n       //await ViewScreen1.launchViewer(urn);\r\n\r\n    }\r\n\r\n\r\nvar UniquesSel=null;\r\n\r\n  \r\nexport const ViewerScP = (props) => {\r\n\r\n\r\n\tconst dispatch = useDispatch();\r\n\t// const [loading, setLoading] = useState(true);\r\n\r\n\t//const auth = useSelector((state) => state.auth);\r\n\tconst proyects = useSelector((state:any) => state.proyects);\r\n\r\n    useEffect(() => {\r\n        UniquesSel=proyects.DataUnique;\r\n\t}, [proyects.DataUnique])\r\n\r\n    \r\n    const [ modelURL, setModelURL ] = useState('dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmktWmdsQkg4UnRXRWI1Zi1CWnZnQ0E/dmVyc2lvbj0x');\r\n\r\n    var urn;\r\n    var posX = 0;\r\n    var posY = 0;\r\n    var posZ = 0;\r\n\r\n    const [loadViewerLibrary, setLoadViewerLibrary] = useState(false);\r\n    const [loadViewerLibrary1, setLoadViewerLibrary1] = useState(false);\r\n\r\n    const handleStyleLoad = async() => {\r\n        viewerStyleLoaded = true;\r\n        if (cargado1 && cargado2){\r\n            //urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n            await launchViewer(modelURL);\r\n            //alert(urn);\r\n        }\r\n\r\n        if (viewerLibraryLoaded && viewerLibraryLoaded1) {\r\n            /*urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmhxbTRIV0ZmUm82VGtzand2MjZQSlE_dmVyc2lvbj0x';\r\n            viewerLibraryLoaded && launchViewer(urn)*/\r\n\r\n        }\r\n    }\r\n    var cargado1=false;\r\n    var cargado2=false;\r\n\r\n \r\n\r\n\r\n    const handleScriptLoad1 = async () => {\r\n        cargado2=true;\r\n        if (cargado1 && cargado2){\r\n            //urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n            await launchViewer(modelURL);\r\n            //alert(urn);\r\n        }\r\n    }\r\n\r\n\r\n    \r\n\r\n    const handleScriptLoad = async () => {\r\n        viewerLibraryLoaded = true;\r\n        cargado1=true;\r\n        if (cargado1 && cargado2){\r\n            await launchViewer(modelURL);\r\n        }\r\n    }\r\n\r\n   \r\n\r\n\r\n    function highlightRevit(idsRevit) {\r\n        // Every Forge Viewer model has an ‘ExternalId Mapping’\r\n        // this mapping is an object that has as keys the\r\n        viewer1.model.getExternalIdMapping((mapping) => {\r\n            configureElementByUniqueIdAndMapping(idsRevit, mapping);\r\n        });\r\n    }\r\n    function configureElementByUniqueIdAndMapping(idsRevit, mapping) {\r\n        var elementsDbId = [];\r\n        var idsRevitArray = idsRevit.split(',');\r\n        for (var uniqueId in idsRevitArray) {\r\n            const elementDbId = mapping[idsRevitArray[uniqueId]];\r\n            if (elementDbId) {\r\n                elementsDbId.push(elementDbId);\r\n            }\r\n        }\r\n        viewer1.isolate(elementsDbId);\r\n        viewer1.fitToView(elementsDbId);\r\n    }\r\n\r\n\r\n\r\n    // @urn the model to show\r\n    // @viewablesId which viewables to show, applies to BIM 360 Plans folder\r\n    function launchViewer(urn, viewableId = '') {\r\n        //alert(viewerLibraryLoaded1);\r\n\r\n        console.log('RENDERIZANDO EL VIEWER  ***********************');\r\n        var options = {\r\n            env: 'AutodeskProduction',\r\n            getAccessToken: getForgeToken,\r\n            api: 'derivativeV2' + (atob(urn.replace('_', '/')).indexOf('emea') > -1 ? '_EU' : '') // handle BIM 360 US and EU regions\r\n        };\r\n        //alert('se cargo'+'urn= '+urn+' acces token=');\r\n        //if (!Autodesk) return;\r\n            Autodesk.Viewing.Initializer(options, () => {\r\n            const config = {\r\n                extensions: []\r\n            };\r\n\r\n            viewer1 = new Autodesk.Viewing.GuiViewer3D(document.getElementById('forgeViewer1'), config);\r\n            //viewer = new Autodesk.Viewing.GuiViewer3D(container.current, config);\r\n            viewer1.start();\r\n            var documentId = 'urn:' + urn;\r\n            Autodesk.Viewing.Document.load(documentId, onDocumentLoadSuccess, onDocumentLoadFailure);\r\n            if (!viewer1) return;\r\n            if (!viewer1.autocam) return;\r\n            // smooth navigation...\r\n            viewer1.autocam.shotParams.destinationPercent = 3;\r\n            viewer1.autocam.shotParams.duration = 3;\r\n        });\r\n\r\n\r\n\r\n\r\n        function onDocumentLoadSuccess(doc) {\r\n            var viewables = (viewableId ? doc.getRoot().findByGuid(viewableId) : doc.getRoot().getDefaultGeometry());\r\n            viewer1.loadDocumentNode(doc, viewables).then(i => {\r\n            });\r\n            viewer1.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, PonerProps);\r\n            onModelLoaded1(viewer1);\r\n        }\r\n\r\n\r\n        function PonerProps(event) {\r\n            $('#forgeViewer1 #LateralToolbar.ControlGroup').css({\r\n                'background-color': 'black',\r\n                'border-radius': '10px',\r\n                'display': 'none'\r\n            });\r\n\r\n            $('#forgeViewer1 #guiviewer3d-toolbar').css({\r\n                'background-color': 'rgba(255,255,255,0.10)',\r\n                'border-radius': '5px',\r\n                'display': 'none'\r\n            });\r\n            $('#forgeViewer1 #settingsTools').css({\r\n                'background-color': 'rgba(255,255,255,0.15)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.80)'           ,\r\n                'display': 'none'\r\n            });\r\n            $('#forgeViewer1 #modelTools').css({\r\n                'background-color': 'rgba(255,255,255,0.15)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.80)',\r\n                'display': 'none'\r\n            });\r\n            $('#forgeViewer1 #navTools').css({\r\n                'background-color': 'rgba(255,255,255,0.15)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.80)',\r\n                'display': 'none'\r\n            });\r\n\r\n            $('#forgeViewer1 #toolbar-documentModels').css({\r\n                'background-color': 'rgba(1,1,1,0.55)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.90)',\r\n                'display': 'none'\r\n            });\r\n        }\r\n\r\n\r\n        function onDocumentLoadFailure(viewerErrorCode) {\r\n            console.error('onDocumentLoadFailure() - errorCode:' + viewerErrorCode);\r\n        }\r\n\r\n\r\n\r\n\r\n        function addIds(DBids, uniqueIds, callback) {\r\n            var n = 0;\r\n            for (var uniqueId of DBids) {\r\n                var objSelected = viewer1.getSelection()[uniqueId];\r\n                this.viewer1.getProperties(objSelected, (props) => {\r\n                    uniqueIds.push(props.externalId);\r\n                    n = n++;\r\n                    if (n == DBids.length) {\r\n                        callback(null, uniqueIds)\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n\r\n        const SensorStyleDefinitions = {\r\n            co2: {\r\n                url: `uno.svg`,\r\n                color: 0xffffff,\r\n            },\r\n            temperature: {\r\n                url: `uno.svg`,\r\n                color: 0xffffff,\r\n            },\r\n            default: {\r\n                url: `uno.svg`,\r\n                color: 0xffffff,\r\n            },\r\n        };\r\n\r\n        /**\r\n         * Handles `Autodesk.Viewing.GEOMETRY_LOADED_EVENT` event that is sent when a model has been completely loaded in the viewer.\r\n         *\r\n         * @param {Autodesk.Viewing.GuiViewer3D} viewer The viewer in which the model is loaded.\r\n         */\r\n        async function onModelLoaded1(viewer) {\r\n            const dataVizExt = viewer1.getExtension(\"Autodesk.DataVisualization\");\r\n            const DATAVIZEXTN = Autodesk.DataVisualization?.Core;\r\n            if (!DATAVIZEXTN) { return; }\r\n            var styleMap = {};\r\n\r\n            // Create model-to-style map from style definitions.\r\n            Object.entries(SensorStyleDefinitions).forEach(([type, styleDef]) => {\r\n\r\n                styleMap[type] = new DATAVIZEXTN.ViewableStyle(\r\n                    DATAVIZEXTN?.ViewableType.SPRITE,\r\n                    new THREE.Color(styleDef.color),\r\n                    styleDef.url\r\n                );\r\n            });\r\n\r\n\r\n            const div = document.createElement(\"div\");  // <div></div>\r\n            const app = document.getElementById('root'); // <div id=\"app\">App</div>\r\n            const div1 = document.createElement(\"div1\");  // <div></div>\r\n            const div2 = document.createElement('div2'); // <div id=\"app\">App</div>\r\n            const div3 = document.createElement(\"div3\");  // <div></div>\r\n            const div4 = document.createElement('div4'); // <div id=\"app\">App</div>\r\n\r\n\r\n            const viewableData = new DATAVIZEXTN.ViewableData();\r\n\r\n            /*await viewableData.finish();\r\n            dataVizExt.addViewables(viewableData);\r\n            dataVizExt.removeAllViewables();*/\r\n\r\n\r\n            viewableData.spriteSize = 20;\r\n            let startId = 1;\r\n\r\n            \r\n            await viewableData.finish();\r\n            if (!dataVizExt) return;\r\n            dataVizExt.addViewables(viewableData);\r\n\r\n            /**\r\n             * Called when a user clicks on a Sprite Viewable\r\n             * @param {Event} event \r\n             */\r\n            function onItemClick(event) {\r\n                //alert('click');\r\n                //alert(devices[event.dbId - 1].position.x);\r\n                //alert(event.dbId);\r\n            }\r\n\r\n            /**\r\n             *  Called when a user hovers over a Sprite Viewable \r\n             * @param {Event} event \r\n             */\r\n\r\n            function onItemHovering(event) {\r\n\r\n\r\n                //console.log(\"Show tooltip here\", event);\r\n                //console.log(\"Show tooltip here\", event.originalEvent);\r\n                //alert(event.point);\r\n                //alert(viewer.model.getUpVector());\r\n\r\n\r\n                // const currAppState = appStateRef.current;\r\n\r\n                div.style.display = 'none';\r\n                \r\n\r\n                posX = event.originalEvent.normalizedX;\r\n                posY = event.originalEvent.normalizedY;\r\n                //posZ=event.point.z;\r\n\r\n\r\n\r\n                if (event.dbId) {\r\n                    //alert(event.dbId);\r\n                    //console.log(devices[event.dbId].position.x);\r\n                    //alert(devices[event.dbId-1].position.x);\r\n                    //alert(event.originalEvent.clientX);\r\n\r\n\r\n                    //const div = document.createElement(\"div\");\r\n                    //div.textContent = \"Esto es un div insertado con JS.\";\r\n                    var tempX = event.originalEvent.clientX + document.body.scrollLeft;\r\n                    var tempY = event.originalEvent.clientY + document.body.scrollTop;\r\n                    /*const app = document.createElement(\"div\"); // <div></div>\r\n                    app.id = \"app\"; // <div id=\"app\"></div>\r\n                    app.appendChild(div);*/\r\n\r\n                    \r\n                    //var ClientRect = div.getBoundingClientRect();\r\n                    /*var ClientRect = elemento.getBoundingClientRect();\r\n\t                return { //objeto\r\n\t                x: Math.round(evt.clientX - ClientRect.left),\r\n\t                y: Math.round(evt.clientY - ClientRect.top)\r\n                        }*/\r\n                    div.appendChild(div1);\r\n                    \r\n                    \r\n    \r\n                    div1.textContent = 'Ejemplo '+event.dbId ;  \r\n                    div1.style.textAlign = 'center';  \r\n                    //div.textContent = \"Ejemplo \"+ event.dbId;                // <div>Ejemplo</div>\r\n                    div2.innerHTML = 'Otro dato';  \r\n                    div1.classList.add('card');\r\n                    //div1.classList.add('card-header');\r\n                    \r\n                    div2.classList.add('card-title');\r\n                    //div3.classList.add('card-header');\r\n\r\n\r\n                    div1.style.fontSize = '0.8rem';\r\n                    //div1.style.border = '1px 1px 1px 2px rgba(255,255,255,0.95)';\r\n                    \r\n                    div1.style.backgroundColor = 'rgba(1,1,1,0.85)';\r\n                    div1.style.width = '100%';\r\n                    \r\n                    div.appendChild(div2);\r\n                    div2.style.fontSize = '0.7rem';\r\n\r\n                    div.style.backgroundColor = 'rgba(1,1,1,0.65)';\r\n                    //div.style.alignContent = 'center';\r\n                    div.style.borderRadius = '10px';\r\n                    div.style.position = 'absolute';\r\n                    div.style.zIndex = '999';\r\n                    div.style.fontSize = '0.7rem';\r\n                    div.style.width = '150px';\r\n                    div.style.height = '110px';\r\n                    \r\n                    \r\n                    //div.style.top = event.originalEvent.pageY;\r\n                    //div.style.left = event.originalEvent.pageX;\r\n                    //div.style.top = event.originalEvent.pageY+'px';\r\n                    div.style.top = (event.originalEvent.pageY-120)+'px';\r\n                    div.style.left = (event.originalEvent.pageX-65)+'px';\r\n                    //div.style.left = posX+'px';\r\n                    div.style.display = 'block';\r\n                    //div.style.visibility = 'block';\r\n                    app.insertAdjacentElement(\"beforebegin\", div);\r\n\r\n\r\n                }\r\n\r\n                //alert('show');\r\n            }\r\n\r\n            const DataVizCore = Autodesk.DataVisualization.Core;\r\n            viewer.addEventListener(DataVizCore.MOUSE_CLICK, onItemClick);\r\n            //viewer.addEventListener(DataVizCore.MOUSE_HOVERING, onItemHovering);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    const loadViewer = (svfUrl: string) => {\r\n        launchViewer(modelURL);\r\n    }\r\n\r\n\r\n\r\n    const cargar = async () => {\r\n            if (viewer1){\r\n                //viewer.uninitialize();\r\n                viewer1.finish();\r\n            }\r\n            launchViewer(proyects.UrnS1);\r\n    }\r\n\r\n\r\n\tuseEffect(() => {\r\n        if (proyects.UrnS1){\r\n            setModelURL(proyects.UrnS1);\r\n            cargar();\r\n        }\r\n\t}, [proyects.UrnS1])\r\n\r\n\r\n    async function postData(url = '', data = {}) {\r\n        // Opciones por defecto estan marcadas con un *\r\n        const response = await fetch(url, {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            //mode: 'cors', // no-cors, *cors, same-origin\r\n            //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n                //'Content-Type': 'application/json'\r\n                // 'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n            body: queryString.stringify(data)\r\n            //redirect: 'follow', // manual, *follow, error\r\n            //referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n            //body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        return response.json(); // parses JSON response into native JavaScript objects\r\n    }\r\n\r\n\r\n    /*const fetchConToken11 = () => {\r\n        postData('https://developer.api.autodesk.com/authentication/v1/authenticate', {\r\n            'client_id': 'Lrn6oqLnwpCBd8GS0LuimGx5SHONYw4b',\r\n            'client_secret': 'JLA2LfrdwUg4hMkz',\r\n            'grant_type': 'client_credentials',\r\n            'scope': 'data:read data:write data:create data:search bucket:create bucket:read bucket:update bucket:delete'\r\n        })\r\n            .then(data => {\r\n                console.log(data); // JSON data parsed by `data.json()` call\r\n\r\n            });\r\n    }*/\r\n\r\n\r\n    function getForgeToken(callback) {\r\n        postData('https://developer.api.autodesk.com/authentication/v1/authenticate', {\r\n            'client_id': 'Lrn6oqLnwpCBd8GS0LuimGx5SHONYw4b',\r\n            'client_secret': 'JLA2LfrdwUg4hMkz',\r\n            'grant_type': 'client_credentials',\r\n            'scope': 'data:read data:write data:create data:search bucket:create bucket:read bucket:update bucket:delete'\r\n        })\r\n            .then(data => {\r\n                console.log(data); // JSON data parsed by `data.json()` call\r\n                callback(data.access_token, data.expires_in);\r\n            });\r\n    }\r\n\r\n\r\n\r\n    \r\n    const loadStyleSheet = (href: string) => {\r\n        const styles = document.createElement('link');\r\n        styles.rel = 'stylesheet';\r\n        styles.type = 'text/css';\r\n        styles.href = href;\r\n        styles.onload = handleStyleLoad;\r\n        document.getElementsByTagName('head')[0].appendChild(styles);\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        async function loadServiceWorker() {\r\n            //await new Promise(r=>{serviceWorker.register({onSuccess:()=>r()})});\r\n            setLoadViewerLibrary(true);\r\n            //setLoadViewerLibrary1(true);\r\n            //await loadStyleSheet(viewerStylesheetURL1);\r\n            await loadStyleSheet(viewerStylesheetURL);\r\n\r\n            //alert('init');\r\n        }\r\n        loadServiceWorker();\r\n\r\n        /*return ()=> {\r\n           if (window.NOP_VIEWER) window.NOP_VIEWER.finish() //terminate Viewer when unmounting\r\n        }*/\r\n    },[]);\r\n\r\n\r\n    const laneId = 'demo-lane'\r\n    const lanes = [\r\n        {\r\n            laneId,\r\n            label: 'Plazo del Proyecto',\r\n        },\r\n    ]\r\n    var now = new Date();\r\n    const events = [\r\n        {\r\n            eventId: 'event-1',\r\n            laneId: laneId,\r\n            startTimeMillis: 1399845600000,\r\n            //endTimeMillis: 1530698899000,\r\n            endTimeMillis: now.getTime()\r\n        },\r\n        {\r\n            eventId: 'event-2',\r\n            laneId,\r\n            startTimeMillis: 1167606000000,\r\n            endTimeMillis: 1230698892000,\r\n        },\r\n    ]\r\n    const dateFormat = (ms: number) => new Date(ms).toLocaleString();\r\n\r\n    var tamano = $('#FrmPrin').width();\r\n\r\n    const [fecha, setfecha] = useState(new Date(now.getTime()).toLocaleString());\r\n    const [fechasel, setfechasel] = useState(new Date(now.getTime()).toLocaleString());\r\n\r\n\r\n /*   const evento = (evento) => {\r\n\r\n        //alert(fecha);\r\n        //console.log(\"evento click de la fecha \", evento);\r\n        setfecha(fechasel);\r\n\r\n    }\r\n    //const a = TimelineTheme;\r\n\r\n    const oncursor = (millisAtCursor, startMillis, endMillis) => {\r\n\r\n        //alert(new Date(millisAtCursor).toLocaleString());\r\n        setfechasel(new Date(millisAtCursor).toLocaleString());\r\n        //setfecha(new Date(now.getTime()).toLocaleString());\r\n        //fecha=\r\n    }*/\r\n\r\n\r\n    return (\r\n        <>\r\n            <div className=\"card\" id=\"forgeViewer1\" style={{ height: \"100%\", width: '100%', \r\n            /*background: 'linear-gradient(to bottom, rgba(242,246,248,1) 0%,rgba(216,225,231,1) 55%,rgba(181,198,208,1) 82%,rgba(224,239,249,1) 100%)',\r\n            filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#f2f6f8\", endColorstr=\"#e0eff9\",GradientType=0 )',             */\r\n         }}></div>\r\n            \r\n\r\n            {/* </div> */}\r\n\r\n            {/* {loadViewerLibrary1 ? <Script url={viewerLibaryURL1} onLoad={handleScriptLoad1}></Script> : null} */}\r\n            {loadViewerLibrary ? <Script url={viewerLibaryURL} onLoad={handleScriptLoad}></Script> : null}\r\n\r\n            {/* {<Script url={viewerLibaryURL} onLoad={handleScriptLoad}></Script>} \r\n            {<Script url={viewerLibaryURL1} onLoad={handleScriptLoad1}></Script>} */}\r\n            {/* </div> */}\r\n        </>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n","import axios from 'axios';\n\nconst AxiosMdl = axios.create({\n    baseURL: 'https://developer.api.autodesk.com',\n})\n\nexport default AxiosMdl;","import React from 'react';\r\n\r\nexport default function EmployeeCell(options) {\r\n  const employee = options.data;\r\n /* console.log(' Esta es la da en Employeeee');\r\n  console.log(options.data);*/\r\n  if (!employee) {\r\n    return <span className=\"name\">not assigned</span>;\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <div style={{ padding:'7px'}}>\r\n      {/* <div className=\"img\" style={{ backgroundImage: `url(${employee.Picture})` }} /> */}\r\n      { employee.Tipo === 'Proyecto' ?\r\n      <div className=\"img\" style={{  backgroundImage: `url('img/manager.png')` }} />\r\n      : employee.Tipo === 'Folder' ?\r\n      <div className=\"img\" style={{  backgroundSize:'25px', backgroundImage: `url('img/project.png')` }} />\r\n      : employee.Tipo === 'Modelo' ?\r\n      <div className=\"img\" style={{  backgroundSize:'25px', backgroundImage: `url('img/subproject.png')` }} />\r\n      : employee.Tipo === 'Version' ?\r\n      ''\r\n    //   <div className=\"img\" style={{ backgroundImage: `url('manager3.png')` }} />\r\n      : ''\r\n    \r\n     }\r\n      \r\n      &nbsp;\r\n      <span className=\"name\">{employee.Descripcion}</span>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","//import { Modal, Button, ListGroup } from \"react-bootstrap\";\nimport { Modal, Card, Form, Row, Button, Col, InputGroup, FormControl, Dropdown, DropdownButton, Table } from 'react-bootstrap'\nimport { useSelector, useDispatch } from 'react-redux';\nimport { selectCompany } from '../actions/auth.action';\nimport { useHistory } from 'react-router-dom';\nimport Button1 from 'devextreme-react/button';\nimport TreeList, {\n\tPager,\n\tPaging,\n\tEditing,\n\tHeaderFilter,\n\tFilterPanel,\n\tFilterRow,\n\tScrolling,\n\tColumn\n} from 'devextreme-react/tree-list';\nimport { useEffect, useState } from \"react\";\n\nimport { ViewerScP } from '../views/ViewerScP';\nimport axiosmdl from \"../config/axiosmdl\";\nimport qs from \"querystring\";\nimport {decode as base64_decode, encode as base64_encode} from 'base-64';\nimport { selectMODELOS,ModificarSubPresupuesto, SelectUrn, SelectUrnB, guardarModelo } from '../actions/proyects.actions';\nimport Swal from 'sweetalert2'\nimport axios from 'axios';\nimport { Template, TextBox } from 'devextreme-react';\nimport EmployeeCell from './EmployeeCell';\n\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Paper from '@mui/material/Paper';\nimport Draggable from 'react-draggable';\n\n\nfunction PaperComponent(props) {\n\treturn (\n\t  <Draggable\n\t\thandle=\"#draggable-dialog-title\"\n\t\tcancel={'[class*=\"MuiDialogContent-root\"]'}\n\t  >\n\t\t<Paper {...props} />\n\t  </Draggable>\n\t);\n  }\n\n\n\nconst BuscaModelo = ({ show, setShow, subseleccionado, setSubSeleccionado ,item, CodPresupuesto, tipo='99', setSubPresupuestoN }) => {\n\tconst dispatch = useDispatch();\n\tconst handleClose = () => setShow(false);\n\t/*const auth = useSelector(state => state.auth);\n\tconst history = useHistory()\n\t//const [itemSelected, setItemSelected] = useState('')\t\n\t*/\n\tconst proyects = useSelector((state) => state.proyects);\n\tconst [modeloSel, setmodeloSel] = useState({\n\t\tcodigo: '',\n\t\tnombre: '',\n\t\tversion: '',\n\t\turnaddin: '',\n\t\turnweb: '',\n\t});\n\tconst [allLevels, setAllLevels] = useState({ Id: null, Descripcion: '', PhantomParentId: '', Tipo:'' })\n\tconst [lastLevel, setLastLevel] = useState(0);\n\tconst [loading, setLoading] = useState(true);\n\tlet token = '';\n\tlet idhub = '';\n\tlet idproy = '';\n\tlet nombreproy = '';\n\tlet urnfolder = '';\n\tlet folders = [];\n\n\tconst ObtenerTokenAdsk = async () => {\n\t\t//console.log('Se dispara solicitar Token ');\n\t\t//if (auth.User) {\n\t\tconst { data } = await axiosmdl.post(\n\t\t\t\"/authentication/v1/authenticate\",\n\t\t\tqs.stringify({\n\t\t\t\tclient_id: \"Lrn6oqLnwpCBd8GS0LuimGx5SHONYw4b\",\n\t\t\t\tclient_secret: \"JLA2LfrdwUg4hMkz\",\n\t\t\t\tgrant_type: \"client_credentials\",\n\t\t\t\tscope: \"data:read data:write data:create data:search bucket:create bucket:read bucket:update bucket:delete\",\n\t\t\t}),\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(' Token obtenido de Autodesk');\n\t\tconsole.log(data);\n\t\ttoken = data.access_token;\n\t\treturn '1';\n\t\t// console.log(idProject);\n\t\t//}\n\n\t}\n\n\n\tuseEffect(async () => {\n\t\t//ObtenerTokenAdsk();\n\t\tconst rep = await ObtenerTokenAdsk();\n\t\tconst rep1 = await DatosHubs();\n\t\tconst rep2 = await DatosProyectos();\n\t\tconst rep3 = await DatosFolders();\n\t\tconst rep4 = await DatosContentFolders();\n\t}, [])\n\n\n\n\tconst DatosHubs = async () => {\n\t\t//console.log('Se llama Hubs ' + \"Bearer \");\n\t\tconst { data } = await axiosmdl.get(\n\t\t\t\"/project/v1/hubs?\",\n\t\t\t{\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t/*console.log(' Hubs respuesta');\n\t\tconsole.log(data);\n\t\tconsole.log(data.data[0].attributes.name);\n\t\tconsole.log(data.data[0].id);*/\n\t\tidhub = data.data[0]?.id;\n\t\treturn '1';\n\n\t}\n\n\n\tconst DatosProyectos = async () => {\n\t\t//console.log('Se llama Hubs ' + \"Bearer \");\n\t\tconst { data } = await axiosmdl.get(\n\t\t\t\"/project/v1/hubs/\" + idhub + \"/projects\",\n\t\t\t{\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(' Proyectos respuesta');\n\t\tconsole.log(data);\n\t\tconsole.log(data.data[1]?.attributes.name);\n\t\tconsole.log(data.data[1]?.id);\n\n\t\tidproy = data.data[1]?.id;\n\t\tnombreproy = data.data[1]?.attributes.name;\n\t\t//setAllLevels(1);\n\n\n\t\tsetAllLevels([\n\t\t\t{\n\t\t\t\tId: data.data[1]?.id,\n\t\t\t\tDescripcion: data.data[1]?.attributes.name,\n\t\t\t\tPhantomParentId: null,\n\t\t\t\tTipo:'Proyecto'\n\t\t\t},\n\t\t]);\n\t\tsetLoading(false);\n\t\tconsole.log(allLevels);\n\t\treturn '1';\n\t}\n\n\n\tconst DatosFolders = async () => {\n\t\t//console.log('Se llama Hubs ' + \"Bearer \");\n\t\tconst { data } = await axiosmdl.get(\n\t\t\t\"/project/v1/hubs/\" + idhub + \"/projects/\" + idproy + \"/topFolders\",\n\t\t\t{\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(' Folders respuesta');\n\t\tconsole.log(data);\n\n\n\t\tfor (let i = 0; i < data.data.length; i++) {\n\t\t\tif (data.data[i].attributes.name === 'Project Files') {\n\t\t\t\tsetLastLevel(0);\n\t\t\t\turnfolder = data.data[i].id;\n\t\t\t\tsetAllLevels((state) => {\n\n\t\t\t\t\treturn [...state,\n\t\t\t\t\t{\n\t\t\t\t\t\tId: data.data[i].id,\n\t\t\t\t\t\tDescripcion: data.data[i].attributes.name,\n\t\t\t\t\t\tPhantomParentId: idproy,\n\t\t\t\t\t\tTipo:'Folder'\n\t\t\t\t\t},\n\n\t\t\t\t\t]\n\n\t\t\t\t});\n\n\t\t\t\t//alert(data.data[i].id);\n\t\t\t}\n\n\n\t\t}\n\t\t//console.log(data.data[1].attributes.name);\n\t\t//console.log(data.data[1].id);\n\n\t\t//let idproy = data.data[1].id;\n\t\t//let nombreproy = data.data[1].attributes.name;\n\t\t//setAllLevels(1);\n\t\t//setLastLevel(0);\n\t\t/*setAllLevels([\n\t\t\t[\n\t\t\t{\n\t\t\t\tId:data.data[1].id,\n\t\t\t\tDescripcion:data.data[1].attributes.name,\n\t\t\t\tPhantomParentId:'',\n\t\t\t},\n\t\t\t],\n\t\t\t[{\n\t\t\t\tId:'2',\n\t\t\t\tDescripcion:'otro dato',\n\t\t\t\tPhantomParentId:data.data[1].id,\t\t\n\t\t\t},\n\t\t\t{\n\t\t\t\tId:'2',\n\t\t\t\tDescripcion:'otro dato',\n\t\t\t\tPhantomParentId:data.data[1].id,\n\t\t\t}\n\t\t\t],\n\t\t]);*/\n\t\tsetLoading(false);\n\t\tconsole.log(allLevels);\n\n\t\treturn '1';\n\n\t}\n\t//https://developer.api.autodesk.com/project/v1/hubs/b.add1a5d6-6782-4ab4-80b5-ec0ac90a3c44/projects\n\t//https://developer.api.autodesk.com/project/v1/hubs/b.add1a5d6-6782-4ab4-80b5-ec0ac90a3c44/projects/b.650b7b18-9a52-4032-a01d-9e7b181ca5f9/topFolders\n\t//https://developer.api.autodesk.com/data/v1/projects/b.650b7b18-9a52-4032-a01d-9e7b181ca5f9/folders/urn:adsk.wipprod:fs.folder:co.MiYHBR6bR7u6JNIMqiygGA/contents\n\n\t//let cantidadFolders=0;\n\n\n\tconst DatosContentFolders = async () => {\n\t\t//console.log('Se llama Hubs ' + \"Bearer \");\n\t\tconst { data } = await axiosmdl.get(\n\t\t\t\"/data/v1/projects/\" + idproy + \"/folders/\" + urnfolder + \"/contents\",\n\t\t\t{\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(' Content Folders respuesta');\n\t\tconsole.log(data);\n\n\t\tlet arreglo = [];\n\t\tlet arreglo1 = [];\n\t\tfor (let i = 0; i < data.data.length; i++) {\n\n\t\t\tif (data.data[i].type === 'folders') {\n\t\t\t\tfolders.push(data.data[i].id);\n\t\t\t}\n\t\t\tif (data.data[i].type === 'folders') {\n\t\t\tsetAllLevels((state) => {\n\t\t\t\treturn [...state,\n\t\t\t\t{\n\t\t\t\t\tId: data.data[i].id,\n\t\t\t\t\tDescripcion: data.data[i].attributes.displayName,\n\t\t\t\t\tPhantomParentId: urnfolder,\n\t\t\t\t\tTipo:'Folder'\n\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\t\t}else{\n\n\t\t\tsetAllLevels((state) => {\n\t\t\t\treturn [...state,\n\t\t\t\t{\n\t\t\t\t\tId: data.data[i].id,\n\t\t\t\t\tDescripcion: data.data[i].attributes.displayName,\n\t\t\t\t\tPhantomParentId: urnfolder,\n\t\t\t\t\tTipo:'Modelo'\n\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\n\n\t\t}\n\t\t\t/*arreglo.push(\n\t\t\t\t{\n\t\t\t\t\tId:data.data[i].id,\n\t\t\t\t\tDescripcion:data.data[i].attributes.displayName,\n\t\t\t\t\tPhantomParentId:urnfolder\n\t\t\t\t},\n\t\t\t\t)*/\n\n\t\t\tfor (let j = 0; j < data.included.length; j++) {\n\t\t\t\tif (data.data[i].attributes.displayName === data.included[j].attributes.name) {\n\n\t\t\t\t\tsetAllLevels((state) => {\n\t\t\t\t\t\treturn [...state,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tId: data.included[j].id,\n\t\t\t\t\t\t\tDescripcion: 'Version ' + data.included[j].attributes.versionNumber + ' ' + data.included[j].attributes.lastModifiedTime.substring(0,10),\n\t\t\t\t\t\t\tPhantomParentId: data.data[i].id,\n\t\t\t\t\t\t\tTipo:'Version'\n\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t});\n\n\t\t\t\t\t/*arreglo1.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tId:data.included[j].id,\n\t\t\t\t\t\t\tDescripcion:'Version '+ data.included[j].attributes.versionNumber + ' ' + data.included[j].attributes.lastModifiedTime,\n\t\t\t\t\t\t\tPhantomParentId:data.data[i].id\n\t\t\t\t\t\t},\n\t\t\t\t\t\t)*/\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//console.log(arreglo);\n\n\t\t/*setAllLevels( (state)=>{\n\n\t\t\treturn[state.concat(arreglo).concat(arreglo1)]\n\t\t});*/\n\n\t\t/*setAllLevels( (state)=>{\n\t\treturn[...state,\n\t\t\tarreglo,arreglo1\t\t\t\n\t\t]\n\t\t});*/\n\t\t//setLastLevel(4);\n\t\tsetLoading(false);\n\t\tconsole.log(allLevels);\n\n\t\tfor (let i = 0; i < folders.length; i++) {\n\t\t\tlet resp = await DatosContentFolders1(folders[i]);\n\t\t}\n\n\n\t\treturn '1';\n\n\n\t}\n\n\n\tconst DatosContentFolders1 = async (idf) => {\n\t\t//console.log('Se llama Hubs ' + \"Bearer \");\n\t\tconst { data } = await axiosmdl.get(\n\t\t\t\"/data/v1/projects/\" + idproy + \"/folders/\" + idf + \"/contents\",\n\t\t\t{\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(' Content Folders respuesta');\n\t\tconsole.log(data);\n\n\t\tlet arreglo = [];\n\t\tlet arreglo1 = [];\n\t\tfor (let i = 0; i < data.data.length; i++) {\n\n\t\t\tif (data.data[i].type === 'folders') {\n\t\t\t\tfolders.push(data.data[i].id);\n\t\t\t}\n\n\t\t\t/*arreglo.push(\n\t\t\t\t{\n\t\t\t\t\tId:data.data[i].id,\n\t\t\t\t\tDescripcion:data.data[i].attributes.displayName,\n\t\t\t\t\tPhantomParentId:idf\n\t\t\t\t},\n\t\t\t\t)*/\n\n\t\t\tsetAllLevels((state) => {\n\t\t\t\treturn [...state,\n\t\t\t\t{\n\t\t\t\t\tId: data.data[i].id,\n\t\t\t\t\tDescripcion: data.data[i].attributes.displayName,\n\t\t\t\t\tPhantomParentId: idf,\n\t\t\t\t\tTipo:'Modelo'\n\t\t\t\t}\n\t\t\t\t]\n\t\t\t});\n\n\t\t\tfor (let j = 0; j < data.included.length; j++) {\n\t\t\t\tif (data.data[i].attributes.displayName === data.included[j].attributes.name) {\n\n\t\t\t\t\tsetAllLevels((state) => {\n\t\t\t\t\t\treturn [...state,\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tId: data.included[j].id,\n\t\t\t\t\t\t\tDescripcion: 'Version ' + data.included[j].attributes.versionNumber + ' ' + data.included[j].attributes.lastModifiedTime.substring(0,10),\n\t\t\t\t\t\t\tPhantomParentId: data.data[i].id,\n\t\t\t\t\t\t\tTipo:'Version'\n\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\t\t\t\t\t});\n\n\t\t\t\t\t/*arreglo1.push(\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tId: data.included[j].id,\n\t\t\t\t\t\t\tDescripcion: 'Version ' + data.included[j].attributes.versionNumber + ' ' + data.included[j].attributes.lastModifiedTime,\n\t\t\t\t\t\t\tPhantomParentId: data.data[i].id\n\t\t\t\t\t\t},\n\t\t\t\t\t)*/\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t//console.log(arreglo);\n\t\t/*setAllLevels( (state)=>{\n\t\t\treturn[...state,\n\t\t\t\tarreglo,arreglo1\t\t\t\n\t\t\t]\n\t\t\t});*/\n\n\t\t/*setAllLevels( (state)=>{\n\t\t\treturn[state[0],state[1],state[2],state[3].concat(arreglo), arreglo1]\n\t\t\t});*/\n\n\t\t//setLastLevel(5);\n\t\tsetLoading(false);\n\t\t//console.log('all levels final');\n\t\t//console.log(allLevels);\n\t\treturn '1';\n\n\t}\n\n\n\n\tfunction getRandomString(length) {\n\t\tvar s = '';\n\t\tdo { s += Math.random().toString(36).substr(2); } while (s.length < length);\n\t\ts = s.substr(0, length);\n\t\t\n\t\treturn s;\n\t  }\n\t  \n\t  \n\n\tconst Selecciona = () => {\n\t\t\n\n\t\tif (tipo==='3'){\n\n\t\t\t//alert('estoy por aqui '+ modeloSel.nombre + ' ' + modeloSel.urnaddin + ' ' +  modeloSel.urnweb );\n\t\t\tif (modeloSel.nombre && modeloSel.nombre!==''){\n\t\t\n\t\t\t\tlet buscado = proyects.DataModelos.find(item => item.UrnWeb === modeloSel.urnweb);\n\t\t\t\tlet uid='';\n\t\t\t\tlet nombre='';\n\t\t\t\tif (buscado){\n\t\t\t\t\t//SI EXISTE EN MI TABLA DEBO COGER LOS DATOS DE ID NOMBRE Y MODIFICAR EL REGISTRO DE SUBPRESUPUESTO\t\n\t\t\t\t\tuid = buscado.CodPlano;\n\t\t\t\t\tnombre = buscado.NombreArchivoRvt;\n\t\t\t\t\n\t\t\t\t}else{\n\t\t\t\t\t\n\t\t\t\t\tuid = getRandomString(24);\n\t\t\t\t\t//console.log(\"llamando a guardar modelos\");\n\t\t\t\t\t//alert(uid + );\n\t\t\n\t\t\t\t\tconst resp = dispatch(guardarModelo(uid, modeloSel.nombre, '',  modeloSel.urnaddin,  modeloSel.urnweb, ''));\n\t\t\t\t\tnombre = modeloSel.nombre;\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tdispatch(selectMODELOS(''));\n\t\t\t\t\t}, 1000);\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconsole.log(\"AHORA LOS MODELOS DESPUES DE GUARDAR\");\n\t\t\t\t\t\tconsole.log(proyects.DataModelos);\n\t\t\t\t\t}, 3800);\n\t\t\n\t\t\n\t\t\t\t}\n\t\t\n\t\t\t\t\n\t\t\t\t//subseleccionado.CodModelo=uid;\n\t\t\t\t//subseleccionado.NombreModelo=nombre;\n\n\n\t\t\t\t/*console.log(\"EL SELECCIONADO despues de modificar\");\n\t\t\t\tconsole.log(subseleccionado);\n\t\t\n\t\t\t\tconsole.log(\"el codigo del presupuesto\");\n\t\t\t\tconsole.log(CodPresupuesto);*/\n\t\t\n\t\t\t\t//CodSubpresupuesto\n\t\t\t\t//ModificarSubPresupuesto = (CodPresupuesto, CodSubPresupuesto, Descripcion,  CodModelo, userId) =>{\n\t\t\t\t\t//dispatch(ModificarSubPresupuesto(CodPresupuesto, subseleccionado.CodSubpresupuesto, subseleccionado.Descripcion,  subseleccionado.CodModelo,  ''));\n\t\t\t\t\t//console.log(\"DISPATCH\");\n\t\t\t\t\t//console.log(CodPresupuesto, subseleccionado.CodSubpresupuesto, subseleccionado.Descripcion,  subseleccionado.CodModelo,  '');\n\t\t\n/*\n\t\t\t\t\tconst initialP={    \n\t\t\t\t\t\tCantidad: 1,\n\t\t\t\t\t\tCodAlterno: \"\",\n\t\t\t\t\t\tCodModelo: null,\n\t\t\t\t\t\tCodSubpresupuesto: \"001\",\n\t\t\t\t\t\tCostoOferta1: 0,\n\t\t\t\t\t\tCostoOferta2: 0,\n\t\t\t\t\t\tDescripcion: \"\",\n\t\t\t\t\t\tNombreModelo: null,\n\t\t\t\t\t\tUrnWeb:'',\n\t\t\t\t\t\t}\n*/\n\t\t\t\t\tsetSubPresupuestoN( (state) => ({...state,CodModelo:uid, NombreModelo:nombre, UrnWeb:modeloSel.urnweb}));\n\n\n\t\t\t\t}else{\n\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\ttitle: 'Error!',\n\t\t\t\t\t\ttext: 'No ha seleccionado un Modelo',\n\t\t\t\t\t\ticon: 'error',\n\t\t\t\t\t\tconfirmButtonText: 'Ok'\n\t\t\t\t\t})\n\t\t\n\t\t\t\t}\n\t\n\t\t\t\n\n\n\n\t\t}else\n\t\t{\n\n\t\t\t\n\t\t\t\n\t\t\tif (modeloSel.nombre && modeloSel.nombre!==''){\n\t\t\t//console.log('Este va a guardar');\n\t\t\t//console.log(modeloSel);\n\t\t\t//console.log(\"LOS SUBPRESUPUESTOS AHORA SON\");\n\t\t\t//console.log(proyects.treeSubControl);\n\t\t\t//console.log(\"ACTUALMENTE LOS MODELOS\");\n\t\t\t//console.log(proyects.DataModelos);\n\t\n\t\t\tlet buscado = proyects.DataModelos.find(item => item.UrnWeb === modeloSel.urnweb);\n\t\n\t\t\tlet uid='';\n\t\t\tlet nombre='';\n\t\t\tif (buscado){\n\t\n\t\t\t\t//SI EXISTE EN MI TABLA DEBO COGER LOS DATOS DE ID NOMBRE Y MODIFICAR EL REGISTRO DE SUBPRESUPUESTO\t\n\t\t\t\tuid = buscado.CodPlano;\n\t\t\t\tnombre = buscado.NombreArchivoRvt;\n\t\t\t\n\t\t\t}else{\n\t\t\t\t\n\t\t\t\t//NO EXISTE DEBO INGRESAR PRIMERO EN LA TABLA DE MODELOS GENERANDO UN NUEVO ID\n\t\t\t\t//let guid = createGuid(); \n\t\t\t\t//let encoded = base64_encode(guid);\n\t\t\t\t//let encoded = btoa(guid);\n\t\t\t\t//let encoded =b64EncodeUnicode(guid); \n\t\t\t\tuid = getRandomString(24);\n\t\t\t\tconsole.log(\"llamando a guardar modelos\");\n\t\t\t\t//alert(uid + );\n\t\n\t\t\t\tconst resp = dispatch(guardarModelo(uid, modeloSel.nombre, '',  modeloSel.urnaddin,  modeloSel.urnweb, ''));\n\t\t\t\tnombre = modeloSel.nombre;\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdispatch(selectMODELOS(''));\n\t\t\t\t}, 1000);\n\t\t\t\t/*setTimeout(() => {\n\t\t\t\t\t//console.log(\"AHORA LOS MODELOS DESPUES DE GUARDAR\");\n\t\t\t\t\t//console.log(proyects.DataModelos);\n\t\t\t\t}, 3800);*/\n\t\n\t\n\t\t\t}\n\t\n\t\t\t/*setSubSeleccionado((state)=>{\n\t\t\t\treturn ({...state,\n\t\t\t\t\t\t //CodModelo:uid,\n\t\t\t\t\t\t CodModelo:'8888888',\n\t\t\t\t\t\t NombreModelo:'blablabla',\n\t\t\t\t\t\t //NombreModelo:nombre\n\t\t\t\t\t\t})\n\t\t\t});*/\n\t\t\tsubseleccionado.CodModelo=uid;\n\t\t\tsubseleccionado.NombreModelo=nombre;\n\t\t\t/*console.log(\"EL SELECCIONADO despues de modificar\");\n\t\t\tconsole.log(subseleccionado);\n\t\n\t\t\tconsole.log(\"el codigo del presupuesto\");\n\t\t\tconsole.log(CodPresupuesto);*/\n\t\n\t\t\t//CodSubpresupuesto\n\t\t\t//ModificarSubPresupuesto = (CodPresupuesto, CodSubPresupuesto, Descripcion,  CodModelo, userId) =>{\n\t\t\t\tdispatch(ModificarSubPresupuesto(CodPresupuesto, subseleccionado.CodSubpresupuesto, subseleccionado.Descripcion,  subseleccionado.CodModelo,  ''));\n\t\t\t\t//console.log(\"DISPATCH\");\n\t\t\t\t//console.log(CodPresupuesto, subseleccionado.CodSubpresupuesto, subseleccionado.Descripcion,  subseleccionado.CodModelo,  '');\n\t\n\n\t\t\t\t\n\t\n\t\t\t\t//console.log(\"este es el estado de mi subpressss\");\n\t\t\t\t//console.log(proyects.treeSubControl)\n\t\t\t\tfor (let i=0;i<proyects.treeSubControl.length;i++)\n\t\t\t\t{\n\t\t\t\t\tif(proyects.treeSubControl[i].CodSubpresupuesto === subseleccionado.CodSubpresupuesto){\n\t\t\t\t\t\tproyects.treeSubControl[i].CodModelo=uid;\n\t\t\t\t\t\tproyects.treeSubControl[i].NombreModelo=modeloSel.nombre;\n\t\t\t\t\t\tproyects.treeSubControl[i].UrnWeb=modeloSel.urnweb;\n\t\t\t\t\t}\n\t\n\t\n\t\t\t\t}\n\n\t\t\t\tif (proyects.seleccionado===2){\n\n\t\t\t\t\t//alert('estoy en sub')\n\t\t\t\t\tdispatch(SelectUrn(modeloSel.urnweb))\n\t\t\t\t}\n\n\t\t\t}else{\n\t\t\t\tSwal.fire({\n\t\t\t\t\ttitle: 'Error!',\n\t\t\t\t\ttext: 'No ha seleccionado un Modelo',\n\t\t\t\t\ticon: 'error',\n\t\t\t\t\tconfirmButtonText: 'Ok'\n\t\t\t\t})\n\t\n\t\t\t}\n\n\t\t\t\n\t\t\t\n\n\t\t/*Cantidad: 1\n\t\tCodAlterno: null\n\t\tCodModelo: \"p308ni946vk6irew7bow3g5v\"\n\t\tCodSubpresupuesto: \"001\"\n\t\tCostoOferta1: null\n\t\tCostoOferta2: null\n\t\tDescripcion: \"PRESUPUESTO 88\"\n\t\tNombreModelo: \"Estructuras.rvt\"\n\t\tUrnWeb: \"<dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLkw1TEp></dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLkw1TEp>*/\n\n\n\n\t\t}\n\n\n\n\n\t\t\n\n\n\n\n\n\n\n\t\t//proyects.AuxModelo = modeloSel.nombre;\n\t\tsetShow(false);\n\t}\n\n\n\tfunction onSelectionChanged(e) {\n\t\t//console.log(e);\n\n\t\tsetmodeloSel({\n\t\t\tcodigo: '',\n\t\t\tnombre: '',\n\t\t\tversion: '',\n\t\t\turnaddin: '',\n\t\t\turnweb: '',\n\t\t});\n\n\t\t//alert(e.row.data.Descripcion);\n\t\tconst Item = e.row.data;\n\t\t//console.log('El item es ACTUAL :');\n\t\t//console.log(Item);\n\t\tconst Id = Item.Id;\n\t\tlet Descripcion = Item.Descripcion;\n\t\t//alert(Item.CodPlano + ' ' + Item.NombreArchivoRvt);\n\t\tif (Descripcion.substring(0,7)==='Version')\n\t\t\t{\n\t\t\t\t//alert(pc.Id + \" \" + newTitle);\n\t\t\t\tlet encoded = base64_encode(Id);\n\t\t\t\t//alert(encoded);\n\t\t\t\t//dispatch(SelectUrnB(encoded));\n\t\t\t\tdispatch(SelectUrn(encoded));\n\n\n\t\t\t\tlet arrresp = allLevels.find(item => item.Id === Item.PhantomParentId)\n\t\t\t\tconsole.log('este es el filtro');\n\t\t\t\tconsole.log(arrresp);\n\t\t\t\tlet Version = arrresp.Descripcion;\n\t\t\t\t//Descripcion= arrresp.Descripcion + ' -> ' + Descripcion;\n\t\t\t\t//Descripcion= arrresp.Descripcion;\n\n\t\t\t\t/*.map(filtro => {\n\t\t\t\t\talert(filtro.Descripcion)\n\t\t\t\t\t\n\n\t\t\t\t});*/\n\t\t\t\tsetmodeloSel({\n\t\t\t\t\tcodigo: Id,\n\t\t\t\t\tnombre: Version,\n\t\t\t\t\tversion: Descripcion,\n\t\t\t\t\turnaddin: Id,\n\t\t\t\t\turnweb: encoded,\t\t\t\t\t\n\t\t\t\t});\n\t\t\n\t\t\t}\n\n\n\n\t\t//const codSub = Item.CodSubpresupuesto;\n\t\t//const codItem = Item.Item;\n\t\t//alert(codP + \"-\" + codSub + \"-\" + codItem);\n\n\n\t\t//const selectedData = e.component.getSelectedRowsData(state.selectionMode);\n\t\t/*setState({\n\t\t  selectedRowKeys: e.selectedRowKeys,\n\n\t\t  //selectedEmployeeNames: this.getEmployeeNames(selectedData)\n\t\t});*/\n\t}\n\n\t\n\treturn (\n\t\t<>\n\t\t\t\n\n\t\t\t\t\t\t\t\t<TreeList\n\t\t\t\t\t\t\t\t\tstyle={{height:'300px'}}\n\t\t\t\t\t\t\t\t\tdataSource={allLevels}\n\t\t\t\t\t\t\t\t\tkeyExpr=\"Id\"\n\t\t\t\t\t\t\t\t\tparentIdExpr=\"PhantomParentId\"\n\t\t\t\t\t\t\t\t\tshowBorders={true}\n\t\t\t\t\t\t\t\t\tfocusedRowEnabled={true}\n\t\t\t\t\t\t\t\t\t//defaultExpandedRowKeys={[1, 2, 3, 5]}\n\t\t\t\t\t\t\t\t\tcolumnAutoWidth={false}\n\t\t\t\t\t\t\t\t\tdefaultFocusedRowIndex={0}\n\t\t\t\t\t\t\t\t\trootValue={-1}\n\t\t\t\t\t\t\t\t\t//rowAlternationEnabled={true}\n\t\t\t\t\t\t\t\t\tonFocusedRowChanged={onSelectionChanged}\n\t\t\t\t\t\t\t\t\twordWrapEnabled={true}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Editing\n\t\t\t\t\t\t\t\t\t\tallowUpdating={false}\n\t\t\t\t\t\t\t\t\t\tallowDeleting={false}\n\t\t\t\t\t\t\t\t\t\tselectTextOnEditStart={true}\n\t\t\t\t\t\t\t\t\t\tuseIcons={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<HeaderFilter\n\t\t\t\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FilterRow\n\t\t\t\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Scrolling\n\t\t\t\t\t\t\t\t\t\tmode=\"standard\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\t\t\t\twidth={'100%'}\n\t\t\t\t\t\t\t\t\t\tdataField=\"Descripcion\"\n\t\t\t\t\t\t\t\t\t\tcaption=\"Listado de Modelos\"\n\t\t\t\t\t\t\t\t\t\tcellTemplate=\"employeeTemplate\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Pager\n\t\t\t\t\t\t\t\t\t\t//allowedPageSizes={allowedPageSizes}\n\t\t\t\t\t\t\t\t\t\tshowPageSizeSelector={true}\n\t\t\t\t\t\t\t\t\t\tshowNavigationButtons={true}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Paging\n\t\t\t\t\t\t\t\t\t\tenabled={true}\n\t\t\t\t\t\t\t\t\t\tdefaultPageSize={500}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Template name=\"employeeTemplate\" render={EmployeeCell} />\n\t\t\t\t\t\t\t\t</TreeList>\n\n\t\t</>\n\t)\n}\n\nexport default BuscaModelo\n","import { useSelector } from 'react-redux';\nimport 'devextreme/dist/css/dx.light.css';\nimport Button1 from 'devextreme-react/button';\nimport TreeList, {\n\tPager,\n\tPaging,\n\tEditing,\n\tHeaderFilter,\n\tFilterPanel,\n\tFilterRow,\n\tScrolling,\n\tColumn,\n\tSearchPanel\n} from 'devextreme-react/tree-list';\nimport { useState } from 'react';\nimport { Template } from 'devextreme-react';\nimport { CellNormal } from './Cellrend';\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Paper from '@mui/material/Paper';\nimport Draggable from 'react-draggable';\n\n\nfunction PaperComponent(props) {\n\treturn (\n\t  <Draggable\n\t\thandle=\"#draggable-dialog-title\"\n\t\tcancel={'[class*=\"MuiDialogContent-root\"]'}\n\t  >\n\t\t<Paper {...props} />\n\t  </Draggable>\n\t);\n  }\n\nconst BuscaMoneda = ({ tipo='',presupuestoN,show, setShow }) => {\n\tconst handleClose = () => setShow(false);\n\tconst proyects = useSelector((state) => state.proyects);\n\tconst [monedaSel, setMonedaSel] = useState({\n\t\tCodigo: '',\n\t\tDescripcion: '',\n\t});\n\t\n\n\tconst seleccionar = () => {\n\t\tif (monedaSel.Descripcion===''){\n\t\t\treturn;\n\t\t}\n\t\t\tpresupuestoN.CodMoneda=monedaSel.Codigo;\n\t\t\tpresupuestoN.Moneda=monedaSel.Descripcion;\n\t\t\tsetShow(false);\n\t}\n\n\n\n\treturn (\n\t\t<>\n\t\t\t<Dialog\n\t\t\t\topen={show}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tPaperComponent={PaperComponent}\n\t\t\t\taria-labelledby=\"draggable-dialog-title\"\n\t\t\t\tmaxWidth={'sm'}\n\t\t\t>\n\t\t\t\t<DialogTitle style={{ cursor: 'move', background: '#398bf7', color: 'white', marginBottom: '10px', height: '50px' }} id=\"draggable-dialog-title\">\n\t\t\t\t\tSelecciona una Moneda\n\t\t\t\t\t<Button1\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tstyle={{ position: 'absolute', right: '15px', top: '8px', background: '#398bf7', color: 'white' }}\n\t\t\t\t\t><i class=\"fas fa-times\"></i>\n\t\t\t\t\t</Button1>\n\t\t\t\t</DialogTitle>\n\n\t\t\t\t<DialogContent >\n\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t\t<TreeList\n\t\t\t\t\t\t\tdataSource={proyects.DataMonedas}\n\t\t\t\t\t\t\tkeyExpr=\"CodMoneda\"\n\t\t\t\t\t\t\tshowBorders={true}\n\t\t\t\t\t\t\tfocusedRowEnabled={true}\n\t\t\t\t\t\t\tdefaultExpandedRowKeys={[1, 2, 3, 5]}\n\t\t\t\t\t\t\tcolumnAutoWidth={false}\n\t\t\t\t\t\t\trootValue={-1}\n\t\t\t\t\t\t\trowAlternationEnabled={true}\n\t\t\t\t\t\t\tonFocusedRowChanged={(e) => {\n\t\t\t\t\t\t\t\tconsole.log(e)\n\t\t\t\t\t\t\t\tsetMonedaSel({\n\t\t\t\t\t\t\t\t\tCodigo: e.row.data.CodMoneda,\n\t\t\t\t\t\t\t\t\tDescripcion: e.row.data.Descripcion,\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\twordWrapEnabled={true}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<SearchPanel visible={true} />\n\t\t\t\t\t\t\t<Editing\n\t\t\t\t\t\t\t\tallowUpdating={false}\n\t\t\t\t\t\t\t\tallowDeleting={false}\n\t\t\t\t\t\t\t\tselectTextOnEditStart={true}\n\t\t\t\t\t\t\t\tuseIcons={true}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<HeaderFilter\n\t\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<FilterPanel\n\t\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t<FilterRow\n\t\t\t\t\t\t\t\tvisible={false}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Scrolling\n\t\t\t\t\t\t\t\tmode=\"standard\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Column\n\t\t\t\t\t\t\t\twidth={'35%'}\n\t\t\t\t\t\t\t\tdataField=\"Descripcion\"\n\t\t\t\t\t\t\t\tcellTemplate=\"Template1\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Pager\n\t\t\t\t\t\t\t\tshowPageSizeSelector={true}\n\t\t\t\t\t\t\t\tshowNavigationButtons={true}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Paging\n\t\t\t\t\t\t\t\tenabled={true}\n\t\t\t\t\t\t\t\tdefaultPageSize={15}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Template name=\"Template1\" render={CellNormal} />\n\t\t\t\t\t\t</TreeList>\n\t\t\t\t\t\t\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t<strong style={{ fontSize: '0.6rem', position: 'absolute', left: '5px', marginLeft: '20px', }}> {monedaSel.Descripcion}</strong>\n\t\t\t\t\t<Button1\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={seleccionar}\n\t\t\t\t\t\tstyle={{}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ion-icon name=\"checkmark-done-outline\"></ion-icon>\n\t\t\t\t\t\tSeleccionar\n\t\t\t\t\t</Button1>\n\t\t\t\t\t<Button1\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ion-icon name=\"close-outline\"></ion-icon>\n\t\t\t\t\t\tCancelar\n\t\t\t\t\t</Button1>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\n\t\t</>\n\t)\n}\n\nexport default BuscaMoneda","import React, { useEffect, useState } from 'react'\nimport { Card, Form, Row, Button, Col, InputGroup, FormControl, Dropdown, DropdownButton, Table } from 'react-bootstrap'\nimport Moment from 'react-moment';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { actPresupuesto, cambiaSeleccion, limpiaUbicaciones, modificaGrupo1, modificarPresupuesto, ModificarSubPresupuesto, modificaSub, modificaSub1, selectCLIENTES, selectMODELOS, selectMONEDAS, selectUBICACIONES, SelectUrn } from '../actions/proyects.actions';\nimport BuscaCliente from '../components/BuscaCliente';\nimport BuscaUbicacion from '../components/BuscaUbicacion';\nimport { ViewerSc } from './ViewerSc';\nimport Swal from 'sweetalert2'\nimport BuscaModelo from '../components/BuscaModelo';\nimport BuscaMoneda from '../components/BuscaMoneda';\nimport { DateBox, SelectBox, TextBox } from 'devextreme-react';\nimport Button1 from 'devextreme-react/button';\n//import { ViewScreen1 } from './ViewScreen1'\nimport ValidationSummary from 'devextreme-react/validation-summary';\nimport {\n  Validator,\n  RequiredRule,\n  CompareRule,\n  EmailRule,\n  PatternRule,\n  StringLengthRule,\n  RangeRule,\n  AsyncRule\n} from 'devextreme-react/validator';\n\nconst tiempoTranscurrido = Date.now();\nconst hoy = new Date(tiempoTranscurrido);\n\nconst DatosGenerales = ({ setCambioSub }) => {\n\n    /*const [ItemSub, setItemSub] = useState({ });*/\n\n    const initialP = {\n        CodPresupuesto: '',\n        CodAlterno: '',\n        Descripcion: '',\n        CodCliente: '',\n        Cliente: '',\n        CodLugar: '',\n        UbicacionGeografica: '',\n        Fecha: hoy,\n        HistoricoPrecios: '',\n        Plazo: '0',\n        Jornada: '8.00',\n        JornadaSemana: '0.00',\n        JornadaMes: '0.00',\n        JornadaAno: '0.00',\n        CodMoneda: '',\n        Moneda: '',\n        SimboloMoneda: '',\n        CostoDirectoBase1: '0.00',\n        CostoIndirectoBase1: '0.00',\n        CostoBase1: '0.00',\n        CostoDirectoOferta1: '0.00',\n        CostoIndirectoOferta1: '0.00',\n        CostoOferta1: '0.00',\n        ERPCode: '',\n        Fila: null,\n        Nivel: null,\n        PhantomId: '',\n        PhantomParentId: ''\n    }\n\n\n    const [presupuestoN, setPresupuestoN] = useState(initialP);\n\n\n    const [show, setShow] = useState(false);\n    const [showUb, setShowUb] = useState(false);\n    const [showMdl, setShowMdl] = useState(false);\n    const [showMnd, setShowMnd] = useState(false);\n\n    const [subseleccionado, setSubSeleccionado] = useState(null);\n\n\n    const [historicoSel, setHistoricoSel] = useState(\"\");\n    const [historicos, setHistoricos] = useState([]);\n\n\n    //VARIABLES PARA TAMAÑO DE PANTALLA\n    const [titulos, setTitulos] = useState('100%');\n\n\n\n\n    //let history = useHistory();\n    //const classes = useStyles();\n    const dispatch = useDispatch();\n    // const [loading, setLoading] = useState(true);\n\n    /*const [ allLevels, setAllLevels ] = useState(null)\n    const [ itemSelected, setItemSelected ] = useState('')\n    const [ lastLevel, setLastLevel ] = useState(0);\n\n    const [ allLevels1, setAllLevels1 ] = useState(null)\n    const [ itemSelected1, setItemSelected1 ] = useState('')\n    const [ lastLevel1, setLastLevel1 ] = useState(0);*/\n\n\n    //const [loading, setLoading] = useState(true);\n\n    //const auth = useSelector((state) => state.auth);\n    const proyects = useSelector((state) => state.proyects);\n    //alert(' inicializando treeeee' );\n\n    const [selecOP, setselecOP] = useState(1);\n\n    //const subproyects = useSelector((state) => state.subproyects);\n\n\n    const showFn = () => {\n        setShow(true)\n    }\n\n    const drawerItems = () => {\n        //console.log('datos de subProyectos actualizados')\n        //console.log(allLevels1[0])\n\n\n        return (\n            proyects.treeSubControl ?\n                proyects.treeSubControl.map(filter => {\n                    return (<tr key={filter.CodSubpresupuesto}>\n                        <td>{filter.CodSubpresupuesto}</td>\n                        <td>{filter.CodAlterno}</td>\n                        <td>\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formDF\">\n                                <Col sm={11}>\n                                    <TextBox\n                                        defaultValue={filter.Descripcion}\n                                        value={filter.Descripcion}\n                                        height={'25px'}\n                                        width={'90%'}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={(e) => { CambiaDescripcionsub(e, filter) }}\n                                    //rtlEnabled={true}\n                                    //readOnly={true}\n                                    />\n                                </Col>\n                                <Col sm={1}>\n                                    <Button1 variant=\"outline-info\" style={{ height: '25px', marginLeft: '-15px' }} onClick={() => {\n                                        modifica_desc(filter)\n                                    }}><i class=\"far fa-save\" style={{ position: 'relative', top: '-5px' }}></i></Button1>\n                                </Col>\n\n                            </Form.Group>\n                        </td>\n                        <td align=\"center\">{formatNumber(filter.Cantidad)}</td>\n                        <td align=\"right\" style={{ paddingRight:'30px'}}>{formatNumber(filter.CostoOferta1)}</td>\n                        <td align=\"left\">{filter.NombreModelo ? filter.NombreModelo : 'No asignado'} <Button1 style={{ position: 'absolute', right: '40px', width: \"20px\", height: '20px' }} onClick={() => { Selecciona(filter) }}><i class=\"far fa-edit\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></Button1>\n                            <Button1 style={{ position: 'absolute', right: '10px', width: \"20px\", height: '20px' }} onClick={() => { Elimina(filter) }}><i class=\"far fa-trash-alt\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></Button1>\n                        </td>\n                    </tr>\n                    )\n                }) : ''\n        )\n    }\n\n\n    function formatNumber(num) {\n        if (!num || num == 'NaN') return '0.00';\n        if (num == 'Infinity') return '&#x221e;';\n        var num = num.toString().replace(/\\$|\\,/g, '');\n        if (isNaN(num))\n            num = \"0\";\n        var sign = (num == (num = Math.abs(num)));\n        num = Math.floor(num * 100 + 0.50000000001);\n        var cents = num % 100;\n        num = Math.floor(num / 100).toString();\n        if (cents < 10)\n            cents = \"0\" + cents;\n        for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)\n            num = num.substring(0, num.length - (4 * i + 3)) + ',' + num.substring(num.length - (4 * i + 3));\n        return (((sign) ? '' : '-') + num + '.' + cents);\n    }\n\n    function roundN(num, n) {\n        return parseFloat(Math.round(num * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n);\n    }\n\n    const CambiaDescripcionsub = (data, filter) => {\n        setCambioSub(true);\n\n        //console.log(filter);\n        //console.log('ESTOS SON MIS SUBPRSUPUESTOS');\n        //console.log(proyects.treeSubControl);\n        const Modificado = [{\n            CodSubpresupuesto: filter.CodSubpresupuesto,\n            Descripcion: data.value,\n            Cantidad: 1,\n            CodAlterno: filter.CodAlterno,\n            CodModelo: filter.CodModelo,\n            CostoOferta1: filter.CostoOferta1,\n            CostoOferta2: filter.CostoOferta2,\n            NombreModelo: filter.NombreModelo,\n            UrnWeb: filter.UrnWeb\n        }];\n        dispatch(modificaSub(Modificado));\n\n        /*for (let i=0;i<proyects.treeSubControl.length;i++)\n        {\n            if (proyects.treeSubControl[i].CodSubpresupuesto === filter.CodSubpresupuesto){\n                proyects.treeSubControl[i].Descripcion=data.value;\n                alert(proyects.treeSubControl[i].Descripcion)      \n            }\n            \n        }\n        //treeSubControl.filter( (filtro1) => filtro1.PhantomParentId === Item.CodMedicion );\n        \n        //alert(data.value)\n        //filter.Descripcion=data.value;\n        //alert(filter.Descripcion)\n        /*if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }*/\n        //setPresupuestoN( (state) => ({...state,Descripcion:data.value}));\n    }\n\n\n    const modifica_desc = (dato) => {\n\n        //alert(proyects.DatosPresupuesto[0].CodPresupuesto + \" \" + dato.CodSubpresupuesto + ' ' + dato.Descripcion + ' ' + dato.CodModelo );\n        dispatch(ModificarSubPresupuesto(proyects.DatosPresupuesto[0].CodPresupuesto, dato.CodSubpresupuesto, dato.Descripcion, dato.CodModelo, ''));\n        console.log(proyects.subPres);\n        const Modificado1 = [{\n            CodPresupuesto: proyects.DatosPresupuesto[0].CodPresupuesto,\n            CodSubpresupuesto: dato.CodSubpresupuesto,\n            Descripcion: dato.Descripcion,\n        }];\n\n        dispatch(modificaSub1(Modificado1));\n\n        /*if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n\n\n            setShowMdl(true);\n            setSubSeleccionado(dato);\n\n\n            //dato.CodModelo=proyects.AuxModelo;\n            //alert(proyects.AuxModelo);\n\n        } else {\n            Swal.fire({\n                title: 'Error!',\n                text: 'No tiene un Presupuesto seleccionado',\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            })\n        }*/\n\n    }\n\n    const Selecciona = (dato) => {\n        //alert(dato.CodSubpresupuesto);\n        if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n\n\n            setShowMdl(true);\n            setSubSeleccionado(dato);\n\n\n            //dato.CodModelo=proyects.AuxModelo;\n            //alert(proyects.AuxModelo);\n\n        } else {\n            Swal.fire({\n                title: 'Error!',\n                text: 'No tiene un Presupuesto seleccionado',\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            })\n        }\n\n    }\n\n\n    const Elimina = (dato) => {\n        //alert(dato.CodSubpresupuesto);\n        if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n\n\n            //setShowMdl(true);\n            //setSubSeleccionado(dato);\n            if (dato.CodModelo == null || dato.CodModelo == '') {\n                Swal.fire({\n                    title: 'Error!',\n                    text: 'Este Subpresupuesto no tiene un modelo asignado',\n                    icon: 'error',\n                    confirmButtonText: 'Ok'\n                })\n\n\n            } else {\n\n                dato.CodModelo = '';\n                dato.NombreModelo = '';\n                dispatch(ModificarSubPresupuesto(proyects.DatosPresupuesto[0].CodPresupuesto, dato.CodSubpresupuesto, dato.Descripcion, '', ''));\n                console.log(dato);\n                console.log(\"DISPATCH\");\n                console.log(proyects.DatosPresupuesto[0].CodPresupuesto, dato.CodSubpresupuesto, dato.Descripcion, '', '');\n\n                setShowMdl(true);\n                setSubSeleccionado(dato);\n                setTimeout(() => {\n                    setShowMdl(false);\n                }, 20);\n                dispatch(SelectUrn(''));\n                //drawerItems();\n\n            }\n\n            //dato.CodModelo=proyects.AuxModelo;\n            //alert(proyects.AuxModelo);\n\n        } else {\n            Swal.fire({\n                title: 'Error!',\n                text: 'No tiene un Presupuesto seleccionado',\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            })\n        }\n\n    }\n\n\n    /*useEffect(() => {\n       \n    }, [proyects.DatosPresupuesto[0].CodModelo])*/\n\n\n    const drawerItems1 = () => {\n        //console.log('datos de subProyectos actualizados')\n        //console.log(allLevels1[0])\n        return (\n            proyects.treeSubControl ?\n                proyects.treeSubControl.filter((filtro1) => filtro1.CodSubpresupuesto === proyects.Sub_sel).map(filter => {\n                    return (<tr key={filter.CodSubpresupuesto}>\n                        <td>{filter.CodSubpresupuesto}</td>\n                        <td>{filter.CodAlterno}</td>\n                        <td><Form.Group as={Row} className=\"mb-1\" controlId=\"formDF\">\n                            <Col sm={11}>\n                                <TextBox\n                                    defaultValue={filter.Descripcion}\n                                    value={filter.Descripcion}\n                                    height={'25px'}\n                                    width={'90%'}\n                                    valueChangeEvent=\"keyup\"\n                                    onValueChanged={(e) => { CambiaDescripcionsub(e, filter) }}\n\n                                //rtlEnabled={true}\n                                //readOnly={true}\n                                />\n                            </Col>\n                            <Col sm={1}>\n                                <Button1 variant=\"outline-info\" style={{ height: '25px', marginLeft: '-15px' }} onClick={() => {\n                                    modifica_desc(filter)\n                                }}><i class=\"far fa-save\" style={{ position: 'relative', top: '-5px' }}></i></Button1>\n                            </Col>\n\n                        </Form.Group></td>\n                        <td align=\"center\">{formatNumber(filter.Cantidad)}</td>\n                        <td align=\"right\" style={{ paddingRight:'30px'}} >{formatNumber(filter.CostoOferta1)}</td>\n                        {/* <td align=\"left\">{filter.NombreModelo ? filter.NombreModelo : 'No asignado'} <div className=\"btn btn-outline-info\" style={{ position: 'absolute', right: '20px', color: '#3c8dbc', width: \"20px\", height: '20px' }} onClick={() => { Selecciona(filter) }}><i class=\"far fa-edit\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></div></td> */}\n                        <td align=\"left\">{filter.NombreModelo ? filter.NombreModelo : 'No asignado'} <Button1 style={{ position: 'absolute', right: '40px', width: \"20px\", height: '20px' }} onClick={() => { Selecciona(filter) }}><i class=\"far fa-edit\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></Button1>\n                            <Button1 style={{ position: 'absolute', right: '10px', width: \"20px\", height: '20px' }} onClick={() => { Elimina(filter) }}><i class=\"far fa-trash-alt\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></Button1>\n                        </td>\n                    </tr>\n                    )\n                }) : ''\n        )\n    }\n\n\n\n    useEffect(() => {\n        if (!proyects.DataModelos) {\n            dispatch(selectMODELOS(''));\n            //alert('');\n        }\n        //alert(proyects.treeSubControl.length);\n        /*console.log(\"LOS SUBPRESUPUESTOS AHORA SON\");\n        console.log(proyects.treeSubControl);\n        console.log(\"ACTUALMENTE LOS MODELOS\");\n        console.log(proyects.DataModelos);*/\n        for (let i = 0; i < proyects.treeSubControl.length; i++) {\n            const reg = proyects.DataModelos.find((filtro1) => filtro1.CodPlano === proyects.treeSubControl[i].CodModelo);\n            if (reg) {\n                proyects.treeSubControl[i].NombreModelo = reg.NombreArchivoRvt;\n                //alert(proyects.treeSubControl[i].CodModelo);    \n            } else\n                proyects.treeSubControl[i].NombreModelo = null;\n        }\n    }, [proyects.treeSubControl])\n\n    useEffect(() => {\n        //console.log('datos de subProyectos actualizados')\n        //alert(proyects.seleccionado+\"\");\n        if (proyects.seleccionado === undefined) return;\n        //if (proyects.treePartyControl == undefined) return;\n        setselecOP(proyects.seleccionado)\n        //alert(proyects.seleccionado);\n\n\n        /* if (proyects.seleccionado === 1)\n         {\n             if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0]){\n                 if (proyects.DatosPresupuesto[0].HistoricoPrecios){\n                     let A_historicos=proyects.DatosPresupuesto[0].HistoricoPrecios.split(\"|\");\n                     setHistoricos(A_historicos);\n                     setHistoricoSel(historicos[0]);\n                     alert(historicos[0]);\n                     //proyects.DatosPresupuesto[0].HistoricoPrecios;\n                 }\n                 \n                 \n             }\n             \n \n \n         }*/\n        //if (selecOP === 1) setselecOP(2); else setselecOP(1);\n\n    }, [proyects.seleccionado])\n\n\n\n    useEffect(() => {\n        //if (proyects.seleccionado === undefined) return;\n        //setselecOP(proyects.seleccionado)\n\n\n        //alert(proyects.AuxModelo);\n    }, [proyects.AuxModelo])\n\n\n    //establecer tamaños y posiciones\n    useEffect(() => {\n        /*if (window.innerWidth >= 2000) {\n            //alert('es de' + window.innerWidth)\n            setTitulos('100%');\n        } else if (window.innerWidth >= 1640) {\n            //alert('2do caso es de' + window.innerWidth)\n            setTitulos('90%');\n        } else if (window.innerWidth >= 1440) {\n            //alert('2do caso es de' + window.innerWidth)\n            setTitulos('85%');\n        } else if (window.innerWidth >= 1024) {\n            //alert('3er caso es de' + window.innerWidth)\n            setTitulos('80%');\n        } else if (window.innerWidth >= 768) {\n            //alert('4to caso es de' + window.innerWidth)        \n            setTitulos('75%');\n        } else if (window.innerWidth >= 425) {\n            setTitulos('70%');\n            //alert('5to caso es de' + window.innerWidth)        \n        }*/\n        console.log('ESTE ES MI PROJECTS. DATOPS PRESUPUESTO');\n        console.log(proyects.DatosPresupuesto);\n\n        if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0]) {\n\n\n            const estadoI = {\n                CodPresupuesto: proyects.DatosPresupuesto[0].CodPresupuesto,\n                CodAlterno: proyects.DatosPresupuesto[0].CodAlterno,\n                Descripcion: proyects.DatosPresupuesto[0].Descripcion,\n                CodCliente: proyects.DatosPresupuesto[0].CodCliente,\n                Cliente: proyects.DatosPresupuesto[0].Cliente,\n                CodLugar: proyects.DatosPresupuesto[0].CodLugar,\n                UbicacionGeografica: proyects.DatosPresupuesto[0].UbicacionGeografica,\n                Fecha: proyects.DatosPresupuesto[0].Fecha.substring(0, 10),\n                //HistoricoPrecios: proyects.DatosPresupuesto[0].CodPresupuesto,\n                Plazo: proyects.DatosPresupuesto[0].Plazo,\n                Jornada: formatNumber(proyects.DatosPresupuesto[0].Jornada),\n                JornadaSemana: formatNumber(proyects.DatosPresupuesto[0].JornadaSemana),\n                JornadaMes: formatNumber(proyects.DatosPresupuesto[0].JornadaMes),\n                JornadaAno: formatNumber(proyects.DatosPresupuesto[0].JornadaAno),\n                CodMoneda: proyects.DatosPresupuesto[0].CodMoneda,\n                Moneda: proyects.DatosPresupuesto[0].Moneda,\n                SimboloMoneda: proyects.DatosPresupuesto[0].SimboloMoneda,\n                CostoDirectoBase1: formatNumber(proyects.DatosPresupuesto[0].CostoDirectoBase1),\n                CostoIndirectoBase1: formatNumber(proyects.DatosPresupuesto[0].CostoIndirectoBase1),\n                CostoBase1: formatNumber(proyects.DatosPresupuesto[0].CostoBase1),\n                CostoDirectoOferta1: formatNumber(proyects.DatosPresupuesto[0].CostoDirectoOferta1),\n                CostoIndirectoOferta1: formatNumber(proyects.DatosPresupuesto[0].CostoIndirectoOferta1),\n                CostoOferta1: formatNumber(proyects.DatosPresupuesto[0].CostoOferta1),\n                ERPCode: '',\n                Fila: null,\n                Nivel: null,\n                PhantomId: '',\n                PhantomParentId: ''\n            }\n            setPresupuestoN(estadoI);\n        }\n        dispatch(selectMONEDAS(''));\n        dispatch(selectCLIENTES('', ''));\n\n\n    }, [])\n\n\n\n    useEffect(() => {\n        setHistoricos([]);\n        setHistoricoSel('');\n\n        if (proyects.seleccionado === 1) {\n            //alert('');\n            if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0]) {\n                if (proyects.DatosPresupuesto[0].HistoricoPrecios) {\n                    let A_historicos = proyects.DatosPresupuesto[0].HistoricoPrecios.split(\"|\");\n                    setHistoricos(A_historicos);\n                    //alert(A_historicos[0]);\n                    setHistoricoSel(A_historicos[0]);\n                    //alert(historicos[0]);\n                    //proyects.DatosPresupuesto[0].HistoricoPrecios;\n                }\n            }\n        }\n        //if (selecOP === 1) setselecOP(2); else setselecOP(1);\n    }, [proyects.DatosPresupuesto])\n\n\n\n\n\n\n\n\n\n    const CambiaDescripcion = (data) => {\n        if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }\n        setPresupuestoN( (state) => ({...state,Descripcion:data.value}));\n\t}\n   \n   \n  \n    const CambiaCodigoAlterno = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>20){\n            data.value=data.value.substring(0,20);\n        }\n        setPresupuestoN( (state) => ({...state,CodAlterno:data.value}));\n\t}\n\n    const CambiaCodigoCliente = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n\n        const regm = proyects.DataClientes.find((filtro1) => filtro1.CodIdentificador === data.value);\n        if (regm)\n            setPresupuestoN( (state) => ({...state,Cliente:regm.Descripcion }));\n        else\n            setPresupuestoN( (state) => ({...state,Cliente:'' }));\n        \n        setPresupuestoN( (state) => ({...state,CodCliente:data.value}));\n\t}\n\n\n    const CambiaPlazo = (data) => {\n       \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        \n\n        if (data.value.length>6){\n            data.value=data.value.substring(0,6);\n        }        \n            \n        if (data.value!=='')\n        data.value=parseInt(data.value,10)+'';\n\n\n\n        setPresupuestoN( (state) => ({...state,Plazo:data.value}));\n\t}\n\n    const CambiaJornada = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPresupuestoN( (state) => ({...state,Jornada:data.value}));\n\t}\n\n    const CambiaJornadaSemana = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPresupuestoN( (state) => ({...state,JornadaSemana:data.value}));\n\t}\n\n    const CambiaJornadaMes = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPresupuestoN( (state) => ({...state,JornadaMes:data.value}));\n\t}\n\n    const CambiaJornadaAno = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPresupuestoN( (state) => ({...state,JornadaAno:data.value}));\n\t}\n\n    const CambiaCodigoMoneda = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>2){\n            data.value=data.value.substring(0,2);\n        }\n\n        const regm = proyects.DataMonedas.find((filtro1) => filtro1.CodMoneda === data.value);\n        if (regm)\n            setPresupuestoN( (state) => ({...state,Moneda:regm.Descripcion }));\n        else\n            setPresupuestoN( (state) => ({...state,Moneda:'' }));\n        \n        setPresupuestoN( (state) => ({...state,CodMoneda:data.value}));\n\t}\n\n    const CambiaCDBase = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>16){\n            data.value=data.value.substring(0,16);\n        }\n        let total=parseFloat(parseFloat(data.value) + parseFloat(presupuestoN.CostoIndirectoBase1));\n        let total1=roundN(total,2);\n        setPresupuestoN( (state) => ({...state,CostoDirectoBase1:data.value, CostoBase1:total1}));\n\t}\n\n    const CambiaCIBase = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>16){\n            data.value=data.value.substring(0,16);\n        }\n        let total=parseFloat(parseFloat(data.value) + parseFloat(presupuestoN.CostoDirectoBase1));\n        let total1=roundN(total,2);\n        setPresupuestoN( (state) => ({...state,CostoIndirectoBase1:data.value, CostoBase1:total1}));\n\t}\n\n\n\n    const onCurrentValueChanged = (e) => {\n        setPresupuestoN( (state) => ({...state, Fecha:e.value}));\n        /*this.setState({\n          currentValue: e.value\n        });*/\n      }\n\n\n\n\n\n\n    const valida = (e) => {\n\n        \n\n\n\n        /*alert(presupuestoN.Fecha.substring(0,4));\n        alert(presupuestoN.Fecha.substring(5,7));\n        alert(presupuestoN.Fecha.substring(8,10));*/\n        \n        \n        /*let dia=parseInt(fecha1.getDate(),10)+1;\n        let mes=parseInt(fecha1.getMonth(),10)+1;*/\n        //let fechaStr = dia + \"/\" + mes + '/' + fecha1.getFullYear();\n\n        let fechaStr = presupuestoN.Fecha.substring(8,10) + \"/\" + presupuestoN.Fecha.substring(5,7) + '/' + presupuestoN.Fecha.substring(0,4);\n        dispatch(modificarPresupuesto(presupuestoN.CodPresupuesto, presupuestoN.Descripcion, presupuestoN.Plazo,  fechaStr, presupuestoN.Jornada, '0' ,presupuestoN.CostoDirectoBase1,presupuestoN.CostoIndirectoBase1,presupuestoN.CostoBase1,presupuestoN.CostoDirectoOferta1,presupuestoN.CostoIndirectoOferta1,presupuestoN.CostoOferta1,presupuestoN.CodCliente,presupuestoN.CodLugar,presupuestoN.CodMoneda,'',presupuestoN.CodAlterno,presupuestoN.JornadaSemana,presupuestoN.JornadaMes,presupuestoN.JornadaAno,''));                \n        dispatch(actPresupuesto(presupuestoN));\n        \n        Swal.fire(\n            'Bien!',\n            'Los datos de tu nuevo Presupuesto ' + presupuestoN.Descripcion + ' se modificaron Correctamente!',\n            'success'\n          )\n        \n          const filtro = proyects.treePartyControl.find((filtro1) => filtro1.CodPresupuesto === presupuestoN.CodPresupuesto);\n          if (filtro) {\n              //toca= parseInt(filtro[filtro.length-1].CodPresupuesto,10)+1;\n              //setPresupuestoN( (state) => ({...state,ERPCode:filtro.ERPCode,Descripcion:filtro.Descripcion, Nivel:filtro.Nivel, Fila:filtro.Fila, PhantomId:filtro.PhantomId, PhantomParentId:filtro.PhantomParentId }));\n              const Nuevo=[{\n                ERPCode: filtro.ERPCode,\n                CodPresupuesto: filtro.CodPresupuesto,\n                Descripcion: presupuestoN.Descripcion,\n                Fila: filtro.Fila,\n                Nivel: filtro.Nivel,\n                PhantomId: filtro.PhantomId,\n                PhantomParentId: filtro.PhantomParentId,\n            }];                  \n                        \n            dispatch(modificaGrupo1(Nuevo));\n          \n          \n            }\n\n          \n\n        \n        /*\n        const Nuevo=[{\n            CodPresupuesto: itemSelected+presupuestoN.CodPresupuesto,\n            Descripcion: presupuestoN.Descripcion,\n            ERPCode: itemSelected+presupuestoN.CodPresupuesto,\n            Fila: presupuestoN.Fila,\n            Nivel: 3,\n            PhantomId: itemSelected+presupuestoN.CodPresupuesto,\n            PhantomParentId: itemSelected\n        }];            \n        \n        \n        let fecha1=new Date(presupuestoN.Fecha);\n        let mes=parseInt(fecha1.getMonth(),10)+1;\n        let fechaStr =fecha1.getDate() + \"/\" + mes + '/' + fecha1.getFullYear();\n        //dispatch(guardarGrupo(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, 3, ''));\n        \n        //dispatch(guardarGrupo(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, 3, ''));\n        dispatch(agregaGrupo1(Nuevo));\n\n        setTimeout(() => {            \n            dispatch(guardarPresupuesto(presupuestoN.CodPresupuesto, presupuestoN.Descripcion, presupuestoN.Plazo,  fechaStr, presupuestoN.Jornada, '0' ,presupuestoN.CostoDirectoBase1,presupuestoN.CostoIndirectoBase1,presupuestoN.CostoBase1,presupuestoN.CostoDirectoOferta1,presupuestoN.CostoIndirectoOferta1,presupuestoN.CostoOferta1,presupuestoN.CodCliente,presupuestoN.CodLugar,presupuestoN.CodMoneda,'',presupuestoN.CodAlterno,presupuestoN.JornadaSemana,presupuestoN.JornadaMes,presupuestoN.JornadaAno,''));                \n        }, 1000);\n        \n\n        const Modificado1=[{\n            CodPresupuesto: itemSelected+presupuestoN.CodPresupuesto,\n            CodSubpresupuesto: '001',\n            Descripcion: presupuestoN.Descripcion,\n        }];   \n        \n        dispatch(agregaSub1(Modificado1));\n\n\n\n        console.log('LOS DATOS QUE SE GUARDARIAN')\n        console.log(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, presupuestoN.Plazo,  fechaStr, presupuestoN.Jornada, '0' ,presupuestoN.CostoDirectoBase1,presupuestoN.CostoIndirectoBase1,presupuestoN.CostoBase1,presupuestoN.CostoDirectoOferta1,presupuestoN.CostoIndirectoOferta1,presupuestoN.CostoOferta1,presupuestoN.CodCliente,presupuestoN.CodLugar,presupuestoN.CodMoneda,'',presupuestoN.CodAlterno,presupuestoN.JornadaSemana,presupuestoN.JornadaMes,presupuestoN.JornadaAno,'')\n\n        \n\n\n          \n          setNuevoPres(false);*/\n\n        \n          \n          e.preventDefault();\n    }\n\n\n    return (\n        <div className=\"animate__animated animate__fadeIn\" style={{ marginLeft: '0px', marginTop: '10px', height: '96%', width: '98%' }}>\n            <BuscaCliente tipo=\"Modificar\" presupuestoN={presupuestoN} setShow={setShow} show={show} />\n            <BuscaUbicacion tipo=\"Modificar\" presupuestoN={presupuestoN} setShow={setShowUb} show={showUb} />\n            <BuscaModelo\n                setShow={setShowMdl}\n                subseleccionado={subseleccionado}\n                setSubSeleccionado={setSubSeleccionado}\n                CodPresupuesto={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''}\n                show={showMdl}\n            />\n            <BuscaMoneda tipo=\"Modificar\" presupuestoN={presupuestoN} setShow={setShowMnd} show={showMnd} />\n            {selecOP === 1 ?\n                (<Card className=\"animate__animated animate__fadeIn\" style={{ overflow: 'scroll', marginLeft: '20px', height: '92vh', padding: '15px' }}>\n                    <Card.Header style={{fontSize:'1rem', background:'#398bf7', color:'white', fontWeight:'550' }}>Datos Generales</Card.Header>\n                    <Card.Body>\n\n                    <Form onSubmit={valida}>\n                        <Button1 useSubmitBehavior={true} type=\"Submit\" variant=\"outline-info\" style={{ position: 'absolute', left: '210px', top: '25px' }} ><i class=\"far fa-save\"></i>   Actualizar</Button1>\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formCodigo\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Codigo (*)\n                            </Form.Label>\n                                <Col sm={2}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Codigo\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodPresupuesto}\n                                        value={presupuestoN.CodPresupuesto}\n                                        readOnly={true}\n                                    />\n                                </Col>\n                            </Form.Group>\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formAlterno\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Alterno\n                            </Form.Label>\n                                <Col sm={2}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Alterno\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodAlterno : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodAlterno}\n                                        value={presupuestoN.CodAlterno}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaCodigoAlterno}\n                                    />\n                                </Col>\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formDescripcion\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Descripcion (*)\n                            </Form.Label>\n                                <Col sm={10}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Descripcion\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Descripcion : ''} onChange={handlerOnChange} /> */}\n\n                                    <TextBox\n                                        defaultValue={presupuestoN.Descripcion}\n                                        value={presupuestoN.Descripcion}\n                                        onValueChanged={CambiaDescripcion}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Descripcion es requerida\" />\n                                    </Validator>\n                                    </TextBox>                                        \n                                </Col>\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formCliente\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Cliente (*)\n                            </Form.Label>\n                                <Col sm={2}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"ID Cliente\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodCliente : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodCliente}\n                                        value={presupuestoN.CodCliente}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaCodigoCliente}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Cliente es requerido\" />\n                                    </Validator>\n                                    </TextBox>    \n                                </Col>\n                                <Col sm={8}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Cliente\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Cliente : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.Cliente}\n                                        value={presupuestoN.Cliente}\n                                        readOnly={true}\n                                        >\n                                        <Validator>\n                                            <RequiredRule message=\"Cliente es requerido\" />\n                                        </Validator>\n                                    </TextBox>\n                                </Col>\n\n                                <Col sm={1}>\n                                    <Button1 variant=\"outline-info\" style={{ height: \"35px\" }} onClick={() => {\n                                        if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n                                            setShow(true);\n                                            //dispatch(selectCLIENTES('', ''));\n                                        } else {\n                                            Swal.fire({\n                                                title: 'Error!',\n                                                text: 'No tiene un Presupuesto seleccionado',\n                                                icon: 'error',\n                                                confirmButtonText: 'Ok'\n                                            })\n                                        }\n                                    }}>...</Button1>\n                                    {/* <Button variant=\"outline-info\"><i class=\"fas fa-binoculars\"></i></Button> */}\n                                </Col>\n\n                            </Form.Group>\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formGeograqfica\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Ubicación Geográfica (*)\n                            </Form.Label>\n                                <Col sm={2}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"ID Ubicación\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodLugar : ''} onChange={handlerOnChange} /> */}\n\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodLugar}\n                                        value={presupuestoN.CodLugar}\n                                        readOnly={true}\n                                        >\n                                        <Validator>\n                                            <RequiredRule message=\"Ubicación es requerida\" />\n                                        </Validator>\n                                    </TextBox>\n                                </Col>\n                                <Col sm={7}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Ubicación\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].UbicacionGeografica : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.UbicacionGeografica}\n                                        value={presupuestoN.UbicacionGeografica}\n                                        readOnly={true}\n                                        >\n                                        <Validator>\n                                            <RequiredRule message=\"Ubicación es requerida\" />\n                                        </Validator>\n                                    </TextBox>\n                                </Col>\n\n                                <Col sm={1}>\n                                    <Button1 variant=\"outline-info\" style={{ height: \"35px\" }} onClick={() => {\n                                        if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n                                            setShowUb(true); /*dispatch(limpiaUbicaciones());*/ dispatch(selectUBICACIONES('', '20', '1', ''));\n                                        } else {\n                                            Swal.fire({\n                                                title: 'Error!',\n                                                text: 'No tiene un Presupuesto seleccionado',\n                                                icon: 'error',\n                                                confirmButtonText: 'Ok'\n                                            })\n                                        }\n\n                                    }}>...</Button1>\n                                    {/* <Button variant=\"outline-info\"><i class=\"fas fa-binoculars\"></i></Button> */}\n                                </Col>\n\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formDF\">\n                                <Form.Label column sm={10}>\n\n                                </Form.Label>\n\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formFecha\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Fecha\n                            </Form.Label>\n                                <Col sm={2}>\n                                    {/* <Form.Control type=\"Date\" placeholder=\"Fecha\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? (proyects.DatosPresupuesto[0].Fecha).substring(0, 10) : ''} onChange={handlerOnChange} /> */}\n\n\n\n                                    <DateBox\n                                        //defaultValue={this.now}\n                                        defaultValue={presupuestoN.Fecha}\n                                        value={presupuestoN.Fecha}\n                                        onValueChanged={onCurrentValueChanged}\n                                        type=\"date\" />\n\n\n                                </Col>\n                                <Form.Label column sm={1} style={{ fontSize: titulos, textAlign:'right' }}>\n                                    Histórico\n                            </Form.Label>\n\n                                <Col sm={3}>\n\n                                    <SelectBox items={historicos}\n                                        defaultValue={historicoSel}\n                                        value={historicoSel}\n                                    //readOnly={true} \n                                    />\n\n                                    {/* <InputGroup className=\"mb-1\">\n                                        <FormControl aria-label=\"\" value={historicoSel} />\n                                        <DropdownButton\n                                            variant=\"outline-secondary\"\n                                            title=\"\"\n                                            id=\"input-group-dropdown-2\"\n                                            align=\"end\"\n                                        >\n                                            {\n                                                historicos.map((ff) => {\n                                                    return (<Dropdown.Item >{ff}</Dropdown.Item>)\n                                                }\n                                                )\n\n                                            }\n                                        </DropdownButton>\n                                    </InputGroup> */}\n                                </Col>\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos, textAlign:'right' }}>\n                                    Plazo\n                            </Form.Label>\n\n                                <Col sm={2} style={{ fontSize: { titulos } }}>\n                                    {/* <Form.Control type=\"Text\" placeholder=\"Plazo\" style={{ textAlign: 'right' }} value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].Plazo) : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.Plazo}\n                                        value={presupuestoN.Plazo}\n                                        rtlEnabled={true}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaPlazo}\n                                        onFocusOut={()=>{\n                                            if (presupuestoN.Plazo===''){\n                                                setPresupuestoN( (state) => ({...state,Plazo:'0'}));\n                                            }\n                                        }}\n                                    //readOnly={true}\n                                    />\n                                </Col>\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    días\n                            </Form.Label>\n\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formJornada\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Jornada diaria\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Text\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].Jornada) : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.Jornada}\n                                        value={presupuestoN.Jornada}\n                                        rtlEnabled={true}\n                                    //readOnly={true}\n                                        valueChangeEvent=\"keyup\"\n                                            onValueChanged={CambiaJornada}\n                                            onFocusOut={()=>{\n                                                if (presupuestoN.Jornada.trim()===''){\n                                                    setPresupuestoN( (state) => ({...state,Jornada:'0.00'}));\n                                                }\n                                            }}\n                                    //readOnly={true}\n                                    />\n\n                                </Col>\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    días\n                            </Form.Label>\n\n\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos, textAlign:'right' }}>\n                                    Semanal\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Text\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].JornadaSemana) : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.JornadaSemana}\n                                        value={presupuestoN.JornadaSemana}\n                                        rtlEnabled={true}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaJornadaSemana}\n                                        onFocusOut={()=>{\n                                            if (presupuestoN.JornadaSemana.trim()===''){\n                                                setPresupuestoN( (state) => ({...state,JornadaSemana:'0.00'}));\n                                            }\n                                        }}\n\n                                    //readOnly={true}\n                                    />\n\n                                </Col>\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    horas\n                            </Form.Label>\n\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos, textAlign:'right' }}>\n                                    Mensual\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Text\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].JornadaMes) : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.JornadaMes}\n                                        value={presupuestoN.JornadaMes}\n                                        rtlEnabled={true}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaJornadaMes}\n                                        onFocusOut={()=>{\n                                            if (presupuestoN.JornadaMes.trim()===''){\n                                                setPresupuestoN( (state) => ({...state,JornadaMes:'0.00'}));\n                                            }\n                                        }}\n\n                                    //readOnly={true}\n                                    />\n                                </Col>\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    horas\n                            </Form.Label>\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos, textAlign:'right' }}>\n                                    Año\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Text\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].JornadaAno) : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.JornadaAno}\n                                        value={presupuestoN.JornadaAno}\n                                        rtlEnabled={true}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaJornadaAno}\n                                        onFocusOut={()=>{\n                                            if (presupuestoN.JornadaAno.trim()===''){\n                                                setPresupuestoN( (state) => ({...state,JornadaAno:'0.00'}));\n                                            }\n                                        }}\n\n                                    //readOnly={true}\n                                    />\n                                </Col>\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    horas\n                            </Form.Label>\n\n\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formMoneda\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Moneda Principal (*)\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"ID Moneda\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodMoneda : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodMoneda}\n                                        value={presupuestoN.CodMoneda}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaCodigoMoneda}\n                                        /*onFocusOut={()=>{\n                                            if (presupuestoN.Plazo.trim()===''){\n                                                setPresupuestoN( (state) => ({...state,Plazo:'0'}));\n                                            }\n                                        }}*/\n                                    //readOnly={true}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Moneda es requerida\" />\n                                    </Validator>\n                                    </TextBox> \n                                </Col>\n                                <Col sm={4}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Modeda\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Moneda : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.Moneda}\n                                        value={presupuestoN.Moneda}\n                                        //stylingMode={'underlined'}                                    \n                                        readOnly={true}\n                                        >\n                                        <Validator>\n                                            <RequiredRule message=\"Moneda es requerida\"/>\n                                        </Validator>\n                                        </TextBox>     \n                                </Col>\n\n                                <Col sm={1}>\n                                    <Button1 variant=\"outline-info\" style={{ height: \"35px\" }} onClick={() => {\n                                        if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n                                            setShowMnd(true);\n                                            //dispatch(selectMONEDAS(''));\n                                        } else {\n                                            Swal.fire({\n                                                title: 'Error!',\n                                                text: 'No tiene un Presupuesto seleccionado',\n                                                icon: 'error',\n                                                confirmButtonText: 'Ok'\n                                            })\n                                        }\n                                    }}>...</Button1>\n                                    {/* <Button variant=\"outline-info\"><i class=\"fas fa-binoculars\"></i></Button> */}\n                                </Col>\n\n                            </Form.Group>\n\n\n\n                            <Card style={{ height: '100%', width: '100%', marginTop: '25px' }}>\n                                <Card.Header style={{ height: '38px' }}> <div style={{ marginTop: '-5px' }}>Moneda Principal ({presupuestoN.SimboloMoneda}) </div> </Card.Header>\n                                <Card.Body>\n\n                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formPrt2\">\n\n\n                                        <Col sm={6}>\n                                            <Card style={{ height: '100%' }}>\n                                                <Card.Header style={{ height: '30px' }}> <p style={{ marginTop: '-5px' }}>Presupuesto Base </p></Card.Header>\n                                                <Card.Body column sm={5} >\n                                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formCD1\">\n                                                        <Form.Label column sm={1}>\n                                                        </Form.Label>\n\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            C.D.\n                                                </Form.Label>\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoDirectoBase1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoDirectoBase1}\n                                                                value={presupuestoN.CostoDirectoBase1}\n                                                                rtlEnabled={true}\n                                                                valueChangeEvent=\"keyup\"\n                                                                onValueChanged={CambiaCDBase}\n                                                                onFocusOut={()=>{\n                                                                    if (presupuestoN.CostoDirectoBase1.trim()===''){\n                                                                        setPresupuestoN( (state) => ({...state,CostoDirectoBase1:'0.00'}));\n                                                                        let total=parseFloat(presupuestoN.CostoIndirectoBase1);\n                                                                        let total1=roundN(total,2);\n                                                                        setPresupuestoN( (state) => ({...state, CostoBase1:total1}));                                                                        \n                                                                    }\n                                                                }}\n                                                                //readOnly={true}\n                                                            />\n                                                        </Col>\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            C.I.\n                                                </Form.Label>\n\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoIndirectoBase1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoIndirectoBase1}\n                                                                value={presupuestoN.CostoIndirectoBase1}\n                                                                rtlEnabled={true}\n                                                                valueChangeEvent=\"keyup\"\n                                                                onValueChanged={CambiaCIBase}\n                                                                onFocusOut={()=>{\n                                                                    if (presupuestoN.CostoIndirectoBase1.trim()===''){\n                                                                        setPresupuestoN( (state) => ({...state,CostoIndirectoBase1:'0.00'}));\n                                                                        let total=parseFloat(presupuestoN.CostoDirectoBase1);\n                                                                        let total1=roundN(total,2);\n                                                                        setPresupuestoN( (state) => ({...state, CostoBase1:total1}));                                                                        \n\n                                                                    }\n                                                                }}\n\n                                                               // readOnly={true}\n                                                            />\n                                                        </Col>\n                                                    </Form.Group>\n\n                                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formTot\">\n                                                        <Form.Label column sm={3}>\n\n                                                        </Form.Label>\n                                                        <Col sm={3}>\n\n                                                        </Col>\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            Total\n                                                </Form.Label>\n\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoBase1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoBase1}\n                                                                value={presupuestoN.CostoBase1}\n                                                                rtlEnabled={true}\n                                                                readOnly={true}\n                                                            />\n                                                        </Col>\n                                                    </Form.Group>\n                                                </Card.Body>\n                                            </Card>\n                                        </Col>\n\n\n                                        <Col sm={6}>\n                                            <Card style={{ height: '100%' }}>\n                                                <Card.Header style={{ height: '30px' }}> <p style={{ marginTop: '-5px' }}>Presupuesto Oferta </p></Card.Header>\n                                                <Card.Body column sm={5} >\n                                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formOferta\">\n                                                        <Form.Label column sm={1}>\n                                                        </Form.Label>\n\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            C.D.\n                                                </Form.Label>\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoDirectoOferta1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoDirectoOferta1}\n                                                                value={presupuestoN.CostoDirectoOferta1}\n                                                                rtlEnabled={true}\n                                                                readOnly={true}\n                                                            />\n\n                                                        </Col>\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            C.I.\n                                                </Form.Label>\n\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoIndirectoOferta1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoIndirectoOferta1}\n                                                                value={presupuestoN.CostoIndirectoOferta1}\n                                                                rtlEnabled={true}\n                                                                readOnly={true}\n                                                            />\n\n                                                        </Col>\n                                                    </Form.Group>\n\n                                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formVOferta\">\n                                                        <Form.Label column sm={3}>\n\n                                                        </Form.Label>\n                                                        <Col sm={3}>\n\n                                                        </Col>\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right'/*marginLeft:'50px', width:'40px'*/ }}>\n                                                            Total\n                                                        </Form.Label>\n\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoOferta1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoOferta1}\n                                                                value={presupuestoN.CostoOferta1}\n                                                                rtlEnabled={true}\n                                                                readOnly={true}\n                                                            />\n\n                                                        </Col>\n                                                    </Form.Group>\n                                                </Card.Body>\n                                            </Card>\n                                        </Col>\n\n                                    </Form.Group>\n                                </Card.Body>\n                            </Card>\n\n\n\n                            <Card style={{ height: '100%', width: '100%' }}>\n                                {/* <Card.Header style={{ height: '35px' }}>Sub Presupuestos</Card.Header> */}\n                                <Card.Body>\n                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formGridSub\">\n\n                                        <Col sm={12}>\n                                            <Table\n                                                striped\n                                                bordered\n                                                hover\n                                                size=\"sm\"\n                                                className=\"mt-0 bg-white\"\n                                            >\n                                                <thead>\n                                                    <tr>\n                                                        <th>Codigo</th>\n                                                        <th>Alterno</th>\n                                                        <th>Descripcion</th>\n                                                        <th style={{ position:'relative', left:'30px'}} > Cantidad</th>\n                                                        <th style={{ position:'relative', left:'135px'}}> Costo Oferta</th>\n                                                        <th>Modelo Asignado</th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody>\n                                                    <>\n                                                        {\n\n                                                            drawerItems()\n                                                        }\n                                                    </>\n\n\n                                                </tbody>\n                                            </Table>\n\n\n\n                                        </Col>\n                                    </Form.Group>\n                                </Card.Body>\n                            </Card>\n\n\n\n\n                            <Form.Group as={Row} className=\"mb-3\">\n                                    <ValidationSummary id=\"summary\" style={{ position:'relative', marginLeft:'45%'}}></ValidationSummary>                               \n                            </Form.Group>\n                        </Form>\n\n\n                    </Card.Body>\n                </Card>)\n                :\n                (\n                    <Card className=\"animate__animated animate__fadeInUp\" style={{ overflow: 'hidden', height: '100%', padding: '15px' }}>\n                        <Card.Header className=\"\" style={{ fontSize:'1rem', background:'#398bf7', color:'white', fontWeight:'550'}}>Datos de SubPresupuesto</Card.Header>\n                        <Card.Body>\n\n                            <Form>\n                                <Form.Group as={Row} className=\"mb-1\" controlId=\"formPres\">\n                                    <Form.Label column sm={2}>\n\n                                    </Form.Label>\n\n                                    <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                        Presupuesto\n                                    </Form.Label>\n                                    <Col sm={2}>\n                                        {/* <Form.Control type=\"Input\" placeholder=\"Codigo\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''} onChange={handlerOnChange} /> */}\n                                        <TextBox\n                                            defaultValue={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''}\n                                            value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''}\n                                            rtlEnabled={true}\n                                            readOnly={true}\n                                        />\n                                    </Col>\n\n                                </Form.Group>\n\n\n\n                                <Form.Group as={Row} className=\"mb-1\" controlId=\"formV45\">\n                                    <Form.Label column sm={2}>\n                                    </Form.Label>\n\n                                    <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                        Descripcion\n                                    </Form.Label>\n                                    <Col sm={7}>\n                                        {/* <Form.Control type=\"Input\" placeholder=\"Descripcion\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Descripcion : ''} onChange={handlerOnChange} /> */}\n                                        <TextBox\n                                            defaultValue={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Descripcion : ''}\n                                            value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Descripcion : ''}\n                                            //rtlEnabled={true}\n                                            readOnly={true}\n                                        />\n                                    </Col>\n                                </Form.Group>\n\n\n\n                                <Card style={{ height: '100%', width: '100%' }}>\n                                    {/* <Card.Header style={{ height: '35px' }}>Sub Presupuestos</Card.Header> */}\n                                    <Card.Body>\n                                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formGrid2\">\n\n                                            <Col sm={12} >\n                                                <Table\n                                                    striped\n                                                    bordered\n                                                    hover\n                                                    size=\"sm\"\n                                                    className=\"mt-0 bg-white\"\n                                                >\n                                                    <thead>\n                                                        <tr>\n                                                            <th>Codigo</th>\n                                                            <th>Alterno</th>\n                                                            <th>Descripcion</th>\n                                                            <th style={{ position:'relative', left:'30px'}} > Cantidad</th>\n                                                            <th style={{ position:'relative', left:'135px'}}> Costo Oferta</th>\n                                                            <th>Modelo Asignado</th>\n                                                        </tr>\n                                                    </thead>\n                                                    <tbody>\n                                                        <>\n                                                            {\n\n                                                                drawerItems1()\n                                                            }\n                                                        </>\n\n\n                                                    </tbody>\n                                                </Table>\n\n\n\n                                            </Col>\n                                        </Form.Group>\n                                    </Card.Body>\n                                </Card>\n\n\n\n\n\n                                {/* <Card style={{ height: '100%', width: '100%' }}>\n                                    <Card.Body >\n                                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formGrd3\">\n                                            \n                                            <Col sm={12} style={{ height: window.innerHeight - 500 }}>\n                                                <ViewerSc />\n\n\n\n                                            </Col>\n                                        </Form.Group>\n                                    </Card.Body>\n                                </Card> */}\n\n\n\n                                <Form.Group as={Row} className=\"mb-3\">\n                                    <Col sm={{ span: 10, offset: 2 }}>\n                                        {/* <Button type=\"submit\">Sign in</Button> */}\n\n                                    </Col>\n                                </Form.Group>\n                            </Form>\n\n\n                        </Card.Body>\n                    </Card>\n\n\n\n                )\n            }\n\n        </div>\n    )\n}\n\nexport default DatosGenerales\n","import React, { useEffect, useState } from 'react'\nimport { Card, Form, Row, Button, Col, InputGroup, FormControl, Dropdown, DropdownButton, Table } from 'react-bootstrap'\nimport Moment from 'react-moment';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { agregaGrupo1, guardarGrupo, limpiaUbicaciones, modificaGrupo1, modificarGrupo, selectCLIENTES, selectMODELOS, selectMONEDAS, selectUBICACIONES } from '../actions/proyects.actions';\nimport Button1 from 'devextreme-react/button';\nimport BuscaCliente from '../components/BuscaCliente';\nimport BuscaUbicacion from '../components/BuscaUbicacion';\nimport { ViewerSc } from './ViewerSc';\nimport Swal from 'sweetalert2'\nimport BuscaModelo from '../components/BuscaModelo';\nimport BuscaMoneda from '../components/BuscaMoneda';\nimport { DateBox, NumberBox, SelectBox, TextBox } from 'devextreme-react';\nimport { date } from 'yup/lib/locale';\n//import { ViewScreen1 } from './ViewScreen1'\n\nimport ValidationSummary from 'devextreme-react/validation-summary';\nimport {\n  Validator,\n  RequiredRule,\n  CompareRule,\n  EmailRule,\n  PatternRule,\n  StringLengthRule,\n  RangeRule,\n  AsyncRule\n} from 'devextreme-react/validator';\n\n\n\nconst tiempoTranscurrido = Date.now();\nconst hoy = new Date(tiempoTranscurrido);\n\n\n\n\n\n\nconst DatosGrupoAdd = ({ nivel, itemSelected, setNuevoGrupo, accion}) => {\n\n    /*const [ItemSub, setItemSub] = useState({\n\n\n    });*/\n\n\n    const initialP={\n        ERPCode:'',\n        CodPresupuesto: '',\n        Descripcion:'',\n        Nivel:nivel,\n        Fila:null,\n        PhantomId:null,\n        PhantomParentId:null\n    }\n\n    const [show, setShow] = useState(false);\n    const [showUb, setShowUb] = useState(false);\n    const [showMdl, setShowMdl] = useState(false);\n    const [showMnd, setShowMnd] = useState(false);\n\n    const [subseleccionado, setSubSeleccionado] = useState(null);\n\n\n    const [historicoSel, setHistoricoSel] = useState(\"\");\n    const [historicos, setHistoricos] = useState([]);\n\n\n    const [presupuestoN, setPresupuestoN] = useState(initialP);\n\n\n\n    //VARIABLES PARA TAMAÑO DE PANTALLA\n    const [titulos, setTitulos] = useState('100%');\n\n\n    const dispatch = useDispatch();\n    // const [loading, setLoading] = useState(true);\n\n \n\n    //const auth = useSelector((state) => state.auth);\n    const proyects = useSelector((state) => state.proyects);\n    //alert(' inicializando treeeee' );\n\n    const [selecOP, setselecOP] = useState(1);\n\n    //const subproyects = useSelector((state) => state.subproyects);\n\n\n    const showFn = () => {\n        setShow(true)\n    }\n\n    const drawerItems = () => {\n        //console.log('datos de subProyectos actualizados')\n        //console.log(allLevels1[0])\n\n\n        return (\n            proyects.treeSubControl ?\n                proyects.treeSubControl.map(filter => {\n                    return (<tr key={filter.CodSubpresupuesto}>\n                        <td>{filter.CodSubpresupuesto}</td>\n                        <td>{filter.CodAlterno}</td>\n                        <td>\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formDF\">\n                                <Col sm={11}>\n                                    <TextBox\n                                        defaultValue={filter.Descripcion}\n                                        value={filter.Descripcion}\n                                        height={'25px'}\n                                        width={'90%'}\n                                    //rtlEnabled={true}\n                                    //readOnly={true}\n                                    />\n                                </Col>\n                                <Col sm={1}>\n                                    <Button variant=\"outline-info\" style={{ height: '25px' }} onClick={() => {\n                                        if (true) {\n\n                                        } else {\n                                            Swal.fire({\n                                                title: 'Error!',\n                                                text: 'No tiene un Presupuesto seleccionado',\n                                                icon: 'error',\n                                                confirmButtonText: 'Ok'\n                                            })\n                                        }\n                                    }}><i class=\"far fa-save\" style={{ position: 'relative', top: '-5px' }}></i></Button>\n                                </Col>\n\n                            </Form.Group>\n                        </td>\n                        <td align=\"right\">{formatNumber(filter.Cantidad)}</td>\n                        <td align=\"right\">{formatNumber(filter.CostoOferta1)}</td>\n                        <td align=\"left\">{filter.NombreModelo ? filter.NombreModelo : 'No asignado'} <div className=\"btn btn-outline-info\" style={{ position: 'absolute', right: '20px', color: '#3c8dbc', width: \"20px\", height: '20px' }} onClick={() => { Selecciona(filter) }}><i class=\"far fa-edit\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></div></td>\n                    </tr>\n                    )\n                }) : ''\n        )\n    }\n\n\n    function formatNumber(num) {\n        if (!num || num == 'NaN') return '-';\n        if (num == 'Infinity') return '&#x221e;';\n        var num = num.toString().replace(/\\$|\\,/g, '');\n        if (isNaN(num))\n            num = \"0\";\n        var sign = (num == (num = Math.abs(num)));\n        num = Math.floor(num * 100 + 0.50000000001);\n        var cents = num % 100;\n        num = Math.floor(num / 100).toString();\n        if (cents < 10)\n            cents = \"0\" + cents;\n        for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)\n            num = num.substring(0, num.length - (4 * i + 3)) + ',' + num.substring(num.length - (4 * i + 3));\n        return (((sign) ? '' : '-') + num + '.' + cents);\n    }\n\n    function roundN(num, n) {\n        return parseFloat(Math.round(num * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n);\n    }\n\n\n\n\n    const Selecciona = (dato) => {\n        //alert(dato.CodSubpresupuesto);\n        if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n\n            setShowMdl(true);\n            setSubSeleccionado(dato);\n            //dato.CodModelo=proyects.AuxModelo;\n            //alert(proyects.AuxModelo);\n\n        } else {\n            Swal.fire({\n                title: 'Error!',\n                text: 'No tiene un Presupuesto seleccionado',\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            })\n        }\n       \n    }\n\n    const drawerItems1 = () => {\n        //console.log('datos de subProyectos actualizados')\n        //console.log(allLevels1[0])\n        return (\n            proyects.treeSubControl ?\n                proyects.treeSubControl.filter((filtro1) => filtro1.CodSubpresupuesto === proyects.Sub_sel).map(filter => {\n                    return (<tr key={filter.CodSubpresupuesto}>\n                        <td>{filter.CodSubpresupuesto}</td>\n                        <td>{filter.CodAlterno}</td>\n                        <td><Form.Group as={Row} className=\"mb-1\" controlId=\"formDF\">\n                            <Col sm={11}>\n                                <TextBox\n                                    defaultValue={filter.Descripcion}\n                                    value={filter.Descripcion}\n                                    height={'25px'}\n                                    width={'90%'}\n                                //rtlEnabled={true}\n                                //readOnly={true}\n                                />\n                            </Col>\n                            <Col sm={1}>\n                                <Button variant=\"outline-info\" style={{ height: '25px' }} onClick={() => {\n                                    if (true) {\n\n                                    } else {\n                                        Swal.fire({\n                                            title: 'Error!',\n                                            text: 'No tiene un Presupuesto seleccionado',\n                                            icon: 'error',\n                                            confirmButtonText: 'Ok'\n                                        })\n                                    }\n                                }}><i class=\"far fa-save\" style={{ position: 'relative', top: '-5px' }}></i></Button>\n                            </Col>\n\n                        </Form.Group></td>\n                        <td align=\"right\">{formatNumber(filter.Cantidad)}</td>\n                        <td align=\"right\">{formatNumber(filter.CostoOferta1)}</td>\n                        <td align=\"left\">{filter.NombreModelo ? filter.NombreModelo : 'No asignado'} <div className=\"btn btn-outline-info\" style={{ position: 'absolute', right: '20px', color: '#3c8dbc', width: \"20px\", height: '20px' }} onClick={() => { Selecciona(filter) }}><i class=\"far fa-edit\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></div></td>\n                    </tr>\n                    )\n                }) : ''\n        )\n    }\n\n\n\n \n\n    useEffect(() => {\n        if (proyects.seleccionado === undefined) return;\n        setselecOP(proyects.seleccionado) \n    }, [proyects.seleccionado])\n\n\n\n    //establecer tamaños y posiciones\n    useEffect(() => {\n  \n        if (accion===1){\n           /* console.log('MIS DATOS DE ARBOLLLLLL');\n            console.log(proyects.treePartyControl);*/\n            \n            if (presupuestoN.Nivel===1){\n                const filtro = proyects.treePartyControl.filter((filtro1) => filtro1.Nivel === 1);\n                let toca=0;\n                if (filtro.length!==0)\n                {\n                    toca= parseInt(filtro[filtro.length-1].CodPresupuesto,10)+1;\n                }else\n                    toca=1;\n                \n                let concat='0';\n                if (toca>=10)\n                    concat='';\n                setPresupuestoN( (state) => ({...state,CodPresupuesto:concat+toca}));\n            }else{\n                const filtro = proyects.treePartyControl.filter((filtro1) => filtro1.PhantomParentId === itemSelected);\n                let toca=0;\n                if (filtro.length!==0)\n                {\n                    toca= parseInt(filtro[filtro.length-1].CodPresupuesto.substring(2,4),10)+1;\n                    //alert(filtro[filtro.length-1].CodPresupuesto.substring(2,4));\n                }else\n                    toca=1;\n        \n                let concat='0';\n                if (toca>=10)\n                    concat='';\n                setPresupuestoN( (state) => ({...state,CodPresupuesto:concat+toca}));\n            }\n\n        }else{\n            //PARA MODIFICAR RECUPERAMOS DATOS\n\n            const filtro = proyects.treePartyControl.find((filtro1) => filtro1.CodPresupuesto === itemSelected);\n            if (filtro) {\n                //toca= parseInt(filtro[filtro.length-1].CodPresupuesto,10)+1;\n                setPresupuestoN( (state) => ({...state,ERPCode:filtro.ERPCode,Descripcion:filtro.Descripcion, Nivel:filtro.Nivel, Fila:filtro.Fila, PhantomId:filtro.PhantomId, PhantomParentId:filtro.PhantomParentId }));\n            }\n            \n            \n\n        }\n\n        \n\n      \n\n        \n\n    }, [])\n\n \n    const CambiaDescripcion = (data) => {\n        if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }\n        setPresupuestoN( (state) => ({...state,Descripcion:data.value}));\n\t}\n    \n    const CambiaCodigo = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>2){\n            data.value=data.value.substring(0,2);\n        }\n\n\n\n        if (presupuestoN.Nivel===1){\n            const filtro = proyects.treePartyControl.filter((filtro1) => filtro1.CodPresupuesto === data.value);       \n            if (filtro.length!==0)\n            {\n                Swal.fire(\n                    'Error!',\n                    'Este Codigo ya está ocupado!',\n                    'error'\n                  )\n                data.value='';\n            }\n            setPresupuestoN( (state) => ({...state,CodPresupuesto:data.value}));\n    \n        }else{\n\n            const filtro = proyects.treePartyControl.filter((filtro1) => filtro1.CodPresupuesto === itemSelected+data.value);       \n            if (filtro.length!==0)\n            {\n                Swal.fire(\n                    'Error!',\n                    'Este Codigo ya está ocupado!',\n                    'error'\n                  )\n                data.value='';\n            }\n            setPresupuestoN( (state) => ({...state,CodPresupuesto:data.value}));\n\n\n        }\n\n\n\t}\n\n    \n\n\n    const valida = (e) => {\n\n        /*CodPresupuesto: \"01\"\n        Descripcion: \"ADMINISTRATIVO TRIADA\"\n        ERPCode: \"01\"\n        Fila: 1\n        Nivel: 1\n        PhantomId: \"01\"\n        PhantomParentId: null*/\n        if (accion===1){\n            if (presupuestoN.Nivel===1){\n                const Nuevo=[{\n                    CodPresupuesto: presupuestoN.CodPresupuesto,\n                    Descripcion: presupuestoN.Descripcion,\n                    ERPCode: presupuestoN.CodPresupuesto,\n                    Fila: presupuestoN.Fila,\n                    Nivel: presupuestoN.Nivel,\n                    PhantomId: presupuestoN.CodPresupuesto,\n                    PhantomParentId: null\n                }];            \n                dispatch(guardarGrupo(presupuestoN.CodPresupuesto, presupuestoN.Descripcion, 1, ''));\n                dispatch(agregaGrupo1(Nuevo));\n            }else{\n                const Nuevo=[{\n                    CodPresupuesto: itemSelected+presupuestoN.CodPresupuesto,\n                    Descripcion: presupuestoN.Descripcion,\n                    ERPCode: itemSelected+presupuestoN.CodPresupuesto,\n                    Fila: presupuestoN.Fila,\n                    Nivel: presupuestoN.Nivel,\n                    PhantomId: itemSelected+presupuestoN.CodPresupuesto,\n                    PhantomParentId: itemSelected\n                }];               \n                dispatch(guardarGrupo(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, 2, ''));\n                dispatch(agregaGrupo1(Nuevo));\n            }\n            \n    \n            /*Swal.fire(\n                'Bien!',\n                'Los datos de tu nuevo Grupo ' + presupuestoN.Descripcion + ' se almacenaron Correctamente!',\n                'success'\n              )*/\n\n\n        }else{\n            // MODIFICAR EL REGISTRO EN BD Y EN MEMORIA\n            const Nuevo=[{\n                ERPCode: presupuestoN.ERPCode,\n                CodPresupuesto: itemSelected,\n                Descripcion: presupuestoN.Descripcion,\n                Fila: presupuestoN.Fila,\n                Nivel: presupuestoN.Nivel,\n                PhantomId: presupuestoN.PhantomId,\n                PhantomParentId: presupuestoN.PhantomParentId,\n            }];                  \n            \n            dispatch(modificarGrupo(itemSelected, presupuestoN.Descripcion, presupuestoN.Nivel, ''));\n            dispatch(modificaGrupo1(Nuevo));\n\n            /*Swal.fire(\n                'Bien!',\n                'Los datos de tu Grupo ' + presupuestoN.Descripcion + ' se modificaron Correctamente!',\n                'success'\n              )*/\n              \n              \n\n        }\n          setNuevoGrupo(false);\n          e.preventDefault();\n          \n    }\n    \n    \n    return (\n        <div className=\"animate__animated animate__fadeIn\" style={{ marginLeft: '40px', marginTop: '40vh', height: '30%', width: '95%', background:'transparent' }}>\n            \n            {selecOP === 1 ?\n                (<Card className=\"animate__animated animate__fadeIn\" style={{ overflow: 'scroll', marginLeft: '20px', height: '20vh', padding: '15px' }}>\n                    <Card.Header style={{fontSize:'1rem', background:'#398bf7', color:'white', fontWeight:'550' }}>Nuevo Grupo (Nivel {presupuestoN.Nivel})\n                            \n                    </Card.Header>\n                    <Card.Body>\n\n                        <Form onSubmit={valida}>\n                        <Button1 useSubmitBehavior={true} type=\"Submit\" variant=\"outline-info\" style={{ position: 'absolute', left: '300px', top: '23px' }} \n                            /*onClick={() => {\n                            if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n\n                            } else {\n                                Swal.fire({\n                                    title: 'Error!',\n                                    text: 'Ingrese todos los campos',\n                                    icon: 'error',\n                                    confirmButtonText: 'Ok'\n                                })\n                            }\n                        }}*/><i class=\"far fa-save\"></i>   Guardar</Button1>\n                            <Form.Group as={Row} className=\"mb-1 mt-3\" controlId=\"formCodigo\" >\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    \n                            </Form.Label>\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Codigo (*)\n                            </Form.Label>\n                                {presupuestoN.Nivel == 2 || accion===2 ?\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Codigo\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''} onChange={handlerOnChange} /> */}\n                                    \n                                    <TextBox\n                                        defaultValue={itemSelected ? itemSelected : ''}\n                                        value={itemSelected ? itemSelected : ''}\n                                        readOnly={true}\n                                    >\n                                    <Validator>\n                                    <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                    </TextBox>\n                                </Col>:''}\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Codigo\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''} onChange={handlerOnChange} /> */}\n                                    {accion===1 ?\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodPresupuesto}\n                                        value={presupuestoN.CodPresupuesto}\n                                        readOnly={false}\n                                        //onValueChanged={CambiaCodigo}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaCodigo}\n                                        \n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                    </TextBox> :''}\n\n                                    {/* <NumberBox\n                                    //showSpinButtons={true}\n                                    //defaultValue=\"005\"\n                                    defaultValue={presupuestoN.CodPresupuesto}\n                                    value={presupuestoN.CodPresupuesto}                                    \n                                    valueChangeEvent=\"keyup\"\n                                    onValueChanged={CambiaCodigo}\n                                    //rtlEnabled={this.state.rtlEnabled}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                    </NumberBox> */}\n                                </Col>\n                            </Form.Group>\n\n                            \n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formDescripcion\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                </Form.Label>\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Descripcion (*)\n                                </Form.Label>\n                                <Col sm={9}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Descripcion\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Descripcion : ''} onChange={handlerOnChange} /> */}\n\n                                    <TextBox\n                                        defaultValue={presupuestoN.Descripcion}\n                                        value={presupuestoN.Descripcion}\n                                        onValueChanged={CambiaDescripcion}\n                                    //readOnly={true}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Descripcion es requerida\" />\n                                    </Validator>\n                                    </TextBox>\n                                </Col>\n                            </Form.Group>\n\n\n                            \n\n\n\n\n                            <Form.Group as={Row} className=\"mb-3\">\n                                    <ValidationSummary id=\"summary\" style={{ position:'relative', marginLeft:'45%'}}></ValidationSummary>                               \n                            </Form.Group>\n                        </Form>\n\n\n                    </Card.Body>\n                </Card>)\n                :''\n                \n            }\n\n        </div>\n    )\n}\n\nexport default DatosGrupoAdd\n","import React, { useEffect, useState } from 'react'\nimport { Card, Form, Row, Col } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux';\n//import { agregaGrupo1, guardarGrupo, limpiaUbicaciones, modificaGrupo1, modificarGrupo, selectCLIENTES, selectMODELOS, selectMONEDAS, selectUBICACIONES } from '../actions/proyects.actions';\nimport Button1 from 'devextreme-react/button';\nimport Swal from 'sweetalert2'\nimport BuscaModelo from '../components/BuscaModelo';\nimport { TextBox } from 'devextreme-react';\n\nimport ValidationSummary from 'devextreme-react/validation-summary';\nimport {\n  Validator,\n  RequiredRule,\n} from 'devextreme-react/validator';\nimport { agregaSub1, guardarSubPresupuesto, LimpiarSubPres } from '../actions/proyects.actions';\n\n\n\nconst tiempoTranscurrido = Date.now();\nconst hoy = new Date(tiempoTranscurrido);\n\n\nconst DatosSubAdd = ({ nivel, itemSelected, setNuevoSubPres, accion, SubPresupuestos }) => {\n\n    /*const [ItemSub, setItemSub] = useState({\n\n    \n    });*/\n    const initialP={    \n    Cantidad: 1,\n    CodAlterno: \"\",\n    CodModelo: null,\n    CodSubpresupuesto: \"001\",\n    CostoOferta1: 0,\n    CostoOferta2: 0,\n    Descripcion: \"\",\n    NombreModelo: null,\n    UrnWeb:'',\n    }\n    const initialP1={    \n        CodPresupuesto: itemSelected,\n        CodSubpresupuesto: \"001\",\n        Descripcion: \"\",\n    }\n    \n    \n\n    const [show, setShow] = useState(false);\n    const [showMdl, setShowMdl] = useState(false);\n\n    const [subseleccionado, setSubSeleccionado] = useState(null);\n\n    const [subpresupuestoN, setSubPresupuestoN] = useState(initialP);\n    const [subpresupuestoT, setSubPresupuestoT] = useState(initialP1);\n\n\n    //VARIABLES PARA TAMAÑO DE PANTALLA\n    const [titulos, setTitulos] = useState('100%');\n\n\n    const dispatch = useDispatch();\n\n    const proyects = useSelector((state) => state.proyects);\n\n    const [selecOP, setselecOP] = useState(1);\n\n    //const subproyects = useSelector((state) => state.subproyects);\n\n\n    const showFn = () => {\n        setShow(true)\n    }\n\n    \n\n\n\n\n    \n\n\n \n/*\n    useEffect(() => {\n        if (proyects.seleccionado === undefined) return;\n        setselecOP(proyects.seleccionado) \n    }, [proyects.seleccionado])\n*/\n\n\n    //establecer tamaños y posiciones\n    useEffect(() => {\n        console.log('DATOS DE SUBPRESUPUESTOS en aDD SUBPRESUPUESTOS');\n\t\t//console.log(proyects.treeSubControl[proyects.treeSubControl.length-1].CodSubpresupuesto);\n        console.log(proyects.subPres);\n        console.log(proyects.treeSubControl);\n        let toca=0;\n        if (proyects.treeSubControl.length>0)\n            toca= parseInt(proyects.treeSubControl[proyects.treeSubControl.length-1].CodSubpresupuesto,10)+1;\n        else\n            toca=1;\n\n        let concat='00';\n        if (toca>=10)\n            concat='0';\n        if (toca>=100)\n            concat='';\n\n        setSubPresupuestoN( (state) => ({...state, CodSubpresupuesto:concat+toca}));\n        setSubPresupuestoT( (state) => ({...state, CodPresupuesto:itemSelected,CodSubpresupuesto:concat+toca}));   \n\n        \n        \n        /* CodPresupuesto: \"1701001\"\n            CodSubpresupuesto: \"001\"\n            Descripcion: \"SUBPRESUPUESTO 1\"*/\n            \n        \n\n            /*Cantidad: 1\n            CodAlterno: \"\"\n            CodModelo: null\n            CodSubpresupuesto: \"009\"\n            CostoOferta1: 0\n            CostoOferta2: 0\n            Descripcion: \"POST-VENTA\"\n            NombreModelo: null\n            UrnWeb: \"\"\n            */\n\n        /*if (accion===1){\n           \n            \n            if (presupuestoN.Nivel===1){\n                const filtro = proyects.treePartyControl.filter((filtro1) => filtro1.Nivel === 1);\n                \n                if (filtro.length!==0)\n                {\n                    toca= parseInt(filtro[filtro.length-1].CodPresupuesto,10)+1;\n                }else\n                    toca=1;\n                \n                let concat='0';\n                if (toca>=10)\n                    concat='';\n                setPresupuestoN( (state) => ({...state,CodPresupuesto:concat+toca}));\n            }else{\n                const filtro = proyects.treePartyControl.filter((filtro1) => filtro1.PhantomParentId === itemSelected);\n                let toca=0;\n                if (filtro.length!==0)\n                {\n                    toca= parseInt(filtro[filtro.length-1].CodPresupuesto.substring(2,4),10)+1;\n                    //alert(filtro[filtro.length-1].CodPresupuesto.substring(2,4));\n                }else\n                    toca=1;\n        \n                let concat='0';\n                if (toca>=10)\n                    concat='';\n                setPresupuestoN( (state) => ({...state,CodPresupuesto:concat+toca}));\n            }\n\n        }else{\n            //PARA MODIFICAR RECUPERAMOS DATOS\n\n            const filtro = proyects.treePartyControl.find((filtro1) => filtro1.CodPresupuesto === itemSelected);\n            if (filtro) {\n                //toca= parseInt(filtro[filtro.length-1].CodPresupuesto,10)+1;\n                setPresupuestoN( (state) => ({...state,ERPCode:filtro.ERPCode,Descripcion:filtro.Descripcion, Nivel:filtro.Nivel, Fila:filtro.Fila, PhantomId:filtro.PhantomId, PhantomParentId:filtro.PhantomParentId }));\n            }\n            \n            \n\n        }*/\n\n        \n\n      \n\n        \n\n    }, [])\n\n \n    const CambiaDescripcion = (data) => {\n        if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }\n       setSubPresupuestoN( (state) => ({...state,Descripcion:data.value}));\n       setSubPresupuestoT( (state) => ({...state,Descripcion:data.value}));\n\t}\n    \n   \n\n    \n\n\n    const valida = (e) => {\n\n\n        console.log('ESTOS SON MIS DATOS A GUARGAR PRES N');\n        console.log(subpresupuestoN);\n        console.log('ESTOS SON MIS DATOS A GUARGAR PRES T');\n        console.log(subpresupuestoT);\n        \n        dispatch(guardarSubPresupuesto(itemSelected,subpresupuestoN.CodSubpresupuesto,subpresupuestoN.Descripcion,subpresupuestoN.CodModelo,''));\n\n        const Modificado1=[{\n            CodPresupuesto: itemSelected,\n            CodSubpresupuesto: subpresupuestoN.CodSubpresupuesto,\n            Descripcion: subpresupuestoN.Descripcion,\n        }];   \n        \n        dispatch(agregaSub1(Modificado1));\n\n        setTimeout(() => {\n            SubPresupuestos(itemSelected);\n            dispatch(LimpiarSubPres());                \n        }, 1400);\n\n        //dispatch(modificaGrupo1(Nuevo));\n        /*CodPresupuesto: \"01\"\n        Descripcion: \"ADMINISTRATIVO TRIADA\"\n        ERPCode: \"01\"\n        Fila: 1\n        Nivel: 1\n        PhantomId: \"01\"\n        PhantomParentId: null*/\n        \n        /*\n        \n        if (accion===1){\n            if (presupuestoN.Nivel===1){\n                const Nuevo=[{\n                    CodPresupuesto: presupuestoN.CodPresupuesto,\n                    Descripcion: presupuestoN.Descripcion,\n                    ERPCode: presupuestoN.CodPresupuesto,\n                    Fila: presupuestoN.Fila,\n                    Nivel: presupuestoN.Nivel,\n                    PhantomId: presupuestoN.CodPresupuesto,\n                    PhantomParentId: null\n                }];            \n                dispatch(guardarGrupo(presupuestoN.CodPresupuesto, presupuestoN.Descripcion, 1, ''));\n                dispatch(agregaGrupo1(Nuevo));\n            }else{\n                const Nuevo=[{\n                    CodPresupuesto: itemSelected+presupuestoN.CodPresupuesto,\n                    Descripcion: presupuestoN.Descripcion,\n                    ERPCode: itemSelected+presupuestoN.CodPresupuesto,\n                    Fila: presupuestoN.Fila,\n                    Nivel: presupuestoN.Nivel,\n                    PhantomId: itemSelected+presupuestoN.CodPresupuesto,\n                    PhantomParentId: itemSelected\n                }];               \n                dispatch(guardarGrupo(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, 2, ''));\n                dispatch(agregaGrupo1(Nuevo));\n            }\n            \n    \n            Swal.fire(\n                'Bien!',\n                'Los datos de tu nuevo Grupo ' + presupuestoN.Descripcion + ' se almacenaron Correctamente!',\n                'success'\n              )\n\n\n        }else{\n            // MODIFICAR EL REGISTRO EN BD Y EN MEMORIA\n            const Nuevo=[{\n                ERPCode: presupuestoN.ERPCode,\n                CodPresupuesto: itemSelected,\n                Descripcion: presupuestoN.Descripcion,\n                Fila: presupuestoN.Fila,\n                Nivel: presupuestoN.Nivel,\n                PhantomId: presupuestoN.PhantomId,\n                PhantomParentId: presupuestoN.PhantomParentId,\n            }];                  \n            \n            dispatch(modificarGrupo(itemSelected, presupuestoN.Descripcion, presupuestoN.Nivel, ''));\n            dispatch(modificaGrupo1(Nuevo));\n\n            Swal.fire(\n                'Bien!',\n                'Los datos de tu Grupo ' + presupuestoN.Descripcion + ' se modificaron Correctamente!',\n                'success'\n              )\n              \n          setNuevoGrupo(false);    \n\n        }*/\n\n           /* Swal.fire(\n            'Bien!',\n            'Los datos de tu nuevo SubPresupuesto ' + subpresupuestoN.Descripcion + ' se guardaron Correctamente!',\n            'success'\n          )*/\n          setNuevoSubPres(false);\n          e.preventDefault();\n          \n    }\n    \n    \n    return (\n        <div className=\"animate__animated animate__fadeIn\" style={{ marginLeft: '40px', marginTop: '35vh', height: '40%', width: '95%', background:'transparent' }}>\n            <BuscaModelo\n                setShow={setShowMdl}\n                subseleccionado={subseleccionado}\n                setSubSeleccionado={setSubSeleccionado}\n                CodPresupuesto={itemSelected}\n                show={showMdl}\n                tipo={'3'}\n                setSubPresupuestoN={setSubPresupuestoN}\n            />\n\n            {selecOP === 1 ?\n                (<Card className=\"animate__animated animate__fadeIn\" style={{ overflow: 'scroll', marginLeft: '20px', height: '25vh', padding: '15px' }}>\n                    <Card.Header style={{fontSize:'1rem', background:'#398bf7', color:'white', fontWeight:'550' }}>Nuevo SubPresupuesto\n                            \n                    </Card.Header>\n                    <Card.Body>\n\n                        <Form onSubmit={valida}>\n                        <Button1 useSubmitBehavior={true} type=\"Submit\" variant=\"outline-info\" style={{ position: 'absolute', left: '300px', top: '23px' }} \n                            /*onClick={() => {\n                            if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n\n                            } else {\n                                Swal.fire({\n                                    title: 'Error!',\n                                    text: 'Ingrese todos los campos',\n                                    icon: 'error',\n                                    confirmButtonText: 'Ok'\n                                })\n                            }\n                        }}*/><i class=\"far fa-save\"></i>   Guardar</Button1>\n                            <Form.Group as={Row} className=\"mb-1 mt-3\" controlId=\"formCodigo\" >\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    \n                            </Form.Label>\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Codigo (*)\n                            </Form.Label>\n                                \n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Codigo\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''} onChange={handlerOnChange} /> */}\n                                    \n                                    <TextBox\n                                        defaultValue={itemSelected ? itemSelected : ''}\n                                        value={itemSelected ? itemSelected : ''}\n                                        readOnly={true}\n                                    >\n                                    <Validator>\n                                    <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                    </TextBox>\n                                </Col>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Codigo\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''} onChange={handlerOnChange} /> */}\n                                    \n                                    <TextBox\n                                        defaultValue={subpresupuestoN.CodSubpresupuesto}\n                                        value={subpresupuestoN.CodSubpresupuesto}\n                                        readOnly={true}\n                                        //onValueChanged={CambiaCodigo}\n                                        //valueChangeEvent=\"keyup\"\n                                       // onValueChanged={CambiaCodigo}\n                                        \n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                    </TextBox> \n\n                                    {/* <NumberBox\n                                    //showSpinButtons={true}\n                                    //defaultValue=\"005\"\n                                    defaultValue={presupuestoN.CodPresupuesto}\n                                    value={presupuestoN.CodPresupuesto}                                    \n                                    valueChangeEvent=\"keyup\"\n                                    onValueChanged={CambiaCodigo}\n                                    //rtlEnabled={this.state.rtlEnabled}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                    </NumberBox> */}\n                                </Col>\n                            </Form.Group>\n\n                            \n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formDescripcion\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                </Form.Label>\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Descripcion (*)\n                                </Form.Label>\n                                <Col sm={9}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Descripcion\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Descripcion : ''} onChange={handlerOnChange} /> */}\n\n                                    <TextBox\n                                        defaultValue={subpresupuestoN.Descripcion}\n                                        value={subpresupuestoN.Descripcion}\n                                        onValueChanged={CambiaDescripcion}\n                                    //readOnly={true}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Descripcion es requerida\" />\n                                    </Validator>\n                                    </TextBox>\n                                </Col>\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formModelo\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                </Form.Label>\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Modelo\n                                </Form.Label>\n                                <Col sm={8}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Descripcion\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Descripcion : ''} onChange={handlerOnChange} /> */}\n\n                                    <TextBox\n                                        defaultValue={subpresupuestoN.NombreModelo}\n                                        value={subpresupuestoN.NombreModelo}\n                                        onValueChanged={CambiaDescripcion}\n                                        readOnly={true}\n                                    >\n                                    \n                                    </TextBox>\n                                </Col>\n                                    <Col sm={1}>\n\n                                    <Button1 variant=\"outline-info\"  \n                                    onClick={() => {\n                                        setShowMdl(true);\n                                    }}>\n                                        <i class=\"far fa-save\"></i>   Seleccionar</Button1>\n                                                                      \n                                    </Col>\n                            </Form.Group>\n\n\n\n\n                            <Form.Group as={Row} className=\"mb-3\">\n                                    <ValidationSummary id=\"summary\" style={{ position:'relative', marginLeft:'45%'}}></ValidationSummary>                               \n                            </Form.Group>\n                        </Form>\n\n\n                    </Card.Body>\n                </Card>)\n                :''\n                \n            }\n\n        </div>\n    )\n}\n\nexport default DatosSubAdd\n","import React, { useEffect, useState } from 'react'\nimport { Card, Form, Row, Button, Col, InputGroup, FormControl, Dropdown, DropdownButton, Table } from 'react-bootstrap'\nimport Moment from 'react-moment';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { agregaGrupo1, agregaSub1, guardarGrupo, guardarPresupuesto, limpiaUbicaciones, selectCLIENTES, selectMODELOS, selectMONEDAS, selectUBICACIONES } from '../actions/proyects.actions';\nimport Button1 from 'devextreme-react/button';\nimport BuscaCliente from '../components/BuscaCliente';\nimport BuscaUbicacion from '../components/BuscaUbicacion';\nimport { ViewerSc } from './ViewerSc';\nimport Swal from 'sweetalert2'\nimport BuscaModelo from '../components/BuscaModelo';\nimport BuscaMoneda from '../components/BuscaMoneda';\nimport { DateBox, NumberBox, SelectBox, TextBox } from 'devextreme-react';\nimport { date } from 'yup/lib/locale';\n//import { ViewScreen1 } from './ViewScreen1'\n\nimport ValidationSummary from 'devextreme-react/validation-summary';\nimport {\n  Validator,\n  RequiredRule,\n  CompareRule,\n  EmailRule,\n  PatternRule,\n  StringLengthRule,\n  RangeRule,\n  AsyncRule\n} from 'devextreme-react/validator';\n\n\n\nconst tiempoTranscurrido = Date.now();\nconst hoy = new Date(tiempoTranscurrido);\n\n\n\n\n\n\nconst DatosGeneralesAdd = ({itemSelected, setNuevoPres}) => {\n\n    /*const [ItemSub, setItemSub] = useState({\n\n\n    });*/\n\n\n    const initialP={\n        CodPresupuesto: '',\n        CodAlterno: '',\n        Descripcion:'',\n        CodCliente:'',\n        Cliente:'',\n        CodLugar:'',\n        UbicacionGeografica:'',\n        Fecha:hoy,\n        HistoricoPrecios:'',\n        Plazo:'0',\n        Jornada:'8.00',\n        JornadaSemana:'0.00',\n        JornadaMes:'0.00',\n        JornadaAno:'0.00',\n        CodMoneda:'',\n        Moneda:'',\n        SimboloMoneda:'',\n        CostoDirectoBase1:'0.00',\n        CostoIndirectoBase1:'0.00',\n        CostoBase1:'0.00',\n        CostoDirectoOferta1:'0.00',\n        CostoIndirectoOferta1:'0.00',\n        CostoOferta1:'0.00',\n        ERPCode:'',\n        Fila:null,\n        Nivel:null,\n        PhantomId:'',\n        PhantomParentId:''\n    }\n\n    const [show, setShow] = useState(false);\n    const [showUb, setShowUb] = useState(false);\n    const [showMdl, setShowMdl] = useState(false);\n    const [showMnd, setShowMnd] = useState(false);\n\n    const [subseleccionado, setSubSeleccionado] = useState(null);\n\n\n    const [historicoSel, setHistoricoSel] = useState(\"\");\n    const [historicos, setHistoricos] = useState([]);\n\n\n    const [presupuestoN, setPresupuestoN] = useState(initialP);\n\n\n\n    //VARIABLES PARA TAMAÑO DE PANTALLA\n    const [titulos, setTitulos] = useState('100%');\n\n\n\n\n    //let history = useHistory();\n    //const classes = useStyles();\n    const dispatch = useDispatch();\n    // const [loading, setLoading] = useState(true);\n\n    /*const [ allLevels, setAllLevels ] = useState(null)\n    const [ itemSelected, setItemSelected ] = useState('')\n    const [ lastLevel, setLastLevel ] = useState(0);\n\n    const [ allLevels1, setAllLevels1 ] = useState(null)\n    const [ itemSelected1, setItemSelected1 ] = useState('')\n    const [ lastLevel1, setLastLevel1 ] = useState(0);*/\n\n\n    //const [loading, setLoading] = useState(true);\n\n    //const auth = useSelector((state) => state.auth);\n    const proyects = useSelector((state) => state.proyects);\n    //alert(' inicializando treeeee' );\n\n    const [selecOP, setselecOP] = useState(1);\n\n    //const subproyects = useSelector((state) => state.subproyects);\n\n\n    const showFn = () => {\n        setShow(true)\n    }\n\n   /* const drawerItems = () => {\n        //console.log('datos de subProyectos actualizados')\n        //console.log(allLevels1[0])\n\n\n        return (\n            proyects.treeSubControl ?\n                proyects.treeSubControl.map(filter => {\n                    return (<tr key={filter.CodSubpresupuesto}>\n                        <td>{filter.CodSubpresupuesto}</td>\n                        <td>{filter.CodAlterno}</td>\n                        <td>\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formDF\">\n                                <Col sm={11}>\n                                    <TextBox\n                                        defaultValue={filter.Descripcion}\n                                        value={filter.Descripcion}\n                                        height={'25px'}\n                                        width={'90%'}\n                                    //rtlEnabled={true}\n                                    //readOnly={true}\n                                    />\n                                </Col>\n                                <Col sm={1}>\n                                    <Button variant=\"outline-info\" style={{ height: '25px' }} onClick={() => {\n                                        if (true) {\n\n                                        } else {\n                                            Swal.fire({\n                                                title: 'Error!',\n                                                text: 'No tiene un Presupuesto seleccionado',\n                                                icon: 'error',\n                                                confirmButtonText: 'Ok'\n                                            })\n                                        }\n                                    }}><i class=\"far fa-save\" style={{ position: 'relative', top: '-5px' }}></i></Button>\n                                </Col>\n\n                            </Form.Group>\n                        </td>\n                        <td align=\"right\">{formatNumber(filter.Cantidad)}</td>\n                        <td align=\"right\">{formatNumber(filter.CostoOferta1)}</td>\n                        <td align=\"left\">{filter.NombreModelo ? filter.NombreModelo : 'No asignado'} <div className=\"btn btn-outline-info\" style={{ position: 'absolute', right: '20px', color: '#3c8dbc', width: \"20px\", height: '20px' }} onClick={() => { Selecciona(filter) }}><i class=\"far fa-edit\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></div></td>\n                    </tr>\n                    )\n                }) : ''\n        )\n    }*/\n\n\n   /* function formatNumber(num) {\n        if (!num || num == 'NaN') return '0.00';\n        if (num == 'Infinity') return '&#x221e;';\n        var num = num.toString().replace(/\\$|\\,/g, '');\n        if (isNaN(num))\n            num = \"0\";\n        var sign = (num == (num = Math.abs(num)));\n        num = Math.floor(num * 100 + 0.50000000001);\n        var cents = num % 100;\n        num = Math.floor(num / 100).toString();\n        if (cents < 10)\n            cents = \"0\" + cents;\n        for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)\n            num = num.substring(0, num.length - (4 * i + 3)) + ',' + num.substring(num.length - (4 * i + 3));\n        return (((sign) ? '' : '0.00') + num + '.' + cents);\n    }*/\n\n    function roundN(num, n) {\n        return parseFloat(Math.round(num * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n);\n    }\n\n\n\n\n    const Selecciona = (dato) => {\n        //alert(dato.CodSubpresupuesto);\n        if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n\n\n            setShowMdl(true);\n            setSubSeleccionado(dato);\n            //dato.CodModelo=proyects.AuxModelo;\n            //alert(proyects.AuxModelo);\n\n        } else {\n            Swal.fire({\n                title: 'Error!',\n                text: 'No tiene un Presupuesto seleccionado',\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            })\n        }\n\n    }\n\n   /* const drawerItems1 = () => {\n        //console.log('datos de subProyectos actualizados')\n        //console.log(allLevels1[0])\n        return (\n            proyects.treeSubControl ?\n                proyects.treeSubControl.filter((filtro1) => filtro1.CodSubpresupuesto === proyects.Sub_sel).map(filter => {\n                    return (<tr key={filter.CodSubpresupuesto}>\n                        <td>{filter.CodSubpresupuesto}</td>\n                        <td>{filter.CodAlterno}</td>\n                        <td><Form.Group as={Row} className=\"mb-1\" controlId=\"formDF\">\n                            <Col sm={11}>\n                                <TextBox\n                                    defaultValue={filter.Descripcion}\n                                    value={filter.Descripcion}\n                                    height={'25px'}\n                                    width={'90%'}\n                                //rtlEnabled={true}\n                                //readOnly={true}\n                                />\n                            </Col>\n                            <Col sm={1}>\n                                <Button variant=\"outline-info\" style={{ height: '25px' }} onClick={() => {\n                                    if (true) {\n\n                                    } else {\n                                        Swal.fire({\n                                            title: 'Error!',\n                                            text: 'No tiene un Presupuesto seleccionado',\n                                            icon: 'error',\n                                            confirmButtonText: 'Ok'\n                                        })\n                                    }\n                                }}><i class=\"far fa-save\" style={{ position: 'relative', top: '-5px' }}></i></Button>\n                            </Col>\n\n                        </Form.Group></td>\n                        <td align=\"right\">{formatNumber(filter.Cantidad)}</td>\n                        <td align=\"right\">{formatNumber(filter.CostoOferta1)}</td>\n                        <td align=\"left\">{filter.NombreModelo ? filter.NombreModelo : 'No asignado'} <div className=\"btn btn-outline-info\" style={{ position: 'absolute', right: '20px', color: '#3c8dbc', width: \"20px\", height: '20px' }} onClick={() => { Selecciona(filter) }}><i class=\"far fa-edit\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></div></td>\n                    </tr>\n                    )\n                }) : ''\n        )\n    }*/\n\n\n\n    /*useEffect(() => {\n        if (!proyects.DataModelos) {\n            dispatch(selectMODELOS(''));\n            //alert('');\n        }\n        //alert(proyects.treeSubControl.length);\n        /*console.log(\"LOS SUBPRESUPUESTOS AHORA SON\");\n        console.log(proyects.treeSubControl);\n        console.log(\"ACTUALMENTE LOS MODELOS\");\n        console.log(proyects.DataModelos);\n        for (let i = 0; i < proyects.treeSubControl.length; i++) {\n            const reg = proyects.DataModelos.find((filtro1) => filtro1.CodPlano === proyects.treeSubControl[i].CodModelo);\n            if (reg) {\n                proyects.treeSubControl[i].NombreModelo = reg.NombreArchivoRvt;\n                //alert(proyects.treeSubControl[i].CodModelo);    \n            } else\n                proyects.treeSubControl[i].NombreModelo = null;\n        }\n    }, [proyects.treeSubControl])*/\n\n    useEffect(() => {\n        //console.log('datos de subProyectos actualizados')\n        //alert(proyects.seleccionado+\"\");\n        if (proyects.seleccionado === undefined) return;\n        //if (proyects.treePartyControl == undefined) return;\n        setselecOP(proyects.seleccionado)\n        //alert(proyects.seleccionado);\n\n\n        /* if (proyects.seleccionado === 1)\n         {\n             if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0]){\n                 if (proyects.DatosPresupuesto[0].HistoricoPrecios){\n                     let A_historicos=proyects.DatosPresupuesto[0].HistoricoPrecios.split(\"|\");\n                     setHistoricos(A_historicos);\n                     setHistoricoSel(historicos[0]);\n                     alert(historicos[0]);\n                     //proyects.DatosPresupuesto[0].HistoricoPrecios;\n                 }\n                 \n                 \n             }\n             \n \n \n         }*/\n        //if (selecOP === 1) setselecOP(2); else setselecOP(1);\n\n    }, [proyects.seleccionado])\n\n\n\n   /* useEffect(() => {\n        //if (proyects.seleccionado === undefined) return;\n        //setselecOP(proyects.seleccionado)\n\n\n        //alert(proyects.AuxModelo);\n    }, [proyects.AuxModelo])*/\n\n\n    //establecer tamaños y posiciones\n    useEffect(() => {\n        if (window.innerWidth >= 2000) {\n            //alert('es de' + window.innerWidth)\n            setTitulos('100%');\n        } else if (window.innerWidth >= 1640) {\n            //alert('2do caso es de' + window.innerWidth)\n            setTitulos('90%');\n        } else if (window.innerWidth >= 1440) {\n            //alert('2do caso es de' + window.innerWidth)\n            setTitulos('85%');\n        } else if (window.innerWidth >= 1024) {\n            //alert('3er caso es de' + window.innerWidth)\n            setTitulos('80%');\n        } else if (window.innerWidth >= 768) {\n            //alert('4to caso es de' + window.innerWidth)        \n            setTitulos('75%');\n        } else if (window.innerWidth >= 425) {\n            setTitulos('70%');\n            //alert('5to caso es de' + window.innerWidth)        \n        }\n\n\n        console.log('MIS DATOS DE ARBOLLLLLL');\n        console.log(proyects.treePartyControl);\n        \n\n        const filtro = proyects.treePartyControl.filter((filtro1) => filtro1.PhantomParentId === itemSelected);\n        //alert(filtro.length)\n        let toca=0;\n        if (filtro.length!==0)\n        {\n            toca= parseInt(filtro[filtro.length-1].CodPresupuesto.substring(4,7),10)+1;\n\n        }else\n            toca=1;\n\n        let concat='00';\n        if (toca>=10)\n            concat='0';\n        if (toca>=100)\n            concat='';\n\n        setPresupuestoN( (state) => ({...state,CodPresupuesto:concat+toca}));\n\n            //alert(toca)\n\t\t//var Sumatoria = 0.00;\n\t\t/*for (let i = 0; i < filtro.length; i++) {\n\n\t\t\tif (filtro[i].Metrado !== null) {\n\t\t\t\tSumatoria = Sumatoria + parseFloat(filtro[i].Total);\t\t\t\t\n\t\t\t} else {\n\t\t\t\tvar TotalAux = ObtenerSuma(filtro[i]);\n\t\t\t\tSumatoria = Sumatoria + TotalAux;\n\t\t\t\tfiltro[i].Total = (TotalAux);\n\t\t\t\tfiltro[i].Totalf = formatNumber(TotalAux);\n\t\t\t}\n\n\t\t}*/\n        dispatch(selectMONEDAS(''));\n        dispatch(selectCLIENTES('', ''));\n\n        /*setTimeout(() => {\n            \n            const regm = proyects.DataMonedas.find((filtro1) => filtro1.CodMoneda === '01');\n            if (regm)\n            setPresupuestoN( (state) => ({...state,CodMoneda:'01',Moneda:regm.Descripcion }));\n\n        }, 4500);*/\n\n        setPresupuestoN( (state) => ({...state,ERPCode:itemSelected+presupuestoN.CodPresupuesto, Fila:proyects.treePartyControl.length,Nivel:3,PhantomId:itemSelected+presupuestoN.CodPresupuesto,PhantomParentId:itemSelected}));\n\n    }, [])\n\n    useEffect(() => {\n \n            if (proyects.DataMonedas){\n                const regm = proyects.DataMonedas.find((filtro1) => filtro1.CodMoneda === '01');\n                if (regm)\n                setPresupuestoN( (state) => ({...state,CodMoneda:'01',Moneda:regm.Descripcion }));\n            }\n    }, [proyects.DataMonedas])\n\n    useEffect(() => {\n        setHistoricos([]);\n        setHistoricoSel('');\n\n        if (proyects.seleccionado === 1) {\n            //alert('');\n            if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0]) {\n                if (proyects.DatosPresupuesto[0].HistoricoPrecios) {\n                    let A_historicos = proyects.DatosPresupuesto[0].HistoricoPrecios.split(\"|\");\n                    setHistoricos(A_historicos);\n                    //alert(A_historicos[0]);\n                    setHistoricoSel(A_historicos[0]);\n                    //alert(historicos[0]);\n                    //proyects.DatosPresupuesto[0].HistoricoPrecios;\n                }\n            }\n        }\n        //if (selecOP === 1) setselecOP(2); else setselecOP(1);\n\n    }, [proyects.DatosPresupuesto])\n\n    const handlerOnChange = () => {\n\n\n    }\n\n    const CambiaDescripcion = (data) => {\n        if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }\n        setPresupuestoN( (state) => ({...state,Descripcion:data.value}));\n\t}\n   \n   \n    const CambiaCodigo = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>3){\n            data.value=data.value.substring(0,3);\n        }\n\n\n\n\n        const filtro = proyects.treePartyControl.filter((filtro1) => filtro1.CodPresupuesto === itemSelected+data.value);\n        //alert(filtro.length)\n        \n        if (filtro.length!==0)\n        {\n            Swal.fire(\n                'Error!',\n                'Este Codigo ya está ocupado!',\n                'error'\n              )\n\n            //toca= parseInt(filtro[filtro.length-1].CodPresupuesto.substring(4,7),10)+1;\n            data.value='';\n        }\n\n        //setPresupuestoN( (state) => ({...state,CodPresupuesto:concat+toca}));\n\n\n        setPresupuestoN( (state) => ({...state,CodPresupuesto:data.value}));\n\n\t}\n\n    const CambiaCodigoAlterno = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>20){\n            data.value=data.value.substring(0,20);\n        }\n        setPresupuestoN( (state) => ({...state,CodAlterno:data.value}));\n\t}\n\n    const CambiaCodigoCliente = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n\n        const regm = proyects.DataClientes.find((filtro1) => filtro1.CodIdentificador === data.value);\n        if (regm)\n            setPresupuestoN( (state) => ({...state,Cliente:regm.Descripcion }));\n        else\n            setPresupuestoN( (state) => ({...state,Cliente:'' }));\n        \n        setPresupuestoN( (state) => ({...state,CodCliente:data.value}));\n\t}\n\n\n    const CambiaPlazo = (data) => {\n       \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }        \n        if (data.value.length>5){\n            data.value=data.value.substring(0,5);\n        }\n        if (data.value!=='')\n            data.value=parseInt(data.value,10)+'';        \n        setPresupuestoN( (state) => ({...state,Plazo:data.value}));\n\t}\n\n    const CambiaJornada = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPresupuestoN( (state) => ({...state,Jornada:data.value}));\n\t}\n\n    const CambiaJornadaSemana = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPresupuestoN( (state) => ({...state,JornadaSemana:data.value}));\n\t}\n\n    const CambiaJornadaMes = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPresupuestoN( (state) => ({...state,JornadaMes:data.value}));\n\t}\n\n    const CambiaJornadaAno = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPresupuestoN( (state) => ({...state,JornadaAno:data.value}));\n\t}\n\n    const CambiaCodigoMoneda = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>2){\n            data.value=data.value.substring(0,2);\n        }\n\n        const regm = proyects.DataMonedas.find((filtro1) => filtro1.CodMoneda === data.value);\n        if (regm)\n            setPresupuestoN( (state) => ({...state,Moneda:regm.Descripcion }));\n        else\n            setPresupuestoN( (state) => ({...state,Moneda:'' }));\n        \n        setPresupuestoN( (state) => ({...state,CodMoneda:data.value}));\n\t}\n\n    const CambiaCDBase = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>16){\n            data.value=data.value.substring(0,16);\n        }\n        let total=parseFloat(parseFloat(data.value) + parseFloat(presupuestoN.CostoIndirectoBase1));\n        let total1=roundN(total,2);\n        setPresupuestoN( (state) => ({...state,CostoDirectoBase1:data.value, CostoBase1:total1}));\n\t}\n\n    const CambiaCIBase = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>16){\n            data.value=data.value.substring(0,16);\n        }\n        let total=parseFloat(parseFloat(data.value) + parseFloat(presupuestoN.CostoDirectoBase1));\n        let total1=roundN(total,2);\n        setPresupuestoN( (state) => ({...state,CostoIndirectoBase1:data.value, CostoBase1:total1}));\n\t}\n\n    const onCurrentValueChanged = (e) => {\n        setPresupuestoN( (state) => ({...state, Fecha:e.value}));\n        /*this.setState({\n          currentValue: e.value\n        });*/\n      }\n\n    const valida = (e) => {\n\n        \n\n        //alert(presupuestoN.CostoBase1);\n        //if (presupuestoN.CostoBase1==='-')\n        \n        /*let cbase=presupuestoN.CostoBase1.replace(',', '');\n\n        setPresupuestoN( (state) => ({...state, CostoBase1:cbase}));\n        alert(presupuestoN.CostoBase1);*/\n\n        const Nuevo=[{\n            CodPresupuesto: itemSelected+presupuestoN.CodPresupuesto,\n            Descripcion: presupuestoN.Descripcion,\n            ERPCode: itemSelected+presupuestoN.CodPresupuesto,\n            Fila: presupuestoN.Fila,\n            Nivel: 3,\n            PhantomId: itemSelected+presupuestoN.CodPresupuesto,\n            PhantomParentId: itemSelected\n        }];  \n        \n        \n        //let fecha1=new Date(presupuestoN.Fecha);\n        let fecha1=new Date(presupuestoN.Fecha);\n        let dia=parseInt(fecha1.getDate(),10);\n        let mes=parseInt(fecha1.getMonth(),10)+1;\n        let fechaStr = dia + \"/\" + mes + '/' + fecha1.getFullYear();\n        //dispatch(guardarGrupo(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, 3, ''));\n        //alert(presupuestoN.Fecha);\n        //let fechaStr = presupuestoN.Fecha.substring(8,10) + \"/\" + presupuestoN.Fecha.substring(5,7) + '/' + presupuestoN.Fecha.substring(0,4);\n      \n\n        //dispatch(guardarGrupo(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, 3, ''));\n        dispatch(agregaGrupo1(Nuevo));\n\n        setTimeout(() => {            \n            dispatch(guardarPresupuesto(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, presupuestoN.Plazo,  fechaStr, presupuestoN.Jornada, '0' ,presupuestoN.CostoDirectoBase1,presupuestoN.CostoIndirectoBase1,presupuestoN.CostoBase1,presupuestoN.CostoDirectoOferta1,presupuestoN.CostoIndirectoOferta1,presupuestoN.CostoOferta1,presupuestoN.CodCliente,presupuestoN.CodLugar,presupuestoN.CodMoneda,'',presupuestoN.CodAlterno,presupuestoN.JornadaSemana,presupuestoN.JornadaMes,presupuestoN.JornadaAno,''));                \n        }, 1000);\n        \n\n        const Modificado1=[{\n            CodPresupuesto: itemSelected+presupuestoN.CodPresupuesto,\n            CodSubpresupuesto: '001',\n            Descripcion: presupuestoN.Descripcion,\n        }];   \n        \n        dispatch(agregaSub1(Modificado1));\n\n\n\n        console.log('LOS DATOS QUE SE GUARDARIAN')\n        console.log(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, presupuestoN.Plazo,  fechaStr, presupuestoN.Jornada, '0' ,presupuestoN.CostoDirectoBase1,presupuestoN.CostoIndirectoBase1,presupuestoN.CostoBase1,presupuestoN.CostoDirectoOferta1,presupuestoN.CostoIndirectoOferta1,presupuestoN.CostoOferta1,presupuestoN.CodCliente,presupuestoN.CodLugar,presupuestoN.CodMoneda,'',presupuestoN.CodAlterno,presupuestoN.JornadaSemana,presupuestoN.JornadaMes,presupuestoN.JornadaAno,'')\n\n        /*Swal.fire(\n            'Bien!',\n            'Los datos de tu nuevo Presupuesto ' + presupuestoN.Descripcion + ' se almacenaron Correctamente!',\n            'success'\n          )*/\n\n\n          \n          setNuevoPres(false);\n\n        /*notify({\n            message: 'You have submitted the form',\n            position: {\n              my: 'center top',\n              at: 'center top'\n            }\n          }, 'success', 3000);*/\n          \n          e.preventDefault();\n    }\n    \n    const ReglaNumerica = {\n        X: /[02-9]/\n      };\n\n    return (\n        <div className=\"animate__animated animate__fadeIn\" style={{ marginLeft: '15px', marginTop: '10px', height: '90%', width: '99%' }}>\n            <BuscaCliente tipo=\"Nuevo\" presupuestoN={presupuestoN} setShow={setShow} show={show} />\n            <BuscaUbicacion tipo=\"Nuevo\" presupuestoN={presupuestoN} setShow={setShowUb} show={showUb} />\n            {/* <BuscaModelo\n                setShow={setShowMdl}\n                subseleccionado={subseleccionado}\n                setSubSeleccionado={setSubSeleccionado}\n                CodPresupuesto={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''}\n                show={showMdl}\n            /> */}\n            <BuscaMoneda tipo=\"Nuevo\" presupuestoN={presupuestoN} setShow={setShowMnd} show={showMnd} />\n            {selecOP === 1 ?\n                (<Card className=\"animate__animated animate__fadeIn\" style={{ overflow: 'scroll', marginLeft: '20px', height: '88vh', padding: '15px' }}>\n                    <Card.Header style={{fontSize:'1rem', background:'#398bf7', color:'white', fontWeight:'550' }}>Datos Generales\n                            \n                    </Card.Header>\n                    <Card.Body>\n\n                        <Form onSubmit={valida}>\n                        <Button1 useSubmitBehavior={true} type=\"Submit\" variant=\"outline-info\" style={{ position: 'absolute', left: '210px', top: '23px' }} \n                            /*onClick={() => {\n                            if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n\n                            } else {\n                                Swal.fire({\n                                    title: 'Error!',\n                                    text: 'Ingrese todos los campos',\n                                    icon: 'error',\n                                    confirmButtonText: 'Ok'\n                                })\n                            }\n                        }}*/><i class=\"far fa-save\"></i>   Guardar</Button1>\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formCodigo\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Codigo (*)\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Codigo\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''} onChange={handlerOnChange} /> */}\n\n                                    <TextBox\n                                        defaultValue={itemSelected ? itemSelected : ''}\n                                        value={itemSelected ? itemSelected : ''}\n                                        readOnly={true}\n                                    >\n                                    <Validator>\n                                    <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                    </TextBox>\n                                </Col>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Codigo\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''} onChange={handlerOnChange} /> */}\n\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodPresupuesto}\n                                        value={presupuestoN.CodPresupuesto}\n                                        readOnly={false}\n                                        //onValueChanged={CambiaCodigo}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaCodigo}\n                                        \n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                    </TextBox> \n\n                                    {/* <NumberBox\n                                    //showSpinButtons={true}\n                                    //defaultValue=\"005\"\n                                    defaultValue={presupuestoN.CodPresupuesto}\n                                    value={presupuestoN.CodPresupuesto}                                    \n                                    valueChangeEvent=\"keyup\"\n                                    onValueChanged={CambiaCodigo}\n                                    //rtlEnabled={this.state.rtlEnabled}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                    </NumberBox> */}\n                                </Col>\n                            </Form.Group>\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formAlterno\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Alterno\n                            </Form.Label>\n                                <Col sm={2}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Alterno\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodAlterno : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodAlterno}\n                                        value={presupuestoN.CodAlterno}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaCodigoAlterno}\n                                        //onFocusOut={()=>{alert('saliste')}}\n                                    /*valueChangeEvent=\"keyup\"\n                                    onValueChanged={(data)=>{\n                                        console.log(data.value);\n\n                                    }}*/\n                                    //value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''}                                    \n                                    />\n                                </Col>\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formDescripcion\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Descripcion (*)\n                            </Form.Label>\n                                <Col sm={10}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Descripcion\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Descripcion : ''} onChange={handlerOnChange} /> */}\n\n                                    <TextBox\n                                        defaultValue={presupuestoN.Descripcion}\n                                        value={presupuestoN.Descripcion}\n                                        onValueChanged={CambiaDescripcion}\n                                    //readOnly={true}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Descripcion es requerida\" />\n                                    </Validator>\n                                    </TextBox>\n                                </Col>\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formCliente\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Cliente (*)\n                            </Form.Label>\n                                <Col sm={2}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"ID Cliente\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodCliente : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodCliente}\n                                        value={presupuestoN.CodCliente}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaCodigoCliente}\n                                    //readOnly={true}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Cliente es requerido\" />\n                                    </Validator>\n                                    </TextBox>                                         \n                                </Col>\n                                <Col sm={8}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Cliente\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Cliente : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.Cliente}\n                                        value={presupuestoN.Cliente}\n                                        readOnly={true}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Cliente es requerido\" />\n                                    </Validator>\n                                    </TextBox>                                         \n\n\n                                </Col>\n\n                                <Col sm={1}>\n                                    <Button1 variant=\"outline-info\" height=\"35px\" onClick={() => {\n                                        //if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n                                            setShow(true);\n                                            //dispatch(selectCLIENTES('', ''));\n                                        /*} else {\n                                            Swal.fire({\n                                                title: 'Error!',\n                                                text: 'No tiene un Presupuesto seleccionado',\n                                                icon: 'error',\n                                                confirmButtonText: 'Ok'\n                                            })\n                                        }*/\n                                    }}>...</Button1>\n                                    {/* <Button variant=\"outline-info\"><i class=\"fas fa-binoculars\"></i></Button> */}\n                                </Col>\n\n                            </Form.Group>\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formGeograqfica\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Ubicación Geográfica (*)\n                            </Form.Label>\n                                <Col sm={2}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"ID Ubicación\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodLugar : ''} onChange={handlerOnChange} /> */}\n\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodLugar}\n                                        value={presupuestoN.CodLugar}\n                                        readOnly={true}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Ubicación es requerida\" />\n                                    </Validator>\n                                    </TextBox>                                         \n\n                                </Col>\n                                <Col sm={7}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Ubicación\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].UbicacionGeografica : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.UbicacionGeografica}\n                                        value={presupuestoN.UbicacionGeografica}\n                                        readOnly={true}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Ubicación es requerida\" />\n                                    </Validator>\n                                    </TextBox>                                         \n\n                                </Col>\n\n                                <Col sm={1}>\n                                    <Button1 variant=\"outline-info\" height=\"35px\" onClick={() => {\n                                        //if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n                                            setShowUb(true); /*dispatch(limpiaUbicaciones());*/ dispatch(selectUBICACIONES('','20','1', ''));\n                                        /*} else {\n                                            Swal.fire({\n                                                title: 'Error!',\n                                                text: 'No tiene un Presupuesto seleccionado',\n                                                icon: 'error',\n                                                confirmButtonText: 'Ok'\n                                            })\n                                        }*/\n\n                                    }}>...</Button1>\n                                    {/* <Button variant=\"outline-info\"><i class=\"fas fa-binoculars\"></i></Button> */}\n                                </Col>\n\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formDF\">\n                                <Form.Label column sm={10}>\n\n                                </Form.Label>\n\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formFecha\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Fecha\n                            </Form.Label>\n                                <Col sm={2}>\n                                    {/* <Form.Control type=\"Date\" placeholder=\"Fecha\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? (proyects.DatosPresupuesto[0].Fecha).substring(0, 10) : ''} onChange={handlerOnChange} /> */}\n\n                                    <DateBox\n                                        //defaultValue={this.now}\n                                        defaultValue={presupuestoN.Fecha}\n                                        value={presupuestoN.Fecha}\n                                        //value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? (proyects.DatosPresupuesto[0].Fecha).substring(0, 10) : ''}\n                                        onValueChanged={onCurrentValueChanged}\n                                        type=\"date\" />\n\n\n                                </Col>\n                                <Form.Label column sm={1} style={{ fontSize: titulos, textAlign:'right' }}>\n                                    Histórico\n                                    </Form.Label>\n\n                                <Col sm={3}>\n\n                                    {/* <SelectBox items={historicos}\n                                        defaultValue={historicoSel}\n                                        value={historicoSel}\n                                    /> */}\n\n                                    <TextBox\n                                        defaultValue={presupuestoN.HistoricoPrecios}\n                                        value={presupuestoN.HistoricoPrecios}\n                                        //readOnly={true}\n                                    />\n\n                                    {/* <InputGroup className=\"mb-1\">\n                                        <FormControl aria-label=\"\" value={historicoSel} />\n                                        <DropdownButton\n                                            variant=\"outline-secondary\"\n                                            title=\"\"\n                                            id=\"input-group-dropdown-2\"\n                                            align=\"end\"\n                                        >\n                                            {\n                                                historicos.map((ff) => {\n                                                    return (<Dropdown.Item >{ff}</Dropdown.Item>)\n                                                }\n                                                )\n\n                                            }\n                                        </DropdownButton>\n                                    </InputGroup> */}\n                                </Col>\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos, textAlign:'right' }}>\n                                    Plazo\n                            </Form.Label>\n\n                                <Col sm={2} style={{ fontSize: { titulos } }}>\n                                    {/* <Form.Control type=\"Text\" placeholder=\"Plazo\" style={{ textAlign: 'right' }} value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].Plazo) : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.Plazo}\n                                        value={presupuestoN.Plazo}\n                                        rtlEnabled={true}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaPlazo}\n                                        onFocusOut={()=>{\n                                            if (presupuestoN.Plazo.trim()===''){\n                                                setPresupuestoN( (state) => ({...state,Plazo:'0'}));\n                                            }\n                                        }}\n                                    //readOnly={true}\n                                    />\n                                </Col>\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    días\n                            </Form.Label>\n\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formJornada\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Jornada diaria\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Text\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].Jornada) : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                            //mask=\"000.00000\"\n                                            /*maskRules={ReglaNumerica}\n                                            maskInvalidMessage=\"La jornada debe ser numerica\"\n                                            useMaskedValue={true}*/\n                                            defaultValue={presupuestoN.Jornada}\n                                            value={presupuestoN.Jornada}\n                                            rtlEnabled={true}\n                                            valueChangeEvent=\"keyup\"\n                                            onValueChanged={CambiaJornada}\n                                            onFocusOut={()=>{\n                                                if (presupuestoN.Jornada.trim()===''){\n                                                    setPresupuestoN( (state) => ({...state,Jornada:'0.00'}));\n                                                }\n                                            }}\n                                    //readOnly={true}\n                                    >\n                                    </TextBox>\n                                </Col>\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    días\n                            </Form.Label>\n\n\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos, textAlign:'right' }}>\n                                    Semanal\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Text\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].JornadaSemana) : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.JornadaSemana}\n                                        value={presupuestoN.JornadaSemana}\n                                        rtlEnabled={true}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaJornadaSemana}\n                                        onFocusOut={()=>{\n                                            if (presupuestoN.JornadaSemana.trim()===''){\n                                                setPresupuestoN( (state) => ({...state,JornadaSemana:'0.00'}));\n                                            }\n                                        }}\n\n                                    //readOnly={true}\n                                    />\n\n                                </Col>\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    horas\n                            </Form.Label>\n\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos, textAlign:'right' }}>\n                                    Mensual\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Text\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].JornadaMes) : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.JornadaMes}\n                                        value={presupuestoN.JornadaMes}\n                                        rtlEnabled={true}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaJornadaMes}\n                                        onFocusOut={()=>{\n                                            if (presupuestoN.JornadaMes.trim()===''){\n                                                setPresupuestoN( (state) => ({...state,JornadaMes:'0.00'}));\n                                            }\n                                        }}\n\n                                    //readOnly={true}\n                                    />\n                                </Col>\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    horas\n                            </Form.Label>\n\n                                <Form.Label column sm={1} style={{ fontSize: titulos, textAlign:'right' }}>\n                                    Año\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Text\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].JornadaAno) : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.JornadaAno}\n                                        value={presupuestoN.JornadaAno}\n                                        rtlEnabled={true}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaJornadaAno}\n                                        onFocusOut={()=>{\n                                            if (presupuestoN.JornadaAno.trim()===''){\n                                                setPresupuestoN( (state) => ({...state,JornadaAno:'0.00'}));\n                                            }\n                                        }}\n\n                                    //readOnly={true}\n                                    />\n                                </Col>\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    horas\n                            </Form.Label>\n\n\n                            </Form.Group>\n\n\n                            <Form.Group as={Row} className=\"mb-1\" controlId=\"formMoneda\">\n                                <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                    Moneda Principal (*)\n                            </Form.Label>\n                                <Col sm={1}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"ID Moneda\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodMoneda : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.CodMoneda}\n                                        value={presupuestoN.CodMoneda}\n                                        valueChangeEvent=\"keyup\"\n                                        onValueChanged={CambiaCodigoMoneda}\n                                        /*onFocusOut={()=>{\n                                            if (presupuestoN.Plazo.trim()===''){\n                                                setPresupuestoN( (state) => ({...state,Plazo:'0'}));\n                                            }\n                                        }}*/\n                                    //readOnly={true}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Moneda es requerida\" />\n                                    </Validator>\n                                    </TextBox>                                         \n\n                                </Col>\n                                <Col sm={4}>\n                                    {/* <Form.Control type=\"Input\" placeholder=\"Modeda\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].Moneda : ''} onChange={handlerOnChange} /> */}\n                                    <TextBox\n                                        defaultValue={presupuestoN.Moneda }\n                                        value={presupuestoN.Moneda}\n                                        //stylingMode={'underlined'}                                    \n                                        readOnly={true}\n                                    >\n                                    <Validator>\n                                        <RequiredRule message=\"Moneda es requerida\"/>\n                                    </Validator>\n                                    </TextBox>                                         \n\n                                </Col>\n\n                                <Col sm={1}>\n                                    <Button1 variant=\"outline-info\" height=\"35px\" onClick={() => {\n                                        //if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n                                            setShowMnd(true);\n                                            //dispatch(selectMONEDAS(''));\n                                        /*} else {\n                                            Swal.fire({\n                                                title: 'Error!',\n                                                text: 'No tiene un Presupuesto seleccionado',\n                                                icon: 'error',\n                                                confirmButtonText: 'Ok'\n                                            })\n                                        }*/\n                                    }}>...</Button1>\n                                    {/* <Button variant=\"outline-info\"><i class=\"fas fa-binoculars\"></i></Button> */}\n                                </Col>\n\n                            </Form.Group>\n\n\n\n                            <Card style={{ height: '100%', width: '100%', marginTop: '25px' }}>\n                                <Card.Header style={{ height: '38px' }}> <div style={{ marginTop: '-5px' }}>Moneda Principal ({presupuestoN.SimboloMoneda}) </div> </Card.Header>\n                                <Card.Body>\n\n                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formPrt2\">\n\n\n                                        <Col sm={6}>\n                                            <Card style={{ height: '100%' }}>\n                                                <Card.Header style={{ height: '30px' }}> <p style={{ marginTop: '-5px' }}>Presupuesto Base </p></Card.Header>\n                                                <Card.Body column sm={5} >\n                                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formCD1\">\n                                                        <Form.Label column sm={1}>\n                                                        </Form.Label>\n\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            C.D.\n                                                </Form.Label>\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoDirectoBase1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoDirectoBase1}\n                                                                value={presupuestoN.CostoDirectoBase1}\n                                                                rtlEnabled={true}\n                                                                valueChangeEvent=\"keyup\"\n                                                                onValueChanged={CambiaCDBase}\n                                                                onFocusOut={()=>{\n                                                                    if (presupuestoN.CostoDirectoBase1.trim()===''){\n                                                                        setPresupuestoN( (state) => ({...state,CostoDirectoBase1:'0.00'}));\n                                                                        let total=parseFloat(presupuestoN.CostoIndirectoBase1);\n                                                                        let total1=roundN(total,2);\n                                                                        setPresupuestoN( (state) => ({...state, CostoBase1:total1}));                                                                        \n                                                                    }\n                                                                }}\n                                                                //readOnly={true}\n                                                            />\n                                                        </Col>\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            C.I.\n                                                </Form.Label>\n\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoIndirectoBase1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoIndirectoBase1}\n                                                                value={presupuestoN.CostoIndirectoBase1}\n                                                                rtlEnabled={true}\n                                                                valueChangeEvent=\"keyup\"\n                                                                onValueChanged={CambiaCIBase}\n                                                                onFocusOut={()=>{\n                                                                    if (presupuestoN.CostoIndirectoBase1.trim()===''){\n                                                                        setPresupuestoN( (state) => ({...state,CostoIndirectoBase1:'0.00'}));\n                                                                        let total=parseFloat(presupuestoN.CostoDirectoBase1);\n                                                                        let total1=roundN(total,2);\n                                                                        setPresupuestoN( (state) => ({...state, CostoBase1:total1}));                                                                        \n\n                                                                    }\n                                                                }}\n\n                                                               // readOnly={true}\n                                                            />\n                                                        </Col>\n                                                    </Form.Group>\n\n                                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formTot\">\n                                                        <Form.Label column sm={3}>\n\n                                                        </Form.Label>\n                                                        <Col sm={3}>\n\n                                                        </Col>\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            Total\n                                                </Form.Label>\n\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoBase1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoBase1}\n                                                                value={presupuestoN.CostoBase1}\n                                                                rtlEnabled={true}\n                                                                readOnly={true}\n                                                            />\n                                                        </Col>\n                                                    </Form.Group>\n                                                </Card.Body>\n                                            </Card>\n                                        </Col>\n\n\n                                        <Col sm={6}>\n                                            <Card style={{ height: '100%' }}>\n                                                <Card.Header style={{ height: '30px' }}> <p style={{ marginTop: '-5px' }}>Presupuesto Oferta </p></Card.Header>\n                                                <Card.Body column sm={5} >\n                                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formOferta\">\n                                                        <Form.Label column sm={1}>\n                                                        </Form.Label>\n\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            C.D.\n                                                </Form.Label>\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoDirectoOferta1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoDirectoOferta1}\n                                                                value={presupuestoN.CostoDirectoOferta1}\n                                                                rtlEnabled={true}\n                                                                readOnly={true}\n                                                            />\n\n                                                        </Col>\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            C.I.\n                                                </Form.Label>\n\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoIndirectoOferta1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoIndirectoOferta1}\n                                                                value={presupuestoN.CostoIndirectoOferta1}\n                                                                rtlEnabled={true}\n                                                                readOnly={true}\n                                                            />\n\n                                                        </Col>\n                                                    </Form.Group>\n\n                                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formVOferta\">\n                                                        <Form.Label column sm={3}>\n\n                                                        </Form.Label>\n                                                        <Col sm={3}>\n\n                                                        </Col>\n                                                        <Form.Label column sm={2} style={{ fontSize: titulos, textAlign:'right' }}>\n                                                            Total\n                                                </Form.Label>\n\n                                                        <Col sm={3}>\n                                                            {/* <Form.Control type=\"Input\" style={{ textAlign: 'right' }} placeholder=\"0.00\" value={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? formatNumber(proyects.DatosPresupuesto[0].CostoOferta1) : ''} onChange={handlerOnChange} /> */}\n                                                            <TextBox\n                                                                defaultValue={presupuestoN.CostoOferta1}\n                                                                value={presupuestoN.CostoOferta1}\n                                                                rtlEnabled={true}\n                                                                readOnly={true}\n                                                            />\n\n                                                        </Col>\n                                                        \n\n                                                    </Form.Group>\n                                                    \n                                                </Card.Body>\n                                                \n                                            </Card>\n                                        </Col>\n                                        \n                                    </Form.Group>\n                                    \n                                </Card.Body>\n                                \n                            </Card>\n                           \n\n\n                            {/* <Card style={{ height: '100%', width: '100%' }}>\n                                \n                                <Card.Body>\n                                    <Form.Group as={Row} className=\"mb-1\" controlId=\"formGridSub\">\n\n                                        <Col sm={12}>\n                                            <Table\n                                                striped\n                                                bordered\n                                                hover\n                                                size=\"sm\"\n                                                className=\"mt-0 bg-white\"\n                                            >\n                                                <thead>\n                                                    <tr>\n                                                        <th>Codigo</th>\n                                                        <th>Alterno</th>\n                                                        <th>Descripcion</th>\n                                                        <th>Cantidad</th>\n                                                        <th>Costo Oferta</th>\n                                                        <th>Modelo Asignado</th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody>\n                                                    <>\n                                                        {\n\n                                                            drawerItems()\n                                                        }\n                                                    </>\n\n\n                                                </tbody>\n                                            </Table>\n\n\n\n                                        </Col>\n                                    </Form.Group>\n                                </Card.Body>\n                            </Card> */}\n\n\n\n\n                            <Form.Group as={Row} className=\"mb-3\">\n                                    <ValidationSummary id=\"summary\" style={{ position:'relative', marginLeft:'45%'}}></ValidationSummary>                               \n                            </Form.Group>\n                        </Form>\n\n\n                    </Card.Body>\n                </Card>)\n                :''\n                \n            }\n\n        </div>\n    )\n}\n\nexport default DatosGeneralesAdd\n","import { useEffect, useState } from \"react\";\nimport { cleanDataChart, cleanDataChart1, selectPc, navigationTree, navigationTreePC, selectItems, cambiaSeleccion, SeleccionaSub, selectMODELOS, LimpiarSubPres, SelectUrn, cleanDataChart22, cleanDataChartAPU, eliminaGrupo1, eliminarGrupo, selectAPUS, agregaFavorito, eliminaFavorito, eliminarSubPresupuesto, eliminaGrupoSub } from '../actions/proyects.actions';\nimport { alpha, makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"../config/axios\";\nimport Button1 from 'devextreme-react/button';\n\nimport subprojectIcon from '../assets/img/icons/subproject.png';\nimport projectIcon from '../assets/img/icons/project.png';\n//import projectIcon44 from '../assets/img/icons/project4.gif';\nimport projectIcon44 from '../assets/img/icons/project1.png';\n//import projectIcon1 from '../assets/img/icons/project.png';\nimport projectIcon1 from '../assets/img/icons/aproject.png';\n\nimport Swal from 'sweetalert2'\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { red } from \"@material-ui/core/colors\";\nimport { ContextMenu } from \"devextreme-react\";\nimport notify from 'devextreme/ui/notify';\nimport DatosGenerales from \"../views/DatosGenerales\";\nimport DatosGrupoAdd from \"../views/DatosGrupoAdd\";\nimport DatosSubAdd from \"../views/DatosSubAdd\";\nimport { Button } from \"react-bootstrap\";\nimport BuscaModelo from \"./BuscaModelo\";\nimport DatosGeneralesAdd from \"../views/DatosGeneralesAdd\";\n\n\nconst opcMenuInicio = [\n/*\t{\n\t\ttext: 'Nuevo',\n\t\titems: [\n\t\t\t{ text: 'Presupuesto' },\n\t\t\t{ text: 'SubPresupuesto' }]\n\t},\n\t{ text: 'Datos Generales' },\n\t{ text: 'Asignar Modelo' }*/\n];\n\n\nfunction MinusSquare1(props) {\n\treturn (\n\t\t<div className=\"d-flex\">\n\t\t\t{/* <ion-icon name=\"chevron-down-outline\"></ion-icon> */}\n\t\t\t<ion-icon name=\"caret-down-outline\" style={{width:'12px', color: '#333337'}}></ion-icon>\n\t\t\t{/* <ion-icon name=\"add-outline\" style={{width:'12px', color: '#333337'}}></ion-icon> */}\n\t\t\t<img src={projectIcon44} alt=\"icons\" width=\"18\" style={{ marginRight: 10 }} {...props} />\n\t\t</div>\n\t);\n}\n\nfunction MinusSquare2(props) {\n\treturn (\n\t\t<div className=\"d-flex\">\n\t\t\t{/* <ion-icon name=\"chevron-down-outline\"></ion-icon> */}\n\t\t\t<ion-icon name=\"caret-forward-outline\" style={{width:'12px', color: '#333337'}}></ion-icon>\n\t\t\t{/* <ion-icon name=\"add-outline\" style={{width:'12px', color: '#333337'}}></ion-icon> */}\n\t\t\t<img src={projectIcon44} alt=\"icons\" width=\"18\" style={{ marginRight: 10 }} {...props} />\n\t\t</div>\n\t);\n}\n\nfunction PlusSquare1(props) {\n\treturn (\n\t\t<div className=\"d-flex\">\n\t\t\t{/* <ion-icon name=\"chevron-forward-outline\"></ion-icon> */}\n\t\t\t{/* <ion-icon name=\"caret-forward-outline\" style={{width:'12px', color: '#333337'}}></ion-icon> */}\n\t\t\t{/* <img src={projectIcon44} alt=\"icons\" width=\"18\" style={{ marginRight: 12 }} {...props} /> */}\n\t\t\t<img src={projectIcon} alt=\"icons\" width=\"18\" style={{ marginRight: 15 }} {...props} />\n\t\t</div>\n\t);\n}\n\nfunction MinusSquare(props) {\n\treturn (\n\t\t<div className=\"d-flex\">\n\t\t\t{/* <ion-icon name=\"chevron-down-outline\"></ion-icon> */}\n\t\t\t<ion-icon name=\"caret-down-outline\" style={{width:'12px', color: '#333337'}}></ion-icon>\n\t\t\t<img src={projectIcon1} alt=\"icons\" width=\"18\" style={{ marginRight: 15 }} {...props} />\n\t\t</div>\n\t);\n}\n\nfunction PlusSquare(props) {\n\treturn (\n\t\t<div className=\"d-flex\">\n\t\t\t{/* <ion-icon name=\"chevron-forward-outline\"></ion-icon> */}\n\t\t\t<ion-icon name=\"caret-forward-outline\" style={{width:'12px', color: '#333337'}}></ion-icon>\n\t\t\t<img src={projectIcon} alt=\"icons\" width=\"18\" style={{ marginRight: 15 }} {...props} />\n\n\t\t</div>\n\t);\n}\n\nfunction CloseSquare(props) {\n\treturn (\n\t\t<img src={subprojectIcon} width=\"18\" alt=\"icons\" style={{ marginRight: 5 }} {...props} />\n\t);\n}\n\nconst StyledTreeItem = withStyles((theme) => ({\n\ticonContainer: {\n\t\t\"& .close\": {\n\t\t\topacity: 0.25,\n\t\t},\n\t},\n\tgroup: {\n\t\t//font: \"16px roboto, sans-serif\",\n\t\tfont: \"12px Roboto, sans-serif !important\",\n\t\tcolor:'#333337',\n\t\tmarginLeft: 12,\n\t\tpaddingLeft: 3,\n\t\tborderLeft: `0.01px dashed ${alpha(theme.palette.text.primary, 0.1)}`,\n\t},\n}))((props) => <TreeItem {...props} />);\n\nconst useStyles = makeStyles({\n\troot: {\n\t\t//font: \"16px roboto, sans-serif\",\n\t\tfont: \"10px Roboto, sans-serif !important\",\n\t\tcolor:'#333337',\n\t\tmarginTop: 10,\n\t\tmarginLeft: 12,\n\t\theight: 264,\n\t\tflexGrow: 1,\n\t\tmaxWidth: 700,\n\t},\n});\n\nconst TreeCP = ({ levelStart = 1, idProject, filtrado, Accion, estado, setEstado }) => {\n\tlet history = useHistory();\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\n    const [showMdl, setShowMdl] = useState(false);\n    const [subseleccionado, setSubSeleccionado] = useState(null);\n\n\t// const [loading, setLoading] = useState(true);\n\tconst [allLevels, setAllLevels] = useState(null)\n\n\tconst [opcMenu, setOpcMenu] = useState(opcMenuInicio)\n\tconst [ancho, setAncho] = useState('90vw')\n\n\tconst [itemSelected, setItemSelected] = useState('')\n\tconst [itemSelected1, setItemSelected1] = useState('')\n\n\tconst [cambioSub, setCambioSub] = useState(false)\n\n\tconst [tipoSeleccion, setTipoSeleccion] = useState('')\n\n\tconst [lastLevel, setLastLevel] = useState(0);\n\t\n\tconst [nivel, setNivel] = useState(1);\n\n\tconst [allLevels1, setAllLevels1] = useState(null)\n\n\t//const [lastLevel1, setLastLevel1] = useState(0);\n\n\n\tconst [arbolseleccionado, SetArbolSeleccionado] = useState({\n\t\tCodPresupuesto:'',\n\t\tDescripcion:'',\n\t\tNivel:0,\n\t});\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [accion, setAccion] = useState(1);\n\n\tconst [datosgenerales, setDatosGenerales] = useState(false);\n\tconst [datosgeneralessub, setDatosGeneralesSub] = useState(false);\n\n\tconst [nuevoPres, setNuevoPres] = useState(false);\n\tconst [nuevoGrupo, setNuevoGrupo] = useState(false);\n\n\tconst [nuevoSubPres, setNuevoSubPres] = useState(false);\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst proyects = useSelector((state) => state.proyects);\n\t//alert(' inicializando treeeee' );\n\t//const subproyects = useSelector((state) => state.subproyects);\n\n\n\tconst [abierto, setabierto] = useState(false);\n\n\tconst orderTree = (tree) => {\n\t\tlet orderedLevels = {};\n\t\tif (!tree) return;\n\t\tfor (let i = 0; i < tree.length; i++) {\n\t\t\tconst item = tree[i];\n\t\t\tif (item.Nivel >= levelStart) {\n\t\t\t\tif (!orderedLevels[item.Nivel])\n\t\t\t\t\torderedLevels[item.Nivel] = []\n\t\t\t\tif (item.Nivel > lastLevel)\n\t\t\t\t\tsetLastLevel(item.Nivel)\n\t\t\t\torderedLevels[item.Nivel].push({ ...item, open: false })\n\t\t\t}\n\t\t}\n\t\tsetAllLevels(orderedLevels);\n\t}\n\n\tconst orderTree1 = (tree) => {\n\t\tlet orderedLevels1 = {};\n\t\torderedLevels1[0] = [];\n\t\tfor (let i = 0; i < tree.length; i++) {\n\t\t\tconst item = tree[i];\n\t\t\torderedLevels1[0].push({ ...item, open: false })\n\t\t}\n\t\tsetAllLevels1(orderedLevels1);\n\t}\n\n\tuseEffect(() => {\n\t\tsetLoading(false);\n\t\torderTree(proyects.treePartyControl);\n\t\tdispatch(selectMODELOS(''));\n\t}, [proyects.treePartyControl], [])\n\n\n\tuseEffect(() => {\n\t\t//alert()\n\t\tsetLoading(false);\n\t\tif (proyects.treeSubControl === undefined) return;\n\t\torderTree1(proyects.treeSubControl);\n\t}, [proyects.treeSubControl], [])\n\n\n\tconst changeItem = (pc, newTitle) => {\n\t\tsetabierto(!abierto);\n\t\tSetArbolSeleccionado({\n\t\t\tCodPresupuesto: pc.CodPresupuesto,\n\t\t\tDescripcion: pc.Descripcion,\n\t\t\tNivel: pc.Nivel,\n\t\t})\n\t\tif (pc.Nivel === 1 || pc.Nivel === 2) {\n\t\t\tdispatch(cleanDataChart());\n\t\t\tdispatch(cleanDataChart22());\n\t\t\tdispatch(cleanDataChartAPU());\n\t\t\tdispatch(SelectUrn(''));\n\t\t}\n\t\t//alert(pc.CodPresupuesto + \" \" + newTitle + ' ' + pc.Nivel);\n\n\t\tif (pc.Nivel === 1) {\n\t\t\tsetOpcMenu([\n\t\t\t\t{\n\t\t\t\t\ttext: 'Nuevo', icon: 'dx-icon-add',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ text: 'Item de Nivel1', icon: 'dx-icon-add' },\n\t\t\t\t\t\t{ text: 'Item de Nivel2', icon: 'dx-icon-add' },\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{ text: 'Cambiar Nombre', icon: 'dx-icon-doesnotcontain' },\n\t\t\t\t{ text: 'Eliminar', icon: 'dx-icon-remove' },\n\n\t\t\t])\n\n\t\t}\n\n\t\tif (pc.Nivel === 2) {\n\t\t\tsetOpcMenu([\n\t\t\t\t{\n\t\t\t\t\ttext: 'Nuevo', icon: 'dx-icon-add',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ text: 'Presupuesto', icon: 'dx-icon-add' },\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{ text: 'Cambiar Nombre', icon: 'dx-icon-doesnotcontain' },\n\t\t\t\t{ text: 'Eliminar', icon: 'dx-icon-remove' },\n\t\t\t])\n\n\t\t}\n\n\n\t\tif (pc.Nivel === 3) {\n\t\t\tlet fav = null;\n\t\t\tfav = proyects.dataFavoritos.find((filtro1) => filtro1.CodPresupuesto === pc.CodPresupuesto);\n\t\t\tconsole.log(proyects.dataFavoritos)\n\t\t\tconsole.log('este es fav', fav)\n\t\t\tsetOpcMenu([\n\t\t\t\t{\n\t\t\t\t\ttext: 'Nuevo', icon: 'dx-icon-add',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ text: 'SubPresupuesto', icon: 'dx-icon-insertrowbelow' }]\n\t\t\t\t},\n\n\t\t\t\t{ text: 'Datos Generales', icon: 'dx-icon-verticalaligncenter' },\n\t\t\t\t{ text: 'Mover a papelera', icon: 'dx-icon-trash' },\n\t\t\t\t{ text: !fav ? 'Agregar a Favoritos' : 'Quitar de Favoritos', icon: 'dx-icon-favorites' },\n\t\t\t\t{\n\t\t\t\t\ttext: 'Mover a ', icon: 'dx-icon-movetofolder',\n\t\t\t\t\titems: [\n\t\t\t\t\t\t{ text: 'Escritorio', icon: 'dx-icon-home' },\n\t\t\t\t\t\t{ text: 'Obras ganadas', icon: 'dx-icon-increaseindent' },\n\t\t\t\t\t\t{ text: 'Bandeja', icon: 'dx-icon-increaseindent' },\n\t\t\t\t\t\t{ text: 'Archivo central', icon: 'dx-icon-increaseindent' },\n\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t])\n\n\n\t\t}\n\n\t\tif (tipoSeleccion === 'Presupuesto' && itemSelected === pc.CodPresupuesto) return;\n\n\t\tdispatch(cleanDataChartAPU());\n\t\tsetTipoSeleccion('Presupuesto');\n\t\tsetItemSelected(pc.CodPresupuesto);\n\t\tDatosPresupuesto(pc.CodPresupuesto);\n\t\tsetTimeout(() => {\n\t\t\tdispatch(SeleccionaSub(''))\n\t\t\tdispatch(cambiaSeleccion(1));\n\t\t\tdispatch(navigationTreePC(newTitle))\n\t\t\tSubPresupuestos(pc.CodPresupuesto);\n\t\t\tdispatch(LimpiarSubPres());\n\t\t\tsetCambioSub(false);\n\t\t}, 200);\n\n\n\t\tif (pc.Nivel === 3) {\n\t\t\tlet timerInterval\n\t\t\tSwal.fire({\n\t\t\t\ttitle: 'Cargando...!',\n\t\t\t\thtml: 'Cargando datos de Presupuestos <b></b> .',\n\t\t\t\ttimer: 700,\n\t\t\t\ttimerProgressBar: true,\n\t\t\t\tdidOpen: () => {\n\t\t\t\t\tSwal.showLoading()\n\t\t\t\t\tconst b = Swal.getHtmlContainer().querySelector('b')\n\t\t\t\t\ttimerInterval = setInterval(() => {\n\t\t\t\t\t\tb.textContent = Swal.getTimerLeft()\n\t\t\t\t\t}, 400)\n\t\t\t\t},\n\t\t\t\twillClose: () => {\n\t\t\t\t\tclearInterval(timerInterval)\n\t\t\t\t}\n\t\t\t}).then((result) => {\n\t\t\t\t/* Read more about handling dismissals below */\n\t\t\t\tif (result.dismiss === Swal.DismissReason.timer) {\n\t\t\t\t\t//console.log('I was closed by the timer')\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t}\n\n\n\tconst changeItem1 = (pc, newTitle, idpadre) => {\n\t\tsetOpcMenu([\n\t\t\t{ text: 'Datos Generales', icon:'dx-icon-verticalaligncenter' },\n\t\t\t{ text: 'Asignar Modelo', icon:'dx-icon-parentfolder' },\n\t\t\t{ text: 'Eliminar ..', icon:'dx-icon-remove' },\n\t\t\t{ text: 'Eliminar partidas del subPresupuesto', icon:'dx-icon-remove' }\n\t\t])\n\n\t\tif (tipoSeleccion === 'SubPresupuesto' && itemSelected === idpadre && itemSelected1 === pc.CodSubpresupuesto) return;\n\t\tlet esperar = 0;\n\t\t//if (itemSelected!==idpadre) esperar=10000;\n\t\t\n\t\tdispatch(cleanDataChart22());\n\t\tdispatch(selectAPUS('', '', '', ''));\n\t\t\n\t\tsetSubSeleccionado(pc);\n\t\t\n\t\tif (itemSelected === idpadre) \n\t\tsetTimeout(() => {\n\n\t\t\t/*console.log('ESTOS SON MIS SUBPRESUPUESTOS');\n\t\t\tconsole.log(proyects.treeSubControl);\n\t\t\tconsole.log('ESTOS SON MIS modelos');\n\t\t\tconsole.log(proyects.DataModelos);*/\n\n\t\t\tlet IdModelo = '';\n\t\t\tfor (let i = 0; i < proyects.treeSubControl.length; i++) {\n\t\t\t\tif (pc.CodSubpresupuesto === proyects.treeSubControl[i].CodSubpresupuesto) {\n\t\t\t\t\tIdModelo = proyects.treeSubControl[i].CodModelo;\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tlet UrnModelo = '';\n\t\t\tif (IdModelo && IdModelo !== '') {\n\t\t\t\tfor (let i = 0; i < proyects.DataModelos.length; i++) {\n\t\t\t\t\tif (IdModelo === proyects.DataModelos[i].CodPlano) {\n\t\t\t\t\t\tUrnModelo = proyects.DataModelos[i].UrnWeb;\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\tdispatch(SelectUrn(UrnModelo));\n\t\t\t//console.log('Este es esperar' + esperar)\n\t\t\t//dispatch(SelectUrn(''));\n\t\t}, 150);\n\n\t\t\t\t\n\t\tdispatch(navigationTreePC(newTitle))\n\n\t\tsetItemSelected(idpadre);\n\t\tsetItemSelected1(pc.CodSubpresupuesto);\n\n\t\tDatosPresupuesto(idpadre);\n\n\t\tsetTimeout(() => {\n\t\t\tif (itemSelected !== idpadre) {\n\t\t\t\tSubPresupuestos(idpadre);\n\t\t\t}\n\t\t\t//setItemSelected(pc.CodPresupuesto);\n\t\t\tsetTipoSeleccion('SubPresupuesto');\n\t\t\tdispatch(cambiaSeleccion(2));\n\t\t\tdispatch(SeleccionaSub(pc.CodSubpresupuesto))\n\t\t\t//SubPresupuestos(idpadre);\n\t\t\t//dispatch(SeleccionaSub(pc.CodSubpresupuesto))\t\t\t\n\t\t\tdispatch(selectItems(idpadre, pc.CodSubpresupuesto, ''));\n\t\t\tdispatch(cleanDataChart());\n\t\t}, 100);\n\n\t\t\n\t\t\tlet timerInterval\n\t\t\tSwal.fire({\n\t\t\ttitle: 'Cargando...!',\n\t\t\thtml: 'Cargando datos de SubPresupuesto <b></b> .',\n\t\t\ttimer: 200,\n\t\t\ttimerProgressBar: true,\n\t\t\tdidOpen: () => {\n\t\t\t\tSwal.showLoading()\n\t\t\t\tconst b = Swal.getHtmlContainer().querySelector('b')\n\t\t\t\ttimerInterval = setInterval(() => {\n\t\t\t\tb.textContent = Swal.getTimerLeft()\n\t\t\t\t}, 100)\n\t\t\t},\n\t\t\twillClose: () => {\n\t\t\t\tclearInterval(timerInterval)\n\t\t\t}\n\t\t\t}).then((result) => {\n\t\t\t/* Read more about handling dismissals below */\n\t\t\tif (result.dismiss === Swal.DismissReason.timer) {\n\t\t\t\t//console.log('I was closed by the timer')\n\t\t\t}\n\t\t\t})\n\t\n\n\t}\n\n\n\tuseEffect(() => {\n\t\t//alert();\n\t\tif (!proyects.treeSubControl) return;\n\t\tif (!proyects.DataModelos) {\n\t\t\tdispatch(selectMODELOS(''));\n\t\t\t//alert('');\n\t\t}\n\t\t//if (tipoSeleccion!=='SubPresupuesto') return;\n\t\t//alert('ME LLEGAN LOS SUBS');\n\t\tlet encontro=0;\n\t\tfor (let i = 0; i < proyects.treeSubControl.length; i++) {\n\t\t\tconst reg = proyects.DataModelos.find((filtro1) => filtro1.CodPlano === proyects.treeSubControl[i].CodModelo);\n\t\t\tif (reg) {\n\t\t\t\tproyects.treeSubControl[i].NombreModelo = reg.NombreArchivoRvt;\n\t\t\t\tproyects.treeSubControl[i].UrnWeb = reg.UrnWeb;\n\t\t\t\t\n\t\t\t\tif (tipoSeleccion==='SubPresupuesto')\n\t\t\t\tif (proyects.treeSubControl[i].CodSubpresupuesto===itemSelected1){\n\t\t\t\t\tdispatch(SelectUrn(reg.UrnWeb));\n\t\t\t\t\tencontro=1;\n\t\t\t\t\t//return;\n\t\t\t\t}\n\t\t\t} else{\n\t\t\t\tproyects.treeSubControl[i].NombreModelo = null;\n\t\t\t\tproyects.treeSubControl[i].UrnWeb = '';\n\t\t\t\t//dispatch(SelectUrn(''));\n\t\t\t}\n\t\t}\n\t\tif (tipoSeleccion==='SubPresupuesto' && encontro===0)\n\t\t\tdispatch(SelectUrn(''));\n\t\t/*console.log('DATOS DE SUBPRESUPUESTOS');\n\t\tconsole.log(proyects.treeSubControl);*/\n\t}, [proyects.treeSubControl])\n\n\n\tconst SubPresupuestos = async (codigoP) => {\n\t\t//alert(codigoP);\t\t\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet connectId = await localStorage.getItem(\"connectionId\");\n\t\t//console.log('connectId desde tree: ' + connectId + company + idProject);\n\t\tif (company && auth.User) {\n\t\t\t//alert(data);\n\t\t\tconst { data } = await axios.post(\n\t\t\t\t\"\",\n\t\t\t\t{\n\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t//ObjectName: `dbo.S10_06_PartidaDeControl_ListarCatalogo '${idProject}'`,\n\t\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_ListarSubpresupuestos '${codigoP}'`,\n\t\t\t\t\tRequestId: \"PARTY_CONTROL1\",\n\t\t\t\t\tSignalRConnectionID: connectId,\n\t\t\t\t\tSecurityUserId: auth.User.UserId, // SecurityUserId obtenido al logear\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tToken: company.Token,\n\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\t\t\t//console.log(' data del response' + data);\n\t\t\treturn '1';\n\t\t\t// console.log(idProject);\n\t\t}\n\n\t}\n\n\t\n\n\tconst DatosPresupuesto = async (codigoP) => {\n\t\t//alert(codigoP);\t\t\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet connectId = await localStorage.getItem(\"connectionId\");\n\t\t//console.log('connectId desde tree: ' + connectId + company + idProject);\n\t\tif (company && auth.User) {\n\t\t\t//alert(data);\n\t\t\tconst { data } = await axios.post(\n\t\t\t\t\"\",\n\t\t\t\t{\n\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t//ObjectName: `dbo.S10_06_PartidaDeControl_ListarCatalogo '${idProject}'`,\n\t\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_LeerRegistro '${codigoP}'`,\n\t\t\t\t\tRequestId: \"LEER_PRESUPUESTO\",\n\t\t\t\t\tSignalRConnectionID: connectId,\n\t\t\t\t\tSecurityUserId: auth.User.UserId, // SecurityUserId obtenido al logear\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tToken: company.Token,\n\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\t\t\t//console.log(' data del response' + data);\n\t\t\treturn '1';\n\t\t\t// console.log(idProject);\n\t\t}\n\n\t}\n\n\tconst agregarFavorito = async (codigoP) => {\n\t\t//alert(codigoP);\t\t\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet connectId = await localStorage.getItem(\"connectionId\");\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log('connectId desde tree: ' + connectId + company + idProject);\n\t\tif (company && auth.User) {\n\t\t\t//alert(data);\n\t\t\tconst { data } = await axios.post(\n\t\t\t\t\"\",\n\t\t\t\t{\n\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t//ObjectName: `dbo.S10_06_PartidaDeControl_ListarCatalogo '${idProject}'`,\n\t\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_AgregarFavorito '${email}','${codigoP}'`,\n\t\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_AgregarFavorito '${'ncortez@s10peru.com'}','${codigoP}'`,\n\t\t\t\t\tRequestId: \"Agregafav\",\n\t\t\t\t\tSignalRConnectionID: connectId,\n\t\t\t\t\tSecurityUserId: auth.User.UserId, // SecurityUserId obtenido al logear\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tToken: company.Token,\n\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\t\t\tconsole.log(`dbo.S10_01_Presupuesto_AgregarFavorito '${email}','${codigoP}'`, data);\n\t\t\t//return '1';\n\t\t\t// console.log(idProject);\n\t\t}\n\n\t}\n\n\tconst quitarFavorito = async (codigoP) => {\n\t\t//alert(codigoP);\t\t\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet connectId = await localStorage.getItem(\"connectionId\");\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log('connectId desde tree: ' + connectId + company + idProject);\n\t\tif (company && auth.User) {\n\t\t\t//alert(data);\n\t\t\tconst { data } = await axios.post(\n\t\t\t\t\"\",\n\t\t\t\t{\n\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t//ObjectName: `dbo.S10_06_PartidaDeControl_ListarCatalogo '${idProject}'`,\n\t\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_AgregarFavorito '${email}','${codigoP}'`,\n\t\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_QuitarFavorito '${'ncortez@s10peru.com'}','${codigoP}'`,\n\t\t\t\t\tRequestId: \"Quitarfav\",\n\t\t\t\t\tSignalRConnectionID: connectId,\n\t\t\t\t\tSecurityUserId: auth.User.UserId, // SecurityUserId obtenido al logear\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tToken: company.Token,\n\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\t\t\tconsole.log(`dbo.S10_01_Presupuesto_QuitarFavorito '${'ncortez@s10peru.com'}','${codigoP}'`, data);\n\t\t\t//return '1';\n\t\t\t// console.log(idProject);\n\t\t}\n\n\t}\n\n\tconst moverCarpeta = async (codigoP, Carpeta) => {\n\t\t//alert(codigoP);\t\t\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet connectId = await localStorage.getItem(\"connectionId\");\n\t\tlet email = localStorage.getItem(\"email\");\n\t\t//console.log('connectId desde tree: ' + connectId + company + idProject);\n\t\tif (company && auth.User) {\n\t\t\t//alert(data);\n\t\t\tconst { data } = await axios.post(\n\t\t\t\t\"\",\n\t\t\t\t{\n\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t//ObjectName: `dbo.S10_06_PartidaDeControl_ListarCatalogo '${idProject}'`,\n\t\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_CambiarCarpeta '${email}','${codigoP}',${Carpeta}`,\n\t\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_CambiarCarpeta '${email}','${codigoP}',${Carpeta}`,\n\t\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_CambiarCarpeta '${'ncortez@s10peru.com'}','${codigoP}',${Carpeta}`,\n\t\t\t\t\tRequestId: \"MoverCarpeta\",\n\t\t\t\t\tSignalRConnectionID: connectId,\n\t\t\t\t\tSecurityUserId: auth.User.UserId, // SecurityUserId obtenido al logear\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tToken: company.Token,\n\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);\n\t\t\tconsole.log(`dbo.S10_01_Presupuesto_CambiarCarpeta '${email}','${codigoP}',${Carpeta}`, data);\n\t\t\t//return '1';\n\t\t\t// console.log(idProject);\n\t\t}\n\n\t}\n\n\n\t  const drawerItems = (level, filtro, parentId = '', parentName = '') => {\n\t\tconst nextLevel = (level + 1);\n\t\t//if (level == 4) {}\n\t\treturn allLevels && allLevels[level]\n\t\t\t? allLevels[level]\n\t\t\t\t//.filter(item => item.Descripcion.indexOf(filtro))\n\t\t\t\t.filter(item => parentId === '' || item.PhantomParentId === parentId)\n\t\t\t\t.map(filter => {\n\t\t\t\t\tconst newTitle = level === 1 ? '' : `${parentName}${filter.Descripcion}`;\n\t\t\t\t\treturn (\t\t\t\t\t\t\n\t\t\t\t\t\tfilter.Nivel !== 3 ?\n\t\t\t\t\t\t<StyledTreeItem\n\t\t\t\t\t\t\tnodeId={filter.CodPresupuesto}\n\t\t\t\t\t\t\tlabel={filter.Descripcion}\t\t\t\t\t\t\t\n\t\t\t\t\t\t\tkey={filter.CodPresupuesto}\n\t\t\t\t\t\t\tonLabelClick={() => changeItem(filter, newTitle)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{(nextLevel === 4\n\t\t\t\t\t\t\t\t? allLevels[nextLevel].filter(item => filter.CodPresupuesto === item.PhantomParentId).map(grupo3 => (\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t<StyledTreeItem\n\t\t\t\t\t\t\t\t\t\ticon={<MinusSquare1 />}\n\t\t\t\t\t\t\t\t\t\tnodeId={grupo3.CodPresupuesto}\n\t\t\t\t\t\t\t\t\t\tlabel={grupo3.Descripcion}\n\t\t\t\t\t\t\t\t\t\tonLabelClick={() => changeItem(grupo3, `${newTitle} ≫ ${grupo3.Descripcion}`)}\n\t\t\t\t\t\t\t\t\t/>\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// </Link>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t: drawerItems(nextLevel, filtro, filter.CodPresupuesto, (level === 1 ? '' : `${newTitle} ≫ `))\n\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t</StyledTreeItem> :\n\t\t\t\t\t\tfilter.open ? <StyledTreeItem\n\t\t\t\t\t\t//icon={<IconoProjecto />}\n\t\t\t\t\t\ticon={<MinusSquare1 />}\n\t\t\t\t\t\t//defaultExpandIcon={<PlusSquare1 />}\n\t\t\t\t\t\tnodeId={filter.CodPresupuesto}\n\t\t\t\t\t\tlabel={filter.Descripcion}\t\t\t\t\t\t\t\n\t\t\t\t\t\tkey={filter.CodPresupuesto}\n\t\t\t\t\t\t//onLabelClick={() => changeItem(filter, newTitle)}\n\t\t\t\t\t\t//onClick={() => filter.open=!filter.open}\n\t\t\t\t\t\tonClick={() => {filter.open=!filter.open; changeItem(filter, newTitle)}}\n\n\t\t\t\t\t>\n\t\t\t\t\t\t{(nextLevel === lastLevel\n\t\t\t\t\t\t\t? allLevels[nextLevel].filter(item => filter.CodPresupuesto === item.PhantomParentId).map(grupo3 => (\n\t\t\t\t\t\t\t\t<StyledTreeItem\n\t\t\t\t\t\t\t\t\ticon={<MinusSquare1 />}\n\t\t\t\t\t\t\t\t\tnodeId={grupo3.CodPresupuesto}\n\t\t\t\t\t\t\t\t\tlabel={grupo3.Descripcion}\n\t\t\t\t\t\t\t\t\tonLabelClick={() => changeItem(grupo3, `${newTitle} ≫ ${grupo3.Descripcion}`)}\n\t\t\t\t\t\t\t\t\tonClick={() => {grupo3.open=!grupo3.open}}\n\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t// </Link>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t: drawerItems(nextLevel, filtro, filter.CodPresupuesto, (level === 1 ? '' : `${newTitle} ≫ `))\n\n\t\t\t\t\t\t)}\n\n\t\t\t\t\t</StyledTreeItem>:\n\t\t\t\t\t<StyledTreeItem\n\t\t\t\t\t//icon={<IconoProjecto />}\n\t\t\t\t\ticon={<MinusSquare2 />}\n\t\t\t\t\t//defaultExpandIcon={<PlusSquare1 />}\n\t\t\t\t\tnodeId={filter.CodPresupuesto}\n\t\t\t\t\tlabel={filter.Descripcion}\t\t\t\t\t\t\t\n\t\t\t\t\tkey={filter.CodPresupuesto}\n\t\t\t\t\t//onClick={() => filter.open=!filter.open}\n\t\t\t\t\t//onLabelClick={() => changeItem(filter, newTitle)}\n\t\t\t\t\tonClick={() => {filter.open=!filter.open; changeItem(filter, newTitle)}}\n\n\t\t\t\t>\n\t\t\t\t\t{(nextLevel === lastLevel\n\t\t\t\t\t\t? allLevels[nextLevel].filter(item => filter.CodPresupuesto === item.PhantomParentId).map(grupo3 => (\n\t\t\t\t\t\t\t<StyledTreeItem\n\t\t\t\t\t\t\t\ticon={<MinusSquare1 />}\n\t\t\t\t\t\t\t\tnodeId={grupo3.CodPresupuesto}\n\t\t\t\t\t\t\t\tlabel={grupo3.Descripcion}\n\t\t\t\t\t\t\t\tonLabelClick={() => changeItem(grupo3, `${newTitle} ≫ ${grupo3.Descripcion}`)}\n\t\t\t\t\t\t\t\tonClick={() => {grupo3.open=!grupo3.open}}\n\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t// </Link>\n\t\t\t\t\t\t))\n\t\t\t\t\t\t: drawerItems(nextLevel, filtro, filter.CodPresupuesto, (level === 1 ? '' : `${newTitle} ≫ `))\n\n\t\t\t\t\t)}\n\n\t\t\t\t</StyledTreeItem>\n\t\t\t\t\t\n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t: (<>\n\t\t\t\t{\t\t\t\t\t\n\t\t\t\t\tproyects.subPres ? (\t\t\t\t\t\t\n\t\t\t\t\t\tproyects.subPres.filter(item => item.CodPresupuesto === parentId).map(data => {\n\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t<StyledTreeItem\n\t\t\t\t\t\t\t\t\t//defaultCollapseIcon={<MinusSquare />}\n\t\t\t\t\t\t\t\t\ticon={<CloseSquare />}\n\t\t\t\t\t\t\t\t\t//nodeId={parentId}\n\t\t\t\t\t\t\t\t\tnodeId={parentId + data.CodSubpresupuesto}\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tlabel={data.Descripcion}\n\t\t\t\t\t\t\t\t\t//labelIcon={projectIcon44} \n\t\t\t\t\t\t\t\t\tkey={parentId + data.CodSubpresupuesto}\n\t\t\t\t\t\t\t\t\t//onLabelClick={( ) => changeItem1('', `${''} / ${''}`)}\n\t\t\t\t\t\t\t\t\tonLabelClick={() => changeItem1(data, `${/*newTitle*/''} ${parentName}  ${data.Descripcion}`, parentId)}\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t/>)\n\t\t\t\t\t\t})) : ''\n\t\t\t\t}\n\t\t\t</>\n\t\t\t)\n\t}\n\n\n\n\n\n\tuseEffect(() => {\n\t\t//drawerItems(1, filtrado)\n\t\t//alert('');\n\t\tif (proyects.Avisa !== undefined) {\n\t\t\tif (proyects.Avisa === 1)\n\t\t\t\tsetAncho('90vw');\n\t\t\telse\n\t\t\t\tsetAncho('98vw');\n\t\t}\n\t\tif (proyects.Avisa === undefined)\n\t\t\tsetAncho('90vw');\n\t}, [proyects.Avisa,])\n\n\n\n\n\tfunction itemClick(e) {\n\t\tif (!e.itemData.items) {\n\t\t\t//notify(`The \"${ e.itemData.text }\" item was clicked`, 'success', 1500);\n\t\t\tif (e.itemData.text === 'Datos Generales') {\n\t\t\t\t//alert('Datos generales : Pres ' + itemSelected + ' Sub ' + itemSelected1 + ' tipo '+ tipoSeleccion);\n\t\t\t\tif (tipoSeleccion === 'Presupuesto')\n\t\t\t\t\tsetDatosGenerales(true);\n\t\t\t\telse\n\t\t\t\t\tsetDatosGeneralesSub(true);\n\t\t\t}\n\n\t\t\tif (e.itemData.text === 'Asignar Modelo') {\n\t\t\t\tsetShowMdl(true);\n\t\t\t}\n\n\t\t\tif (e.itemData.text === 'Presupuesto') {\n\t\t\t\tsetAccion(1);\n\t\t\t\tsetNuevoPres(true);\n\t\t\t\t//alert('Agregar Presupuesto');\n\t\t\t}\t\t\t\n\n\t\t\tif (e.itemData.text === 'SubPresupuesto') {\n\t\t\t\t//setAccion(1);\n\t\t\t\tsetNuevoSubPres(true);\n\t\t\t\t//alert('Agregar Presupuesto');\n\t\t\t}\n\n\t\t\tif (e.itemData.text === 'Item de Nivel1' || e.itemData.text === 'Item de Nivel2') {\n\t\t\t\tsetAccion(1);\n\t\t\t\tif (e.itemData.text === 'Item de Nivel1')\n\t\t\t\tsetNivel(1);\n\t\t\t\telse\n\t\t\t\tsetNivel(2);\n\t\t\t\tsetNuevoGrupo(true);\n\t\t\t}\t\t\t\n\n\t\t\tif (e.itemData.text === 'Cambiar Nombre' ) {\t\t\t\t\n\t\t\t\tsetAccion(2);\n\t\t\t\tsetNuevoGrupo(true);\n\t\t\t}\n\n\t\t\tif (e.itemData.text === 'Eliminar' ) {\n\t\t\t\tconst swalWithBootstrapButtons = Swal.mixin({\n\t\t\t\t\tcustomClass: {\n\t\t\t\t\t\tconfirmButton: 'btn btn-dark',\n\t\t\t\t\t\tcancelButton: 'btn btn-light'\n\t\t\t\t\t},\n\t\t\t\t\tbuttonsStyling: false\n\t\t\t\t})\n\n\t\t\t\tswalWithBootstrapButtons.fire({\n\t\t\t\t\ttitle: 'Estas Seguro de eliminar ' + arbolseleccionado.Descripcion + ' ?',\n\t\t\t\t\ttext: \"Esta acción no podrá ser revertida!\",\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tshowCancelButton: true,\n\t\t\t\t\tconfirmButtonText: 'Si, eliminarlo!',\n\t\t\t\t\tcancelButtonText: 'No, salir!',\n\t\t\t\t\treverseButtons: true\n\t\t\t\t}).then((result) => {\n\t\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\t\tdispatch(eliminarGrupo(arbolseleccionado.CodPresupuesto, arbolseleccionado.Descripcion, arbolseleccionado.Nivel, ''))\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tif (localStorage.getItem(\"EliminadoSuccess\")) {\n\n\t\t\t\t\t\t\t\tlet res = localStorage.getItem(\"EliminadoSuccess\");\n\t\t\t\t\t\t\t\t//alert(res);\n\t\t\t\t\t\t\t\tconsole.log(res);\n\t\t\t\t\t\t\t\tif (res === '1') {\n\n\t\t\t\t\t\t\t\t\tdispatch(eliminaGrupo1(arbolseleccionado.CodPresupuesto));\n\n\t\t\t\t\t\t\t\t\tswalWithBootstrapButtons.fire(\n\t\t\t\t\t\t\t\t\t\t'Borrado!',\n\t\t\t\t\t\t\t\t\t\t'Su registro ha sido eliminado.',\n\t\t\t\t\t\t\t\t\t\t'success'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tswalWithBootstrapButtons.fire(\n\t\t\t\t\t\t\t\t\t\t'Accion cancelada',\n\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"EliminadoResp\"),\n\t\t\t\t\t\t\t\t\t\t'error'\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 1400);\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tresult.dismiss === Swal.DismissReason.cancel\n\t\t\t\t\t) {\n\t\t\t\t\t\tswalWithBootstrapButtons.fire(\n\t\t\t\t\t\t\t'Accion cancelada',\n\t\t\t\t\t\t\t'No se hanb realizado Cambios :)',\n\t\t\t\t\t\t\t'error'\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\n\n\t\t\tif (e.itemData.text === 'Eliminar ..' ) {\n\t\t\t\tconst swalWithBootstrapButtons = Swal.mixin({\n\t\t\t\t\tcustomClass: {\n\t\t\t\t\t\tconfirmButton: 'btn btn-dark',\n\t\t\t\t\t\tcancelButton: 'btn btn-light'\n\t\t\t\t\t},\n\t\t\t\t\tbuttonsStyling: false\n\t\t\t\t})\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t//alert()\n\t\t\t\tif (proyects.DataPc.length!==0){\n\n\t\t\t\t\tswalWithBootstrapButtons.fire(\n\t\t\t\t\t\t'Accion cancelada',\n\t\t\t\t\t\t'Elimine primero las partidas :)',\n\t\t\t\t\t\t'error'\n\t\t\t\t\t)\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tswalWithBootstrapButtons.fire({\n\t\t\t\t\ttitle: 'Estas Seguro de eliminar ' + subseleccionado.Descripcion + ' ?',\n\t\t\t\t\ttext: \"Esta acción no podrá ser revertida!\",\n\t\t\t\t\ticon: 'warning',\n\t\t\t\t\tshowCancelButton: true,\n\t\t\t\t\tconfirmButtonText: 'Si, eliminarlo!',\n\t\t\t\t\tcancelButtonText: 'No, salir!',\n\t\t\t\t\treverseButtons: true\n\t\t\t\t}).then((result) => {\n\t\t\t\t\tif (result.isConfirmed) {\n\t\t\t\t\t\tconsole.log('ESTE ES EL SUBPRESUPUESTO SELECCIONADO A ELIMINAR')\n\t\t\t\t\t\tconsole.log(subseleccionado)\n\n\t\t\t\t\t\t//eliminarSubPresupuesto = (CodPresupuesto, CodSubPresupuesto, userId) => {\n\t\t\t\t\t\tdispatch(eliminarSubPresupuesto(subseleccionado.CodPresupuesto, subseleccionado.CodSubpresupuesto, ''))\n\t\t\t\t\t\t\n\t\t\t\t\t\tdispatch(eliminaGrupoSub(subseleccionado.CodSubpresupuesto))\n\n\n\n\t\t\t\t\t} else if (\n\t\t\t\t\t\tresult.dismiss === Swal.DismissReason.cancel\n\t\t\t\t\t) {\n\t\t\t\t\t\tswalWithBootstrapButtons.fire(\n\t\t\t\t\t\t\t'Accion cancelada',\n\t\t\t\t\t\t\t'No se hanb realizado Cambios :)',\n\t\t\t\t\t\t\t'error'\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t}\n\n\t\t\t//'Eliminar partidas del subPresupuesto'\n\n\t\t\tif (e.itemData.text === 'Agregar a Favoritos') {\n\t\t\t\tagregarFavorito(arbolseleccionado.CodPresupuesto);\n\t\t\t\tdispatch(agregaFavorito(arbolseleccionado));\n\t\t\t}\n\n\t\t\tif (e.itemData.text === 'Quitar de Favoritos') {\n\t\t\t\tquitarFavorito(arbolseleccionado.CodPresupuesto);\n\t\t\t\tdispatch(eliminaFavorito(arbolseleccionado));\n\n\t\t\t}\n\n\t\t\tif (e.itemData.text === 'Mover a papelera') {\n\t\t\t\tmoverCarpeta(arbolseleccionado.CodPresupuesto, '9');\n\t\t\t\tlet antes=estado;\n\t\t\t\tsetEstado(99);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetEstado(antes);\t\t\t\t\t\n\t\t\t\t}, 500);\n\n\t\t\t}\n\n\t\t\tif (e.itemData.text === 'Escritorio') {\n\t\t\t\tmoverCarpeta(arbolseleccionado.CodPresupuesto, '1');\n\t\t\t\tlet antes=estado;\n\t\t\t\tsetEstado(99);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetEstado(antes);\t\t\t\t\t\n\t\t\t\t}, 500);\n\n\t\t\t}\n\n\t\t\tif (e.itemData.text === 'Obras ganadas') {\n\t\t\t\tmoverCarpeta(arbolseleccionado.CodPresupuesto, '2');\n\t\t\t\tlet antes=estado;\n\t\t\t\tsetEstado(99);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetEstado(antes);\t\t\t\t\t\n\t\t\t\t}, 500);\n\t\t\t\t\n\t\t\t}\n\n\t\t\tif (e.itemData.text === 'Bandeja') {\n\t\t\t\tmoverCarpeta(arbolseleccionado.CodPresupuesto, '3');\n\t\t\t\tlet antes=estado;\n\t\t\t\tsetEstado(99);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetEstado(antes);\t\t\t\t\t\n\t\t\t\t}, 500);\n\t\t\t\t\n\t\t\t}\n\t\t\tif (e.itemData.text === 'Archivo central') {\n\t\t\t\tmoverCarpeta(arbolseleccionado.CodPresupuesto, '8');\n\t\t\t\tlet antes=estado;\n\t\t\t\tsetEstado(99);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetEstado(antes);\t\t\t\t\t\n\t\t\t\t}, 500);\n\n\t\t\t}\n\n\n\t\t}\n\t}\n\n\n\tfunction ItemTemplate(e) {\n\t\treturn (\n\t\t  <>\n\t\t\t<span className={ e.icon } />\t\t\t\n\t\t\t{ `  ` + e.text }\n\t\t\t{ e.items ? <span className=\"dx-icon-spinright\" style={{marginLeft:'25px'}}/> : null }\n\t\t  </>\n\t\t);\n\t  }\n\n\n\n\n\treturn (\n\t\t<>\n\t\t\t<BuscaModelo\n\t\t\t\tsetShow={setShowMdl}\n\t\t\t\tsubseleccionado={subseleccionado}\n\t\t\t\tsetSubSeleccionado={setSubSeleccionado}\n\t\t\t\tCodPresupuesto={proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] ? proyects.DatosPresupuesto[0].CodPresupuesto : ''}\n\t\t\t\tshow={showMdl}\n\t\t\t/>\n\t\t\t<h1>{filtrado}</h1>\n\t\t\t<TreeView\n\t\t\t\tid='Tree'\n\t\t\t\tclassName={classes.root}\n\t\t\t\t//defaultExpanded={['1']}\n\t\t\t\tdefaultCollapseIcon={<MinusSquare />}\n\t\t\t\tdefaultExpandIcon={<PlusSquare />}\n\t\t\t\tdefaultEndIcon={<PlusSquare1 />}\n\t\t\t\tmultiSelect={false}\n\t\t\t>\n\t\t\t\t{\n\t\t\t\t\tloading ? 'Cargando...' : drawerItems(levelStart, filtrado)\n\t\t\t\t}\n\t\t\t</TreeView>\n\t\t\t{/* </div> */}\n\t\t\t<ContextMenu\n\t\t\t\tdataSource={opcMenu}\n\t\t\t\twidth={130}\n\t\t\t\ttarget=\"#Tree\"\n\t\t\t\tonItemClick={itemClick}\n\t\t\t\titemRender={ItemTemplate}\n\t\t\t/>\n\n\t\t\t{nuevoPres &&\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"\" style={{ position: 'absolute', height: '100vh', width: ancho, marginTop: '0px', top: '0px', left: '0px', zIndex: '9', background: 'rgba(0, 0, 0, 0.3)' }}>\n\t\t\t\t\t\t<div className=\"\" style={{ position: 'absolute', height: '92vh', width: ancho, marginTop: '15px', top: '15px', left: '-20px', zIndex: '9' }}>\n\t\t\t\t\t\t\t<DatosGeneralesAdd\n\t\t\t\t\t\t\t\titemSelected={itemSelected}\n\t\t\t\t\t\t\t\tsetNuevoPres={setNuevoPres}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button1 variant=\"outline-info\" style={{ position: 'absolute', right: '42px', top: '32px', background: '#398bf7', color: 'white' }} onClick={() => {\n\t\t\t\t\t\t\t\tsetNuevoPres(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}><i class=\"fas fa-times\"></i></Button1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>}\n\t\t\t{nuevoGrupo &&\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"\" style={{ position: 'absolute', height: '100vh', width: ancho, marginTop: '0px', top: '0px', left: '0px', zIndex: '9', background: 'rgba(0, 0, 0, 0.3)' }}>\n\t\t\t\t\t\t<DatosGrupoAdd\n\t\t\t\t\t\t\tnivel={nivel}\n\t\t\t\t\t\t\titemSelected={itemSelected}\n\t\t\t\t\t\t\tsetNuevoGrupo={setNuevoGrupo}\n\t\t\t\t\t\t\taccion={accion}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button1 variant=\"outline-info\" style={{ position: 'absolute', right: '88px', top: '42vh', background: '#398bf7', color: 'white' }} onClick={() => {\n\t\t\t\t\t\t\tsetNuevoGrupo(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t}><i class=\"fas fa-times\"></i></Button1>\n\t\t\t\t\t</div>\n\t\t\t\t</>}\n\n\t\t\t{nuevoSubPres &&\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"\" style={{ position: 'absolute', height: '100vh', width: ancho, marginTop: '0px', top: '0px', left: '0px', zIndex: '9', background: 'rgba(0, 0, 0, 0.3)' }}>\n\t\t\t\t\t\t<DatosSubAdd\n\t\t\t\t\t\t\tnivel={nivel}\n\t\t\t\t\t\t\titemSelected={itemSelected}\n\t\t\t\t\t\t\tsetNuevoSubPres={setNuevoSubPres}\n\t\t\t\t\t\t\taccion={accion}\n\t\t\t\t\t\t\tSubPresupuestos={SubPresupuestos}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button1 variant=\"outline-info\" style={{ position: 'absolute', right: '88px', top: '37vh', background: '#398bf7', color: 'white' }} onClick={() => {\n\t\t\t\t\t\t\tsetNuevoSubPres(false);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t}><i class=\"fas fa-times\"></i></Button1>\n\t\t\t\t\t</div>\n\t\t\t\t</>}\n\n\t\t\t{datosgenerales &&\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"\" style={{ position: 'absolute', height: '100vh', width: ancho, marginTop: '0px', top: '0px', left: '0px', zIndex: '9', background: 'rgba(0, 0, 0, 0.3)' }}>\n\t\t\t\t\t\t<DatosGenerales\n\t\t\t\t\t\t\tsetCambioSub={setCambioSub}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Button1 variant=\"outline-info\" style={{ position: 'absolute', right: '65px', top: '32px', background: '#398bf7', color: 'white' }} onClick={() => {\n\t\t\t\t\t\t\tsetDatosGenerales(false)\n\t\t\t\t\t\t\t//dispatch(cleanDataChart22());\n\t\t\t\t\t\t\tif (cambioSub) {\n\t\t\t\t\t\t\t\tdispatch(cleanDataChartAPU());\n\t\t\t\t\t\t\t\tDatosPresupuesto(itemSelected);\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tdispatch(SeleccionaSub(''))\n\t\t\t\t\t\t\t\t\tSubPresupuestos(itemSelected);\n\t\t\t\t\t\t\t\t\tdispatch(LimpiarSubPres());\n\t\t\t\t\t\t\t\t}, 200);\n\n\n\t\t\t\t\t\t\t\tlet timerInterval\n\t\t\t\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\t\t\t\ttitle: 'Cargando...!',\n\t\t\t\t\t\t\t\t\thtml: 'Cargando datos de Presupuestos <b></b> .',\n\t\t\t\t\t\t\t\t\ttimer: 1300,\n\t\t\t\t\t\t\t\t\ttimerProgressBar: true,\n\t\t\t\t\t\t\t\t\tdidOpen: () => {\n\t\t\t\t\t\t\t\t\t\tSwal.showLoading()\n\t\t\t\t\t\t\t\t\t\tconst b = Swal.getHtmlContainer().querySelector('b')\n\t\t\t\t\t\t\t\t\t\ttimerInterval = setInterval(() => {\n\t\t\t\t\t\t\t\t\t\t\tb.textContent = Swal.getTimerLeft()\n\t\t\t\t\t\t\t\t\t\t}, 400)\n\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\twillClose: () => {\n\t\t\t\t\t\t\t\t\t\tclearInterval(timerInterval)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}).then((result) => {\n\t\t\t\t\t\t\t\t\t/* Read more about handling dismissals below */\n\t\t\t\t\t\t\t\t\tif (result.dismiss === Swal.DismissReason.timer) {\n\t\t\t\t\t\t\t\t\t\t//console.log('I was closed by the timer')\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\tsetCambioSub(false);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t}><i class=\"fas fa-times\"></i></Button1>\n\t\t\t\t\t</div>\n\n\t\t\t\t</>}\n\t\t\t{datosgeneralessub &&\n\t\t\t\t<>\n\t\t\t\t\t<div className=\"\" style={{ position: 'absolute', height: '100vh', width: ancho, marginTop: '0px', top: '0px', left: '0px', zIndex: '9', background: 'rgba(0, 0, 0, 0.3)' }}>\n\t\t\t\t\t\t<div className=\"\" style={{ position: 'absolute', height: '25vh', width: ancho, marginTop: '30wh', top: '30vh', left: '6px', zIndex: '9' }}>\n\t\t\t\t\t\t\t<DatosGenerales\n\t\t\t\t\t\t\t\tsetCambioSub={setCambioSub}\n\t\t\t\t\t\t\t\tsetDatosGeneralesSub={setDatosGeneralesSub}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button1 variant=\"outline-info\" style={{ position: 'absolute', right: '65px', top: '35px', background: '#398bf7', color: 'white' }} onClick={() => {\n\t\t\t\t\t\t\t\tsetDatosGeneralesSub(false)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}><i class=\"fas fa-times\"></i></Button1>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</>}\n\t\t\t\n\t\t</>\n\t);\n}\n\nexport default TreeCP\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAABHElEQVRoge3Yv2rCUBQG8O9ehLqUCtIt2nco9SUEoW6li1vwXQTp2LxBdwcfQPQ9JE4WB8FCcTAOpbjcf4Ympxe+3xTOyb2cj5ALCUBEJEnZGsU7+gAyAMnVuz4MzPX17OqtAGygkaoUc1NTOxaWG/7vJTghszVdAf7D8L86toYrQBQYQFr0ARqV7FruuCwl+ifAANIYQBoDSGMAaQwgjQGkMYA0Bijr2B3i2Hn21nyq+SLzKG7a+HqcoFAarc8V9PfWWAsh8gQOT1Ocmvc/Q/ferLUQIgFul6PL9eLVWgvBl1ia6+90UecgPmpsnlXkFNq97L33tD/ugvYSCRA6XIjo3wFXgE1tU/jltoY9gEbqWlijHEAqPQQRkdkZNkA7K//UhHEAAAAASUVORK5CYII=\"","import {useEffect, useState} from \"react\";\nimport PropTypes from \"prop-types\";\nimport {selectProyect, cleanDataChart, navigationTree, selectTree} from '../actions/proyects.actions';\nimport {alpha, makeStyles, withStyles} from \"@material-ui/core/styles\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport {Link} from \"react-router-dom\";\nimport axios from \"../config/axios\";\nimport subprojectIcon from '../assets/img/icons/subproject.png';\nimport projectIcon from '../assets/img/icons/project.png';\n\n// import { useSpring, animated } from 'react-spring/web.cjs'; // web.cjs is required for IE 11 support\nimport {useSelector, useDispatch} from \"react-redux\";\n\nfunction MinusSquare(props) {\n\treturn (\n\t\t<div className=\"d-flex\">\n\t\t\t<ion-icon name=\"chevron-down-outline\"></ion-icon>\n\t\t\t<img src={projectIcon} alt=\"icons\" width=\"15\" style={{ marginRight: 8}} {...props}/>\n\t\t</div>\n\t);\n}\n\nfunction PlusSquare(props) {\n\treturn (\n\t\t<div className=\"d-flex\">\n\t\t\t<ion-icon name=\"chevron-forward-outline\"></ion-icon>\n\t\t\t<img src={projectIcon} alt=\"icons\" width=\"15\" style={{ marginRight: 8}} {...props}/>\n\t\t\t\n\t\t</div>\n\t);\n}\n\nfunction CloseSquare(props) {\n\treturn (\n\t\t<img src={subprojectIcon} width=\"15\" alt=\"icons\" style={{ marginRight: 8}} {...props}/>\n\t);\n}\n\nconst StyledTreeItem = withStyles((theme) => ({\n\ticonContainer: {\n\t\t\"& .close\": {\n\t\t\topacity: 0.3,\n\t\t},\n\t},\n\tgroup: {\n\t\tmarginLeft: 7,\n\t\tpaddingLeft: 18,\n\t\tborderLeft: `1px dashed ${alpha(theme.palette.text.primary, 0.4)}`,\n\t},\n}))((props) => <TreeItem {...props} />);\n\nconst useStyles = makeStyles({\n\troot: {\n\t\theight: 264,\n\t\tflexGrow: 1,\n\t\tmaxWidth: 400,\n\t},\n});\n\nconst Tree = ({ levelStart, nodeSelected }) => {\n\t// console.log(nodeSelected)\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\t// const [loading, setLoading] = useState(true);\n\tconst [ allLevels, setAllLevels ] = useState(null)\n\tconst [ lastLevel, setLastLevel ] = useState(0);\n\tconst [loading, setLoading] = useState(true);\n\tconst auth = useSelector((state) => state.auth);\n\tconst proyects = useSelector((state) => state.proyects);\n\n\tuseEffect(() => {\n\t\tasync function init() {\n\t\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t\tlet connectId = await localStorage.getItem(\"connectionId\");\n\t\t\t// console.log('connectId desde tree: ' + connectId)\n\t\t\tif(company && auth.User){\n\t\t\t\tawait axios.post( \n\t\t\t\t\n\t\t\t\t\t\"\",\n\t\t\t\t\t{\n\t\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t\tObjectName: `dbo.s10_06_Proyecto_ListarArbol '${auth.User.UserName}'`,\n\t\t\t\t\t\tRequestId: \"ARBOL\",\n\t\t\t\t\t\tSignalRConnectionID: connectId,\n\t\t\t\t\t\tSecurityUserId: auth.User.UserId, // SecurityUserId obtenido al logear\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tToken: company.Token, // no lo mandes en duro este vence\n\t\t\t\t\t\t\tModuleId: 10,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tsetLoading(false)\n\t\t}\n\t\tinit();\n\t\t// eslint-disable-next-line\n\t}, []);\n\n\t\n\tconst orderTree = (tree) => {\n\t\tlet orderedLevels = {};\n\t\t\n\t\tfor (let i = 0; i < tree.length; i++) {\n\t\t\tconst item = tree[i];\n\t\t\tif (item.Nivel >= levelStart) {\n\t\t\t\tif (!orderedLevels[item.Nivel])\n\t\t\t\t\torderedLevels[item.Nivel] = []\n\t\t\t\tif (item.Nivel > lastLevel)\n\t\t\t\t\tsetLastLevel(item.Nivel)\n\t\t\t\torderedLevels[item.Nivel].push({...item, open: item.CodProyecto === nodeSelected})\n\t\t\t}\n\t\t}\n\t\tsetAllLevels(orderedLevels);\n\n\t}\n\n\tuseEffect(() => {\n\t\t// if (proyects.TreeProyects && allLevels === null) {\n\t\t\t// const result = proyects.TreeProyects.filter(\n\t\t\t// \t(nivel) => nivel.Nivel >= 2\n\t\t\t// );\n\t\t\torderTree(proyects.TreeProyects);\n\t\t\t// console.log(result);\n\t\t// }\n\t}, [levelStart, proyects.TreeProyects])\n\t\n\n\tconst drawerItems = (level, parentId = '', parentName = '') => {\n\t\tconst nextLevel = ( level + 1);\n\t\t\n\t\treturn allLevels && allLevels[level]\n\t\t? allLevels[level]\n\t\t\t.filter(item => parentId === '' || item.PhantomParentId === parentId)\n\t\t\t.map(filter => {\n\t\t\t\tconst newTitle = `${parentName}${filter.Descripcion}`;\n\t\t\t\t return (\n\t\t\t\t<StyledTreeItem\n\t\t\t\t\tnodeId={filter.CodProyecto}\n\t\t\t\t\tlabel={filter.Descripcion}\n\t\t\t\t\tkey={filter.CodProyecto}\n\t\t\t\t\texpanded={proyects.treeSelecteds}\n\t\t\t\t\tonLabelClick={ () => dispatch(selectTree(filter.CodProyecto))}\n\t\t\t\t>\n\t\t\t\t\t{( nextLevel === lastLevel\n\t\t\t\t\t\t? allLevels[nextLevel].filter(item => filter.CodProyecto === item.PhantomParentId).map(grupo3 => (\n\t\t\t\t\t\t\t<Link \n\t\t\t\t\t\t\t\tto={`/projects/project/${grupo3.CodProyecto}`}\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tdispatch(navigationTree(`${newTitle} / ${grupo3.Descripcion}`))\n\t\t\t\t\t\t\t\t\t// setSelect(proyects.idCard);\n\t\t\t\t\t\t\t\t\t// alert(newTitle + ' / ' + grupo3.Descripcion)\n\t\t\t\t\t\t\t\t\t// console.log('reiniciando desd operativos.js')\n\t\t\t\t\t\t\t\t\tdispatch(cleanDataChart());\n\t\t\t\t\t\t\t\t\tdispatch(selectProyect(grupo3.CodProyecto, auth.User.UserName, auth.User.UserId))\n\t\t\t\t\t\t\t\t}} \n\t\t\t\t\t\t\t\tkey={grupo3.CodProyecto}\n\t\t\t\t\t\t\t\tstyle={{background: '#000'}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<StyledTreeItem  nodeId={grupo3.CodProyecto} label={grupo3.Descripcion} />\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t))\n\t\t\t\t\t\t: drawerItems(nextLevel, filter.PhantomParentId, (`${newTitle} / `))\n\t\t\t\t\t)}\n\t\t\t\t\n\t\t\t\t</StyledTreeItem>\n\t\t\t)})\n\t\t\t: null\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<TreeView\n\t\t\t\tclassName={classes.root}\n\t\t\t\tdefaultExpanded={[\"1\"]}\n\t\t\t\tdefaultCollapseIcon={<MinusSquare />}\n\t\t\t\tdefaultExpandIcon={<PlusSquare />}\n\t\t\t\tdefaultEndIcon={<CloseSquare />}\n\t\t\t\texpanded={proyects.treeSelecteds}\n\t\t\t>\n\t\t\t\n\t\t\t{\n\t\t\t\tloading ? 'Cargando...' : \n\t\t\t\tdrawerItems(levelStart)\n\t\t\t\t\n\t\t\t}\n\t\t\t</TreeView>\n\t\t</>\n\t);\n};\n\nTree.propTypes = {\n    levelStart: PropTypes.number,\n}\n\n\nexport default Tree;\n","import React, { useEffect, useState } from 'react'\nimport { Card, Form, Row, Col } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { guardarPartida, modificarPartida, selectPARTIDAS } from '../actions/proyects.actions';\nimport Button1 from 'devextreme-react/button';\nimport Swal from 'sweetalert2'\nimport { TextBox } from 'devextreme-react';\n\n\n\nconst GrupoPartAdd = ({itemSelected, setNuevoGrupoPart, editando, partidaSeleccionada, setPartidaSeleccionada,tituloeditando, source, enCatalogo=false, setAllLevels, allLevels, indicasub=0}) => {\n\n    const [titulo, setTitulo] = useState('Editando Título');\n    //const [tituloN, setTituloN] = useState([]);\n    const [titulos, setTitulos] = useState('100%');\n    const [partidaN, setPartidaN] = useState([]);    \n    const dispatch = useDispatch();\n    const proyects = useSelector((state) => state.proyects);\n\n    useEffect(() => {\n\n            if (editando===1){\n                /*if (proyects.DataPartida === undefined) return;\n                if (!proyects.DataPartida[0]) return;\n                //setselecOP(proyects.seleccionado)\n                console.log('ESTA ES LA DATA DE MI PARTIDA')\n                console.log(proyects.DataPartida)\n                proyects.DataPartida[0].CodPartidaI=proyects.DataPartida[0].CodPartida.substring(10,12);\n                setPartidaN(proyects.DataPartida[0])*/\n            }\n            else{\n                if (proyects.DataPartida1 === undefined) return;\n                if (!proyects.DataPartida1[0]) return;\n                \n                if (proyects.CodigoObtenido1 === undefined) return;\n                if (!proyects.CodigoObtenido1[0]) return;\n                //alert(proyects.CodigoObtenidoTitulo[0]?.Output1)\n                //alert(proyects.DataTitulo[0].Nivel)\n                //console.log('Este es mi codigo obtenido')\n                //console.log(proyects.CodigoObtenidoTitulo)\n\n                console.log('Este es mi codigo obtenido')\n                console.log(proyects.CodigoObtenido1)\n                proyects.DataPartida1[0].CodPartidaI=proyects.CodigoObtenido1[0]?.Output1;\n                setPartidaN({...partidaN,CodPartidaI:proyects.CodigoObtenido1[0]?.Output1});\n\n                //proyects.DataTitulo[0].CodTituloI=proyects.CodigoObtenidoTitulo[0]?.Output1;\n                //setTituloN({...tituloN,CodTituloI:proyects.CodigoObtenidoTitulo[0]?.Output1});\n            }\n\n    }, [proyects.CodigoObtenido1])\n\n\n\n    useEffect(() => {\n        \n        if (source===1){\n\n            /*if (editando===1){\n                setTitulo('Editando Grupo Título');\n                if (proyects.DataTitulo === undefined) return;\n                if (!proyects.DataTitulo[0]) return;\n                console.log('ESTA ES LA DATA DE MI titulo')\n                console.log(proyects.DataTitulo)\n                //alert(proyects.DataTitulo.Nivel)\n                if (proyects.DataTitulo[0].Nivel===2){\n                    proyects.DataTitulo[0].CodTituloP=proyects.DataTitulo[0].CodTitulo.substring(0,2);\n                    proyects.DataTitulo[0].CodTituloI=proyects.DataTitulo[0].CodTitulo.substring(2,4);\n                }\n                if (proyects.DataTitulo[0].Nivel===1){\n                    //proyects.DataTitulo[0].CodTituloP=proyects.DataTitulo[0].CodTitulo.substring(0,2);\n                    proyects.DataTitulo[0].CodTituloI=proyects.DataTitulo[0].CodTitulo.substring(0,2);\n                }\n                \n                setTituloN(proyects.DataTitulo[0])\n            }\n            else{*/\n                if (editando===1){\n\n                    setTitulo('Editando Grupo Partida');\n                    if (proyects.DataPartida1 === undefined) return;\n                    if (!proyects.DataPartida1[0]) return;\n                    //setselecOP(proyects.seleccionado)\n                    console.log('ESTA ES LA DATA DE MI PARTIDA')\n                    console.log(proyects.DataPartida1)\n                    //proyects.DataPartida[0].CodPartidaP=proyects.DataPartida[0].CodPartida.substring(0,10);\n                    //proyects.DataPartida[0].CodPartidaI=proyects.DataPartida[0].CodPartida.substring(10,12);\n                    //proyects.DataPartida[0].UnidadSimbolo=partidaSeleccionada[0].Unidad;\n                    setPartidaN(proyects.DataPartida1[0])\n\n                    /*setTitulo('Agregando Grupo Título');\n                    if (proyects.DataTitulo === undefined) return;\n                    if (!proyects.DataTitulo[0]) return;\n                    if (!proyects.CodigoObtenidoTitulo) return;\n                    if (!proyects.CodigoObtenidoTitulo[0]) return;\n                    //alert(proyects.DataTitulo[0].Nivel)\n                    const NTitulo={\n                        ActualizacionFecha: \"2018-12-19T09:30:12.597\",\n                        ActualizacionUsuario: \"Erwin\",\n                        //CodTitulo: proyects.DataTitulo[0].CodTitulo.substring(0,4)+proyects.CodigoObtenido[0]?.Output1,\n                        CodTitulo: proyects.DataTitulo[0].CodTitulo.substring(0,2)+proyects.CodigoObtenido[0]?.Output1,\n                        CodTituloI: proyects.CodigoObtenidoTitulo[0]?.Output1,\n                        CodTituloP: proyects.DataTitulo[0].CodTitulo.substring(0,2),\n                        CodigoAlterno: \"\",\n                        CreacionFecha: \"2018-12-19T09:30:12.597\",\n                        CreacionUsuario: \"Erwin\",\n                        Descripcion: \"\",\n                        Grupo: 1,\n                        Nivel: proyects.DataTitulo[0].Nivel,\n                    }\n                    setTituloN(NTitulo)*/\n                }\n                if (editando===0){\n                    //alert()\n                    setTitulo('Agregando Grupo Partida');\n                    if (proyects.DataPartida1 === undefined) return;\n                    if (!proyects.DataPartida1[0]) return;\n                    if (!proyects.CodigoObtenido1) return;\n                    if (!proyects.CodigoObtenido1[0]) return;\n                    //alert(proyects.DataTitulo[0].Nivel)\n                    const NPartida={\n                        ActualizacionFecha: \"2018-12-19T09:30:12.597\",\n                        ActualizacionUsuario: \"Erwin\",\n                        //CodTitulo: proyects.DataTitulo[0].CodTitulo.substring(0,4)+proyects.CodigoObtenido[0]?.Output1,\n                        CodPartida: proyects.DataPartida1[0].CodPartida/*.substring(0,2)+proyects.CodigoObtenido[0]?.Output1*/,\n                        CodPartidaI: proyects.CodigoObtenido1[0]?.Output1,\n                        CodPartidaP: indicasub===0 ? proyects.DataPartida1[0].CodPartida.substring(0,proyects.DataPartida1[0].CodPartida.length-2) : proyects.DataPartida1[0].CodPartida,\n                        CodigoAlterno: \"\",\n                        CreacionFecha: \"2018-12-19T09:30:12.597\",\n                        CreacionUsuario: \"Erwin\",\n                        Descripcion: \"\",\n                        Grupo: 1,\n                        Nivel: proyects.DataPartida1[0].Nivel,\n                    }\n                    setPartidaN(NPartida)\n                }\n                \n\n\n                /*if (editando===2){\n                    setTitulo('Duplicando Título');\n                    if (proyects.DataTitulo === undefined) return;\n                    if (!proyects.DataTitulo[0]) return;\n                    //setselecOP(proyects.seleccionado)\n                    console.log('ESTA ES LA DATA DE MI titulo')\n                    console.log(proyects.DataTitulo)\n                    //proyects.DataPartida[0].CodPartidaP=proyects.DataPartida[0].CodPartida.substring(0,10);\n                    //proyects.DataPartida[0].CodPartidaI=proyects.DataPartida[0].CodPartida.substring(10,12);\n                    proyects.DataTitulo[0].CodTitulo= proyects.DataTitulo[0].CodTitulo.substring(0,4)+proyects.CodigoObtenidoTitulo[0]?.Output1;\n                    proyects.DataTitulo[0].CodTituloI= proyects.CodigoObtenidoTitulo[0]?.Output1;\n                    proyects.DataTitulo[0].CodTituloP= proyects.DataTitulo[0].CodTitulo.substring(0,4);\n                    //proyects.DataPartida[0].UnidadSimbolo=partidaSeleccionada[0].Unidad;\n                    proyects.DataTitulo[0].Descripcion=partidaSeleccionada[0].Descripcion + ' Copia';\n                    setTituloN(proyects.DataTitulo[0])\n                }*/\n            //}\n\n        }\n\n    }, [proyects.DataPartida1])\n\n\n    const handlerOnChange = () => {\n    }\n\n    const CambiaDescripcion = (data) => {\n        if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }\n       setPartidaN( (state) => ({...state,Descripcion:data.value}));\n\t}\n   \n    /*const CambiaDescripcionAlterna = (data) => {\n        if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }\n        //setPartidaN( (state) => ({...state,DescripcionAlterna:data.value}));\n\t}*/\n   \n    \n\n    const CambiaCodigoAlterno = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>20){\n            data.value=data.value.substring(0,20);\n        }\n        //partidaN.CodAlterno\n        setPartidaN( (state) => ({...state,CodAlterno:data.value}));\n\t}\n\n    \n    \n    \n  \n\n    \n\n    \n\n    //const onCurrentValueChanged = (e) => {\n    //    setPresupuestoN( (state) => ({...state, Fecha:e.value}));\n        /*this.setState({\n          currentValue: e.value\n        });*/\n     // }\n\n    const valida = () => {\n        //alert(partidaN.CodPartidaP + partidaN.CodPartidaI)\n        //alert(grupoSel)\n\n        if (partidaN.Descripcion===''){\n            Swal.fire({\n                title: 'Error!',\n                text: 'Ingrese una descripcion',\n                icon: 'error',\n                confirmButtonText: 'Ok'\n            })\n            return;\n        }\n\n\n\n        if (editando===1){\n            //alert('editando')\n            if (partidaN.Nivel===5){\n                //modificarPartida = (CodPartida, CodPresupuesto, PropioPartida, Nivel, CodigoAlterno, Descripcion, DescripcionAlterna, CodUnidad, Grupo, RendimientoMO,RendimientoEQ, Jornada, CodUnidadPeso, Peso ,userId) => {\n                //dispatch(modificarPartida(partidaN.CodPartida, tituloN.Nivel, tituloN.CodigoAlterno, tituloN.Descripcion, ''));\n                dispatch(modificarPartida(partidaN.CodPartida,partidaN.CodPresupuesto,partidaN.PropioPartida,partidaN.Nivel,partidaN.CodigoAlterno, partidaN.Descripcion, partidaN.DescripcionAlterna, partidaN.CodUnidad, '1', partidaN.RendimientoMO, partidaN.RendimientoEQ, partidaN.Jornada, 'Null', partidaN.Peso, ''));\n                \n                /*if (!enCatalogo){                \n                let Nrr=[...proyects.DataPartidas];\n                for (let i=0;i<Nrr.length;i++){\n                    if (Nrr[i].CodPartida===partidaN.CodPartida)\n                        Nrr[i].PartidaN5=partidaN.Descripcion;\n                }\n                    \n                dispatch(establecerPartidas(Nrr));\n                }*/\n\n                setTimeout(() => {\n                    dispatch(selectPARTIDAS('', '20', 1, ''));    \n                }, 500);\n\n\n            }\n                \n            if (partidaN.Nivel===4){\n                dispatch(modificarPartida(partidaN.CodPartida,partidaN.CodPresupuesto,partidaN.PropioPartida,partidaN.Nivel,partidaN.CodigoAlterno, partidaN.Descripcion, partidaN.DescripcionAlterna, partidaN.CodUnidad, '1', partidaN.RendimientoMO, partidaN.RendimientoEQ, partidaN.Jornada, 'Null', partidaN.Peso, ''));\n                /*if (!enCatalogo){                                \n                let Nrr=[...proyects.DataPartidas];\n                for (let i=0;i<Nrr.length;i++)\n                if (Nrr[i].CodPartida===partidaN.CodPartida)                \n                    Nrr[i].PartidaN4=partidaN.Descripcion;\n                dispatch(establecerPartidas(Nrr));                \n                }*/\n                setTimeout(() => {\n                    dispatch(selectPARTIDAS('', '20', 1, ''));    \n                }, 500);\n\n            }\n                \n            if (partidaN.Nivel===3){\n                dispatch(modificarPartida(partidaN.CodPartida,partidaN.CodPresupuesto,partidaN.PropioPartida,partidaN.Nivel,partidaN.CodigoAlterno, partidaN.Descripcion, partidaN.DescripcionAlterna, partidaN.CodUnidad, '1', partidaN.RendimientoMO, partidaN.RendimientoEQ, partidaN.Jornada, 'Null', partidaN.Peso, ''));\n                /*if (!enCatalogo){                \n                let Nrr=[...proyects.DataPartidas];\n                for (let i=0;i<Nrr.length;i++)\n                if (Nrr[i].CodPartida===partidaN.CodPartida)                \n                    Nrr[i].PartidaN3=partidaN.Descripcion;\n                dispatch(establecerPartidas(Nrr));  \n                }*/\n                setTimeout(() => {\n                    dispatch(selectPARTIDAS('', '20', 1, ''));    \n                }, 500);\n\n            }\n            \n            if (partidaN.Nivel===2){\n                dispatch(modificarPartida(partidaN.CodPartida,partidaN.CodPresupuesto,partidaN.PropioPartida,partidaN.Nivel,partidaN.CodigoAlterno, partidaN.Descripcion, partidaN.DescripcionAlterna, partidaN.CodUnidad, '1', partidaN.RendimientoMO, partidaN.RendimientoEQ, partidaN.Jornada, 'Null', partidaN.Peso, ''));\n                /*if (!enCatalogo){                \n                let Nrr=[...proyects.DataPartidas];\n                for (let i=0;i<Nrr.length;i++)\n                if (Nrr[i].CodPartida===partidaN.CodPartida)                \n                    Nrr[i].PartidaN2=partidaN.Descripcion;\n                dispatch(establecerPartidas(Nrr)); \n                }*/\n                setTimeout(() => {\n                    dispatch(selectPARTIDAS('', '20', 1, ''));    \n                }, 500);\n\n            }            \n\n            if (partidaN.Nivel===1){\n                dispatch(modificarPartida(partidaN.CodPartida,partidaN.CodPresupuesto,partidaN.PropioPartida,partidaN.Nivel,partidaN.CodigoAlterno, partidaN.Descripcion, partidaN.DescripcionAlterna, partidaN.CodUnidad, '1', partidaN.RendimientoMO, partidaN.RendimientoEQ, partidaN.Jornada, 'Null', partidaN.Peso, ''));\n                /*if (!enCatalogo){\n                    let Nrr=[...proyects.DataPartidas];\n                    for (let i=0;i<Nrr.length;i++)\n                    if (Nrr[i].CodPartida===partidaN.CodPartida)                    \n                        Nrr[i].PartidaN1=partidaN.Descripcion;\n                    dispatch(establecerPartidas(Nrr));\n                }*/\n                setTimeout(() => {\n                    dispatch(selectPARTIDAS('', '20', 1, ''));    \n                }, 500);\n                \n            }\n\n            //tituloeditando.Descripcion=tituloN.Descripcion;\n            //partidaeditando.UnidadPartida=partidaN.UnidadSimbolo;\n            //dispatch(modificaTitulos(tituloeditando));\n            //console.log('Estos son los datos de mi titulo seleccionadoo')\n            //console.log(tituloeditando)\n\n            if (enCatalogo){\n                let Item= allLevels.find((filtro1) => filtro1.CodPartida === partidaN.CodPartida)\n                if (Item){\n                    Item.Descripcion=partidaN.Descripcion;\n                    setAllLevels((state)=>[...state.filter((filtro1) => filtro1.CodPartida !== partidaN.CodPartida),Item]);\n                }\n                \n\n            }\n        }else{\n            //alert('agregando')\n            \n            //if (editando===0){\n                //let grupo=1;\n                //if(grupoSel==='Partida') grupo='1'; else grupo='2';\n                //let CodUn1=\"Null\";\n                //if(tituloN.CodUnidadPeso===null || partidaN.CodUnidadPeso==='') CodUn1=\"Null\"; else CodUn1=\"'\" + partidaN.CodUnidadPeso + \"'\";\n           /* if (tituloN.Nivel===2)\n                dispatch(guardarTitulo(tituloN.CodTituloP + tituloN.CodTituloI, '2', tituloN.CodigoAlterno, tituloN.Descripcion, ''));\n                //dispatch(modificarTitulo(tituloN.CodTituloP + tituloN.CodTituloI, tituloN.Nivel, tituloN.CodigoAlterno, tituloN.Descripcion, ''));\n            if (tituloN.Nivel===1)\n                dispatch(guardarTitulo(tituloN.CodTituloI, '1', tituloN.CodigoAlterno, tituloN.Descripcion, ''));*/\n                //dispatch(modificarTitulo(tituloN.CodTituloI, tituloN.Nivel, tituloN.CodigoAlterno, tituloN.Descripcion, ''));\n\n\n                \n               /* let nuevaeP = {...tituloeditando};\n                nuevaeP.CodTitulo=tituloN.CodTituloP + tituloN.CodTituloI;\n                nuevaeP.Descripcion=tituloN.Descripcion;*/\n               \n               \n                //nuevaeP.UnidadPartida=partidaN.UnidadSimbolo;\n                //dispatch(agregaTitulos(nuevaeP));\n            //}\n            \n\n            if (indicasub===0){\n\n                let Nivel=partidaN.CodPartidaP.length/2 + 1;\n                dispatch(guardarPartida(partidaN.CodPartidaP + partidaN.CodPartidaI,'9999999','99',Nivel,partidaN.CodigoAlterno, partidaN.Descripcion, '', 'NULL', 0, 0, 0, 0, 'NULL', 0, ''));\n    \n                let Item = {...allLevels.find((filtro1) => filtro1.CodPartida === partidaN.CodPartida)};\n                \n                Item.CodPartida=partidaN.CodPartidaP + partidaN.CodPartidaI;\n                Item.Descripcion=partidaN.Descripcion;\n                if (Item){\n                    Item.Descripcion=partidaN.Descripcion;\n                    setAllLevels((state)=>[...state,Item]);\n                }\n    \n\n            }else{\n\n                let Nivel=partidaN.CodPartidaP.length/2 + 1;\n                dispatch(guardarPartida(partidaN.CodPartidaP + partidaN.CodPartidaI,'9999999','99',Nivel,partidaN.CodigoAlterno, partidaN.Descripcion, '', 'NULL', 0, 0, 0, 0, 'NULL', 0, ''));\n    \n                let Item = {...allLevels.find((filtro1) => filtro1.CodPartida === partidaN.CodPartida)};\n                \n                Item.CodPartida=partidaN.CodPartidaP + partidaN.CodPartidaI;\n                Item.Descripcion=partidaN.Descripcion;\n                Item.Nivel=Nivel;\n                Item.PhantomParentId=partidaN.CodPartidaP;\n                if (Nivel===5) Item.Tipo = 'Proyecto'\n\n\n                if (Item){\n                    Item.Descripcion=partidaN.Descripcion;\n                    setAllLevels((state)=>[...state,Item]);\n                }\n    \n\n            }\n\n\n        }\n\n\n  \n         /* Swal.fire(\n            'Bien!',\n            'Los datos de tu Grupo  ' + partidaN.Descripcion + ' se almacenaron Correctamente!',\n            'success'\n          )*/\n          setNuevoGrupoPart(false);\n         // e.preventDefault();\n    }\n    \n    const ReglaNumerica = {\n        X: /[02-9]/\n      };\n\n    return (\n        <div className=\"animate__animated animate__fadeIn\" style={{ marginLeft: '15px', marginTop: '10px', height: '30%', width: '99%' }}>\n            (<Card className=\"animate__animated animate__fadeIn\" style={{ overflow: 'scroll', marginLeft: '20px', height: '28vh', padding: '15px' }}>\n                <Card.Header style={{ fontSize: '1rem', background: '#398bf7', color: 'white', fontWeight: '550' }}>{titulo}\n                </Card.Header>\n                <Card.Body class=\"ml-5\">\n                    <Form /*onSubmit={valida}*/>\n                        <Button1 /*useSubmitBehavior={true}*/ onClick={valida} type=\"Submit\" variant=\"outline-info\" style={{ position: 'absolute', left: '270px', top: '23px' }}\n                        ><i class=\"far fa-save\"></i>   Guardar</Button1>\n                        <Form.Group as={Row} className=\"mb-1 mt-3\" controlId=\"formCodigo\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Codigo (*)\n                            </Form.Label>\n                               { proyects.DataPartida1 && proyects.DataPartida1[0] && (!(indicasub===0 && proyects.DataPartida1[0].Nivel===1)) ?\n                               (editando===0) ? \n                               <Col sm={1}>\n                                    <TextBox\n                                        defaultValue={partidaN.CodPartidaP}\n                                        value={partidaN.CodPartidaP}\n                                        readOnly={true}\n                                    >\n                                        {/* <Validator>\n                                            <RequiredRule message=\"Codigo es requerido\" />\n                                        </Validator> */}\n                                    </TextBox>\n                                </Col>:'' :''}\n                            <Col sm={1}>\n                                <TextBox\n                                    defaultValue={editando===1 ? partidaN.CodPartida:partidaN.CodPartidaI}\n                                    value={editando===1 ? partidaN.CodPartida:partidaN.CodPartidaI}\n                                    readOnly={true}\n                                    valueChangeEvent=\"keyup\"\n                                >\n                                    {/* <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator> */}\n                                </TextBox>\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formAlterno\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Alterno\n                            </Form.Label>\n                            <Col sm={2}>\n                                <TextBox\n                                    defaultValue={partidaN.CodAlterno}\n                                    value={partidaN.CodAlterno}\n                                    valueChangeEvent=\"keyup\"\n                                    onValueChanged={CambiaCodigoAlterno}\n                                />\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formDescripcion\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Descripcion (*)\n                            </Form.Label>\n                            <Col sm={10}>\n                                <TextBox\n                                    defaultValue={partidaN.Descripcion}\n                                    value={partidaN.Descripcion}\n                                    onValueChanged={CambiaDescripcion}\n                                >\n                                    {/* <Validator>\n                                        <RequiredRule message=\"Descripcion es requerida\" />\n                                    </Validator> */}\n                                </TextBox>\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-3 mt-3\">\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-3\">\n                            {/* <ValidationSummary id=\"summary1\" style={{ position: 'relative', marginLeft: '45%' }}></ValidationSummary>  */}\n                        </Form.Group>\n                    </Form>\n                </Card.Body>\n            </Card>)\n        </div>\n    )\n}\n\nexport default GrupoPartAdd\n","import React, { useEffect, useRef, useState } from 'react'\nimport { Card, Form, Row, Col,  Nav, Collapse } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectUNIDADES, selectGRPRECURSOS, modificarRecurso, modificaRecursos, agregarRecurso, eliminarRecurso, agregaPartidas, agregaRecursos } from '../actions/proyects.actions';\nimport Button1 from 'devextreme-react/button';\nimport Swal from 'sweetalert2'\nimport { SelectBox, TextBox } from 'devextreme-react';\nimport { Resizable } from \"re-resizable\";\n\n//import { ViewScreen1 } from './ViewScreen1'\n\nimport ValidationSummary from 'devextreme-react/validation-summary';\nimport {\n  Validator,\n  RequiredRule,\n} from 'devextreme-react/validator';\nimport Apus from '../components/Apus';\nimport BuscaUnidad from '../components/BuscaUnidad';\nimport $ from 'jquery';\nimport TreeGRPart from '../components/TreeGRPart';\nimport ApusEdicion from '../components/ApusEdicion';\nimport TreeGRRec from '../components/TreeGRRec';\n\n\n\nconst tiempoTranscurrido = Date.now();\nconst hoy = new Date(tiempoTranscurrido);\n\n\nconst selectBoxData = [\n    { id: 1, grupo: \"Partida\" },\n    { id: 2, grupo: \"Estimada\" },\n    // ...\n];\n\n\n\nconst RecursoAdd = ({itemSelected, setNuevoPres, editando, partidaSeleccionada, setPartidaSeleccionada,recursoeditando, textoB, pagina, tipoRecurso}) => {\n\n    /*const [ItemSub, setItemSub] = useState({\n    });*/\n    \n    const [grupoSel, setGrupoSel] = useState('Partida');\n    const [grupos, setgrupos] = useState(['Partida', 'Estimada']);\n    const [show, setShow] = useState(false);\n    const [titulo, setTitulo] = useState('Agregando Recurso');\n    const Indica=useRef(1);\n    const [recursoN, setRecursoN] = useState([]);\n    //VARIABLES PARA TAMAÑO DE PANTALLA\n    const [titulos, setTitulos] = useState('100%');\n    //let history = useHistory();\n    //const classes = useStyles();\n    const dispatch = useDispatch();\n    const proyects = useSelector((state) => state.proyects);\n    //const [selecOP, setselecOP] = useState(1);\n\n\t//const [width, setWidth] = useState(360);\n\tconst [width, setWidth] = useState(20);\n    const [height, setHeight] = useState(window.innerHeight);\n\tconst [open, setOpen] = useState(false);\n    const realiza = useRef(0);\n    \n    const cargado = useRef(false);\n    \n    /*const showFn = () => {\n        setShow(true)\n    }*/\n\n   \n    const onValueChangedGrupo = (e) => {\n        setGrupoSel(e.value);\n      }\n\n  \n    function roundN(num, n) {\n        return parseFloat(Math.round(num * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n);\n    }\n\n\n\n\n    useEffect(() => {\n\n        //dispatch(eliminarRecurso('0100010002','4',''));\n        \n\n        if (editando===1){\n            setWidth(30);\n            /*if (proyects.DataPartida === undefined) return;\n            if (!proyects.DataPartida[0]) return;\n            //setselecOP(proyects.seleccionado)\n            console.log('ESTA ES LA DATA DE MI PARTIDA')\n            console.log(proyects.DataPartida)\n            proyects.DataPartida[0].CodPartidaI=proyects.DataPartida[0].CodPartida.substring(10,12);\n            setPartidaN(proyects.DataPartida[0])*/\n        }\n        else{\n            if (editando===2)\n                setWidth(30);\n            if (editando===0 && !cargado.current)\n                setWidth(30);\n            if (editando===0 && cargado.current){\n                setWidth(360);\n            }\n                \n                //setWidth(360);\n    \n            if (proyects.DataRecurso === undefined) return;\n            if (!proyects.DataRecurso[0]) return;\n            console.log('Este es mi codigo obtenido')\n            //console.log(proyects.CodigoObtenido)\n            proyects.DataRecurso[0].CodInsumoI=proyects.CodigoObtenidoRecurso[0]?.Output1;\n            setRecursoN({...recursoN,CodInsumoI:proyects.CodigoObtenidoRecurso[0]?.Output1});\n            realiza.current=1;\n\n            /*const NPartida={\n                ActualizacionFecha: \"2018-12-19T09:30:12.597\",\n                ActualizacionUsuario: \"Erwin\",\n                CodPartida: proyects.DataPartida[0].CodPartida.substring(0,10)+'99',\n                CodPartidaI: \"99\",\n                CodPartidaP: proyects.DataPartida[0].CodPartida.substring(0,10),\n                CodPresupuesto: \"9999999\",\n                CodUnidad: proyects.DataPartida[0].CodUnidad,\n                CodUnidadPeso: null,\n                CodigoAlterno: \"\",\n                CreacionFecha: \"2018-12-19T09:30:12.597\",\n                CreacionUsuario: \"Erwin\",\n                Descripcion: \"\",\n                DescripcionAlterna: \"\",\n                Grupo: 1,\n                Jornada: 8,\n                Nivel: 6,\n                Peso: 0,\n                PropioPartida: \"99\",\n                RendimientoEQ: 0.00,\n                RendimientoMO: 0.00,\n            }*/\n          //  setPartidaN(NPartida)\n        }\n        //alert(proyects.AuxModelo);\n    }, [proyects.CodigoObtenidoRecurso])\n\n\n\n    useEffect(() => {\n        if (editando===1){\n            //setTitulo('Editando Recurso');\n            if (proyects.DataRecurso === undefined) return;\n            if (!proyects.DataRecurso[0]) return;\n            //setselecOP(proyects.seleccionado)\n            console.log('ESTA ES LA DATA DE MI recurso')\n            console.log(proyects.DataRecurso)\n            \n            if (proyects.DataRecurso[0].CodInsumo.length===10){\n                proyects.DataRecurso[0].CodInsumoP=proyects.DataRecurso[0].CodInsumo.substring(0,6);\n                proyects.DataRecurso[0].CodInsumoI=proyects.DataRecurso[0].CodInsumo.substring(6,10);\n                //alert(partidaSeleccionada[0].SimboloUnidad)\n                console.log('mi partida seleccionada')\n                console.log(partidaSeleccionada)\n                proyects.DataRecurso[0].UnidadSimbolo=partidaSeleccionada[0].Unidad;\n                //partidaSeleccionada.current[0].SimboloUnidad\n                setTitulo('Editando Recurso Genérico')\n            }\n            if (proyects.DataRecurso[0].CodInsumo.length===14){\n                proyects.DataRecurso[0].CodInsumoP=proyects.DataRecurso[0].CodInsumo.substring(0,10);\n                proyects.DataRecurso[0].CodInsumoI=proyects.DataRecurso[0].CodInsumo.substring(10,14);\n                console.log('mi partida seleccionada')\n                console.log(partidaSeleccionada)\n                //alert(partidaSeleccionada[0].SimboloUnidad)\n                proyects.DataRecurso[0].UnidadSimbolo=partidaSeleccionada[0].Unidad;\n                setTitulo('Editando Recurso Específico')\n            }\n\n            //proyects.DataRecurso[0].UnidadSimbolo=partidaSeleccionada[0].Unidad;\n            setRecursoN(proyects.DataRecurso[0])\n        }\n        else{\n            if (editando===0){\n                if (tipoRecurso.current===1)\n                    setTitulo('Agregando Recurso Genérico');\n                if (tipoRecurso.current===2)\n                    setTitulo('Agregando Recurso Específico');\n\n                if (proyects.DataRecurso === undefined) return;\n                if (!proyects.DataRecurso[0]) return;\n    \n\n                const NRecurso={\n                    ActualizacionFecha: \"2018-12-19T09:30:12.597\",\n                    ActualizacionUsuario: \"Erwin\",\n                    CodInsumo: proyects.DataRecurso[0].CodInsumo.substring(0,10)+proyects.CodigoObtenidoRecurso[0]?.Output1,\n                    CodInsumoI: proyects.CodigoObtenidoRecurso[0]?.Output1,\n                    \n                    CodInsumoP: tipoRecurso.current===1 ? proyects.DataRecurso[0].CodInsumo.substring(0,6):proyects.DataRecurso[0].CodInsumo.substring(0,10),\n                    \n                    CodPresupuesto: \"9999999\",\n                    //CodUnidad: proyects.DataPartida[0].CodUnidad,\n                    CodUnidad: '',\n                    CodUnidadPeso: null,\n                    CodigoAlterno: \"\",\n                    CreacionFecha: \"2018-12-19T09:30:12.597\",\n                    CreacionUsuario: \"Erwin\",\n                    Descripcion: \"\",\n                    DescripcionAlterna: \"\",\n                    Grupo: 1,\n                    Jornada: 8,\n                    Nivel: 6,\n                    Peso: 0,\n                    PropioPartida: \"99\",\n                    RendimientoEQ: 0.00,\n                    RendimientoMO: 0.00,\n                    UnidadSimbolo:'',\n                }\n                //realiza.current=0;\n                if (proyects.CodigoObtenidoRecurso[0]?.Output1!=='') realiza.current=1;\n                else realiza.current=0;\n    \n                setRecursoN(NRecurso)\n    \n\n            }\n            if (editando===2){\n                setTitulo('Duplicando Recurso');\n                if (proyects.DataRecurso === undefined) return;\n                if (!proyects.DataRecurso[0]) return;\n                //setselecOP(proyects.seleccionado)\n                console.log('ESTA ES LA DATA DE MI recurso')\n                console.log(proyects.DataRecurso)\n                //proyects.DataPartida[0].CodPartidaP=proyects.DataPartida[0].CodPartida.substring(0,10);\n                //proyects.DataPartida[0].CodPartidaI=proyects.DataPartida[0].CodPartida.substring(10,12);\n\n                proyects.DataRecurso[0].CodInsumo= proyects.DataRecurso[0].CodInsumo.substring(0,10)+proyects.CodigoObtenidoRecurso[0]?.Output1;\n                proyects.DataRecurso[0].CodInsumoI= proyects.CodigoObtenidoRecurso[0]?.Output1;\n                proyects.DataRecurso[0].CodInsumoP= tipoRecurso.current===1 ? proyects.DataRecurso[0].CodInsumo.substring(0,6):proyects.DataRecurso[0].CodInsumo.substring(0,10);\n\n                proyects.DataRecurso[0].UnidadSimbolo=partidaSeleccionada[0].Unidad;\n                //proyects.DataRecurso[0].UnidadSimbolo=partidaSeleccionada[0].Unidad;\n                proyects.DataRecurso[0].Descripcion=partidaSeleccionada[0].Descripcion + ' Copia';\n                setRecursoN(proyects.DataRecurso[0])\n            }\n            \n        }\n        //alert(proyects.AuxModelo);\n    }, [proyects.DataRecurso])\n\n    //establecer tamaños y posiciones\n\n   /* useEffect(() => {\n        setHistoricos([]);\n        setHistoricoSel('');\n\n        if (proyects.seleccionado === 1) {\n            //alert('');\n            if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0]) {\n                if (proyects.DatosPresupuesto[0].HistoricoPrecios) {\n                    let A_historicos = proyects.DatosPresupuesto[0].HistoricoPrecios.split(\"|\");\n                    setHistoricos(A_historicos);\n                    //alert(A_historicos[0]);\n                    setHistoricoSel(A_historicos[0]);\n                    //alert(historicos[0]);\n                    //proyects.DatosPresupuesto[0].HistoricoPrecios;\n                }\n            }\n        }\n        //if (selecOP === 1) setselecOP(2); else setselecOP(1);\n\n    }, [proyects.DatosPresupuesto])*/\n\n    const handlerOnChange = () => {\n    }\n\n    const CambiaDescripcion = (data) => {\n        if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }\n        setRecursoN( (state) => ({...state,Descripcion:data.value}));\n\t}\n   \n    const CambiaDescripcionAlterna = (data) => {\n        if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }\n        setRecursoN( (state) => ({...state,DescripcionAlterna:data.value}));\n\t}\n   \n    \n\n    const CambiaCodigoAlterno = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>20){\n            data.value=data.value.substring(0,20);\n        }\n        //partidaN.CodAlterno\n        setRecursoN( (state) => ({...state,CodAlterno:data.value}));\n\t}\n\n    \n\n\n\n    \n    //const onCurrentValueChanged = (e) => {\n    //    setPresupuestoN( (state) => ({...state, Fecha:e.value}));\n        /*this.setState({\n          currentValue: e.value\n        });*/\n     // }\n\n    const valida = (e) => {\n        //alert(partidaN.CodPartidaP + partidaN.CodPartidaI)\n        //alert(grupoSel)\n\n       /* let Cod1 = proyects.treeGrpRecursosN3.filter(item => item.PhantomParentId === recursoN.CodInsumoP);\n        console.log(proyects.treeGrpRecursosN3)\n        console.log(Cod1)\n        alert(recursoN.CodInsumoP)\n\n\n        return;*/\n\n        if (editando===1){\n            //alert('editando')\n\n            /*let grupo=1;\n            if(grupoSel==='Partida') grupo='1'; else grupo='2';\n            let CodUn1=\"Null\";\n            if(recursoN.CodUnidadPeso===null || recursoN.CodUnidadPeso==='') CodUn1=\"Null\"; else CodUn1=\"'\" + recursoN.CodUnidadPeso + \"'\";*/\n            \n            //guardarPartida = (CodPartida, CodPresupuesto, PropioPartida, Nivel, CodigoAlterno, Descripcion, DescripcionAlterna, CodUnidad, Grupo, RendimientoMO,RendimientoEQ, Jornada, CodUnidadPeso, Peso ,userId) => {\n            //dispatch(modificarPartida(partidaN.CodPartidaP + partidaN.CodPartidaI,partidaN.CodPresupuesto,partidaN.PropioPartida,partidaN.Nivel,partidaN.CodigoAlterno, partidaN.Descripcion, partidaN.DescripcionAlterna, partidaN.CodUnidad, grupo, partidaN.RendimientoMO, partidaN.RendimientoEQ, partidaN.Jornada, CodUn1, partidaN.Peso, ''));\n            //modificarRecurso = (CodInsumo, CodAlterno, Nivel, Descripcion, CodUnidad, userId) => {\n            dispatch(modificarRecurso(recursoN.CodInsumo,recursoN.CodAlterno,4, recursoN.Descripcion,  recursoN.CodUnidad, ''));\n            recursoeditando.Descripcion=recursoN.Descripcion;\n            recursoeditando.SimboloUnidad=recursoN.UnidadSimbolo;\n            dispatch(modificaRecursos(recursoeditando));\n\n            console.log('Estos son los datos de mi partida seleccionada')\n            console.log(recursoeditando)\n\n        }else{\n            //alert('agregando')\n            //if (editando===0){\n                /*let grupo=1;\n                if(grupoSel==='Partida') grupo='1'; else grupo='2';\n                let CodUn1=\"Null\";\n                if(recursoN.CodUnidadPeso===null || recursoN.CodUnidadPeso==='') CodUn1=\"Null\"; else CodUn1=\"'\" + recursoN.CodUnidadPeso + \"'\";*/\n\n\n\n                if (tipoRecurso.current===1)\n                    dispatch(agregarRecurso(recursoN.CodInsumoP+recursoN.CodInsumoI,recursoN.CodAlterno,3, recursoN.Descripcion,  recursoN.CodUnidad, ''));\n                if (tipoRecurso.current===2)\n                    dispatch(agregarRecurso(recursoN.CodInsumoP+recursoN.CodInsumoI,recursoN.CodAlterno,4, recursoN.Descripcion,  recursoN.CodUnidad, ''));\n                //dispatch(agregarRecurso(partidaN.CodPartidaP + partidaN.CodPartidaI,proyects.DatosPresupuesto[0]?.CodPresupuesto,'99','6',partidaN.CodigoAlterno, partidaN.Descripcion, partidaN.DescripcionAlterna, partidaN.CodUnidad, grupo, partidaN.RendimientoMO, partidaN.RendimientoEQ, partidaN.Jornada, CodUn1, partidaN.Peso, ''));\n               \n                let Cod1 = proyects.treeGrpRecursosN3.find(item => item.CodInsumo === recursoN.CodInsumoP);\n                console.log(proyects.treeGrpRecursosN3)\n                console.log(Cod1)    \n                if (Cod1){\n                    //alert('si tiene respuesta')\n                    \n                    let nuevaeP = {...recursoeditando};\n                    nuevaeP.CodInsumo=recursoN.CodInsumoP + recursoN.CodInsumoI;\n                    nuevaeP.Descripcion=recursoN.Descripcion;\n                    nuevaeP.SimboloUnidad=recursoN.UnidadSimbolo;\n                    nuevaeP.InsumoN3=Cod1.CodInsumo + ' ' + Cod1.Descripcion;\n\n                    let Cod2 = proyects.treeGrpRecursosN2.find(item => item.CodInsumo === Cod1.PhantomParentId);\n                    if (Cod2){\n                        //alert('tiene respuesta cod2')\n                        console.log(Cod2)    \n                        nuevaeP.InsumoN2=Cod2.CodInsumo + ' ' + Cod2.Descripcion;\n\n                        let Cod3 = proyects.treeGrpRecursos.find(item => item.CodInsumo === Cod2.PhantomParentId);\n                        if (Cod3){\n                            //alert('tiene respuesta tambien cod3')\n                            nuevaeP.InsumoN1=Cod3.CodInsumo + ' ' + Cod3.Descripcion;\n                        }\n    \n                    }\n\n\n                    console.log(nuevaeP) \n                    //AÑADIR LOS GRUPOS SI EN CASO SE MODIFICAN, SI CAMBIA DE UBICACION SIEMPRE ACTUALIZAR\n                    dispatch(agregaRecursos(nuevaeP));\n    \n                }else\n                {\n                    //alert('no existe en tabla')\n                \n                let nuevaeP = {...recursoeditando};\n                nuevaeP.CodInsumo=recursoN.CodInsumoP + recursoN.CodInsumoI;\n                nuevaeP.Descripcion=recursoN.Descripcion;\n                nuevaeP.SimboloUnidad=recursoN.UnidadSimbolo;\n                //AÑADIR LOS GRUPOS SI EN CASO SE MODIFICAN, SI CAMBIA DE UBICACION SIEMPRE ACTUALIZAR\n                dispatch(agregaRecursos(nuevaeP));\n            \n            \n                }\n\n\n\n            if (editando===0){\n                setTimeout(() => {\n                    //dispatch(selectPARTIDAS(textoB, '20', pagina, ''));    \n                }, 1200);\n                \n                //hacer el dispatch\n            }\n            \n                \n            //}\n        }\n\n        //alert(presupuestoN.CostoBase1);\n        //if (presupuestoN.CostoBase1==='-')\n        \n        /*let cbase=presupuestoN.CostoBase1.replace(',', '');\n\n        setPresupuestoN( (state) => ({...state, CostoBase1:cbase}));\n        alert(presupuestoN.CostoBase1);*/\n\n   /* const Nuevo=[{\n            CodPresupuesto: itemSelected+presupuestoN.CodPresupuesto,\n            Descripcion: presupuestoN.Descripcion,\n            ERPCode: itemSelected+presupuestoN.CodPresupuesto,\n            Fila: presupuestoN.Fila,\n            Nivel: 3,\n            PhantomId: itemSelected+presupuestoN.CodPresupuesto,\n            PhantomParentId: itemSelected\n        }];  */\n        \n        //let fecha1=new Date(presupuestoN.Fecha);\n      /*  let fecha1=new Date(presupuestoN.Fecha);\n        let dia=parseInt(fecha1.getDate(),10);\n        let mes=parseInt(fecha1.getMonth(),10)+1;\n        let fechaStr = dia + \"/\" + mes + '/' + fecha1.getFullYear();*/\n        //dispatch(guardarGrupo(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, 3, ''));\n        //alert(presupuestoN.Fecha);\n        //let fechaStr = presupuestoN.Fecha.substring(8,10) + \"/\" + presupuestoN.Fecha.substring(5,7) + '/' + presupuestoN.Fecha.substring(0,4);\n        //dispatch(guardarGrupo(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, 3, ''));\n        //dispatch(agregaGrupo1(Nuevo));\n\n       /* setTimeout(() => {            \n          //  dispatch(guardarPresupuesto(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, presupuestoN.Plazo,  fechaStr, presupuestoN.Jornada, '0' ,presupuestoN.CostoDirectoBase1,presupuestoN.CostoIndirectoBase1,presupuestoN.CostoBase1,presupuestoN.CostoDirectoOferta1,presupuestoN.CostoIndirectoOferta1,presupuestoN.CostoOferta1,presupuestoN.CodCliente,presupuestoN.CodLugar,presupuestoN.CodMoneda,'',presupuestoN.CodAlterno,presupuestoN.JornadaSemana,presupuestoN.JornadaMes,presupuestoN.JornadaAno,''));                \n        }, 1000);*/\n        \n/*\n        const Modificado1=[{\n            CodPresupuesto: itemSelected+presupuestoN.CodPresupuesto,\n            CodSubpresupuesto: '001',\n            Descripcion: presupuestoN.Descripcion,\n        }];   */\n        \n       // dispatch(agregaSub1(Modificado1));\n        //console.log('LOS DATOS QUE SE GUARDARIAN')\n        //console.log(itemSelected+presupuestoN.CodPresupuesto, presupuestoN.Descripcion, presupuestoN.Plazo,  fechaStr, presupuestoN.Jornada, '0' ,presupuestoN.CostoDirectoBase1,presupuestoN.CostoIndirectoBase1,presupuestoN.CostoBase1,presupuestoN.CostoDirectoOferta1,presupuestoN.CostoIndirectoOferta1,presupuestoN.CostoOferta1,presupuestoN.CodCliente,presupuestoN.CodLugar,presupuestoN.CodMoneda,'',presupuestoN.CodAlterno,presupuestoN.JornadaSemana,presupuestoN.JornadaMes,presupuestoN.JornadaAno,'')\n        Swal.fire(\n            'Bien!',\n            'Los datos de tu Partida  ' + recursoN.Descripcion + ' se almacenaron Correctamente!',\n            'success'\n          )\n          setNuevoPres(false);\n        /*notify({\n            message: 'You have submitted the form',\n            position: {\n              my: 'center top',\n              at: 'center top'\n            }\n          }, 'success', 3000);*/\n          e.preventDefault();\n    }\n    \n    const ReglaNumerica = {\n        X: /[02-9]/\n      };\n\n    return (\n        <div className=\"animate__animated animate__fadeIn\" style={{ marginLeft: '15px', marginTop: '10px', height: '50%', width: '99%' }}>\n            \n            <BuscaUnidad tipo=\"Nuevo\" partidaN={recursoN} setPartidaN={setRecursoN} setShow={setShow} show={show} Indica={Indica.current} />\n            (<Card id=\"CardT222\" className=\"animate__animated animate__fadeIn\" style={{ overflow: 'scroll', marginLeft: '20px', height: '68vh', padding: '15px'/*, background:'blue'*/ }}>\n                <Card.Header style={{ fontSize: '1rem', background: '#398bf7', color: 'white', fontWeight: '550' }}>{titulo}\n                </Card.Header>\n                <Card.Body class=\"ml-0\" >\n                    {!editando ? <Resizable\n                        className=\"tree-fixed p-0 d-flex justify-content-between\"\n                        enable={{ top: false, right: true, bottom: false, left: false, topRight: false, bottomRight: false, bottomLeft: false, topLeft: false }}\n                        style={{ background: '#f5f6f8' }}\n                        size={{ width: width, height: ($(\"#CardT222\").innerHeight() - 80) }}\n                        marginLeft=\"-20px\"\n                        maxWidth={open ? 500 : 0}\n                        minWidth=\"20px\"\n                        onResizeStop={(e, direction, ref, d) => {\n                            setWidth(width + d.width);\n                            //setHeight(height + d.height);\n                        }}\n                    >\n                        <Collapse in={open}>\n                            <div id=\"Conte18\" className=\"p-0 h-100 w-100\" style={{\n                                overflow: 'scroll',\n                                background: '#f5f6f8',\n                                color: '#333337'\n                            }}>\n                                <div className=\"form mt-3\">\n                                    <div className=\"input-group\" data-widget=\"\">\n                                    </div>\n                                </div>\n                                {realiza.current===1 ? <TreeGRRec\n                                    Accion=\"Presupuesto\"\n                                    //filtrado={textoB}\n                                    levelStart={1}\n                                    idProject=\"\"\n                                    marginTop=\"60\"\n                                    marginLeft='0px'\n                                    CodPres={proyects.DataRecurso[0].CodInsumo}  \n                                    setRecursoN={setRecursoN}\n                                    tipoRecurso={tipoRecurso}\n                                //estado={estado}\n                                //setEstado={setEstado}\n                                />:''}\n                            </div>\n                        </Collapse>\n                        <div\n                            className=\"bara-cerrar d-flex align-items-center barras\"\n                            style={{\n                                width: '16px',\n                                height: \"100%\",\n                                background: '#f5f6f8',\n                                marginLeft: 5,\n                                borderStyle: 'none solid none none',\n                                borderColor: '#c6c7d0',\n                                borderWidth: '0.5px',\n                                zIndex: '1',\n                            }}\n                        >\n                            <div\n                                style={{\n                                    cursor: \"pointer\", width: '30px',\n                                    background: 'white',\n                                    zIndex: '1'\n                                }}\n                                className=\"h-0 w-100 \"\n                                onClick={() => {\n                                    setOpen(!open);\n                                    if (open) setWidth(25);\n                                    else setWidth(360);\n                                    if (!open && !cargado.current) //primera vez\n                                    {\n                                        dispatch(selectGRPRECURSOS('0','',50,1,'','',\"LISTAR_GRP_RECURSOS\"));\n                                        cargado.current=true;\n                                    }\n                                    \n\n                                }}\n                                aria-controls=\"example-collapse-text\"\n                                aria-expanded={open}\n                                style={{ background: 'transparent', zIndex: '1', width: '80px' }}\n                            >\n                                {open ? (\n                                    <ion-icon name=\"chevron-back-outline\" style={{ cursor: \"pointer\", color: 'black', borderColor: '#c6c7d0', marginLeft: '4px', background: 'white', zIndex: '2', width: '20px', height: '20px', borderRadius: '20px', borderStyle: 'solid', borderWidth: '0.5px', }}></ion-icon>\n                                ) : (\n                                    <ion-icon name=\"chevron-forward-outline\" style={{ cursor: \"pointer\", color: 'black', borderColor: '#c6c7d0', marginLeft: '4px', background: 'white', zIndex: '2', width: '20px', height: '20px', borderRadius: '20px', borderStyle: 'solid', borderWidth: '0.5px' }}></ion-icon>\n                                )}\n                            </div>\n                        </div>\n                    </Resizable> : ''}\n                    <Form id=\"Form2\" onSubmit={valida} style={{\n                        position: 'absolute', left: width + 25, top: '80px',\n                                /*background: 'rgba(1,1,1,0.2)',*/ width: $(\"#CardT222\").innerWidth() - width \n                    }}>\n                        <Button1 useSubmitBehavior={true} type=\"Submit\" variant=\"outline-info\" style={{ position: 'absolute', left: !editando ? 250-width: '250px', top: '-55px' }}\n                        ><i class=\"far fa-save\"></i>   Guardar</Button1>\n                        <Form.Group as={Row} className=\"mb-1 mt-3\" controlId=\"formCodigo\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Codigo (*)\n                                    </Form.Label>\n                            <Col sm={2}>\n                                <TextBox\n                                    defaultValue={recursoN.CodInsumoP}\n                                    value={recursoN.CodInsumoP}\n                                    readOnly={true}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n                            <Col sm={1}>\n                                <TextBox\n                                    defaultValue={recursoN.CodInsumoI}\n                                    value={recursoN.CodInsumoI}\n                                    readOnly={true}\n                                    valueChangeEvent=\"keyup\"\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formAlterno\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Alterno\n                                    </Form.Label>\n                            <Col sm={2}>\n                                <TextBox\n                                    defaultValue={recursoN.CodAlterno}\n                                    value={recursoN.CodAlterno}\n                                    valueChangeEvent=\"keyup\"\n                                    //onValueChanged={CambiaCodigoAlterno}\n                                />\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formDescripcion\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Descripcion (*)\n                                    </Form.Label>\n                            <Col sm={10}>\n                                <TextBox\n                                    defaultValue={recursoN.Descripcion}\n                                    value={recursoN.Descripcion}\n                                    onValueChanged={CambiaDescripcion}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Descripcion es requerida\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formDescripcion\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Descripcion Alterna\n                                    </Form.Label>\n                            <Col sm={10}>\n                                <TextBox\n                                    defaultValue={recursoN.DescripcionAlterna}\n                                    value={recursoN.DescripcionAlterna}\n                                    onValueChanged={CambiaDescripcionAlterna}\n                                >\n                                </TextBox>\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formGeograqfica\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Unidad (*)\n                                    </Form.Label>\n                            <Col sm={1}>\n                                <TextBox\n                                    defaultValue={recursoN.CodUnidad}\n                                    value={recursoN.CodUnidad}\n                                    readOnly={true}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"unidad es requerida\" />\n                                    </Validator>\n                                </TextBox>\n\n                            </Col>\n                            <Col sm={4}>\n                                <TextBox\n                                    defaultValue={recursoN?.DescripcionUnidad}\n                                    value={recursoN?.DescripcionUnidad}\n                                    readOnly={true}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Unidad es requerida\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n                            <Col sm={1}>\n                                <TextBox\n                                    defaultValue={recursoN?.UnidadSimbolo}\n                                    value={recursoN?.UnidadSimbolo}\n                                    readOnly={true}\n                                >\n                                </TextBox>\n                            </Col>\n                            <Col sm={1}>\n                                <Button1 variant=\"outline-info\" height=\"35px\" onClick={() => {\n                                    Indica.current = 1;\n                                    dispatch(selectUNIDADES('', '20', '1', ''));\n                                    setShow(true);\n                                   // console.log(proyects.DataUnidades)\n                                }}>...</Button1>\n\n                                <Button1 variant=\"outline-info\" height=\"35px\" style={{ marginLeft: '10px' }} onClick={() => {\n                                    setRecursoN((state) => ({ ...state, CodUnidad: '', DescripcionUnidad: '', UnidadSimbolo: '' }))\n                                }}>X</Button1>\n                            </Col>\n                        </Form.Group>\n\n                        \n                        \n                        \n                        \n                        <Form.Group as={Row} className=\"mb-3\">\n                            <ValidationSummary id=\"summary\" style={{ position: 'relative', marginLeft: '45%' }}></ValidationSummary>\n                        </Form.Group>\n                    </Form>\n\n                </Card.Body>\n            </Card>)\n\n        </div>\n    )\n}\n\nexport default RecursoAdd\n","import React, { useEffect, useRef, useState } from 'react'\nimport { Card, Form, Row, Col,  Nav, Collapse } from 'react-bootstrap'\nimport { useDispatch, useSelector } from 'react-redux';\nimport { guardarPartida, modificarPartida, eliminarPartida, selectUNIDADES, modificaPartidas, agregaPartidas, selectGRPPARTIDAS, selectPARTIDAS, ingresarAPU } from '../actions/proyects.actions';\nimport Button1 from 'devextreme-react/button';\nimport Swal from 'sweetalert2'\nimport { SelectBox, TextBox } from 'devextreme-react';\nimport { Resizable } from \"re-resizable\";\n\nimport ValidationSummary from 'devextreme-react/validation-summary';\nimport {\n  Validator,\n  RequiredRule,\n} from 'devextreme-react/validator';\nimport BuscaUnidad from '../components/BuscaUnidad';\nimport $ from 'jquery';\nimport TreeGRPart from '../components/TreeGRPart';\nimport ApusEdicion from '../components/ApusEdicion';\n\n\n\nconst tiempoTranscurrido = Date.now();\n//const hoy = new Date(tiempoTranscurrido);\n\n\n/*const selectBoxData = [\n    { id: 1, grupo: \"Partida\" },\n    { id: 2, grupo: \"Estimada\" },\n    // ...\n];*/\n\n\n\nconst PartidaAdd = ({itemSelected, setNuevoPres, editando, partidaSeleccionada, setPartidaSeleccionada,partidaeditando, textoB, pagina}) => {\n\n    /*const [ItemSub, setItemSub] = useState({\n    });*/\n\n\n\tconst [sumasApu, setSumasApu] = useState({S_mo:'0.00',S_mat:'0.00',S_eq:'0.00',S_subc:'0.00',S_subp:'0.00',TotalPU:'0.00'});\n\t//const [rendimientoMO, setRendimientoMO] = useState('0.00');\n\t//const [rendimientoEQ, setRendimientoEQ] = useState('0.00');\n\n    \n    const [grupoSel, setGrupoSel] = useState('Partida');\n    const [grupos, setgrupos] = useState(['Partida', 'Estimada']);\n    const [show, setShow] = useState(false);\n    const [titulo, setTitulo] = useState('Agregando Partida');\n    const Indica=useRef(1);\n    const [partidaN, setPartidaN] = useState([]);\n    //VARIABLES PARA TAMAÑO DE PANTALLA\n    const [titulos, setTitulos] = useState('100%');\n    //let history = useHistory();\n    //const classes = useStyles();\n    const dispatch = useDispatch();\n    const proyects = useSelector((state) => state.proyects);\n    //const [selecOP, setselecOP] = useState(1);\n\n\t//const [width, setWidth] = useState(360);\n\tconst [width, setWidth] = useState(20);\n    const [height, setHeight] = useState(window.innerHeight);\n\tconst [open, setOpen] = useState(false);\n    const realiza = useRef(0);\n    \n    const cargado = useRef(false);\n    \n    const guardado = useRef(false);\n\n    /*const showFn = () => {\n        setShow(true)\n    }*/\n\n    const [datosApus, setDatosApus] = useState([])\n\n\n   \n    const onValueChangedGrupo = (e) => {\n        setGrupoSel(e.value);\n      }\n\n  \n    function roundN(num, n) {\n        return parseFloat(Math.round(num * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n);\n    }\n\n\n\n\n    useEffect(() => {\n        if (editando===1){\n            setWidth(30);\n            /*if (proyects.DataPartida === undefined) return;\n            if (!proyects.DataPartida[0]) return;\n            //setselecOP(proyects.seleccionado)\n            console.log('ESTA ES LA DATA DE MI PARTIDA')\n            console.log(proyects.DataPartida)\n            proyects.DataPartida[0].CodPartidaI=proyects.DataPartida[0].CodPartida.substring(10,12);\n            setPartidaN(proyects.DataPartida[0])*/\n        }\n        else{\n            if (editando===2)\n                setWidth(30);\n            if (editando===0 && !cargado.current)\n                setWidth(30);\n            if (editando===0 && cargado.current){\n                setWidth(360);\n            }\n                \n                //setWidth(360);\n    \n            if (proyects.DataPartida === undefined) return;\n            if (!proyects.DataPartida[0]) return;\n            console.log('Este es mi codigo obtenido')\n            console.log(proyects.CodigoObtenido)\n            proyects.DataPartida[0].CodPartidaI=proyects.CodigoObtenido[0]?.Output1;\n            setPartidaN({...partidaN,CodPartidaI:proyects.CodigoObtenido[0]?.Output1});\n            realiza.current=1;\n\n            /*const NPartida={\n                ActualizacionFecha: \"2018-12-19T09:30:12.597\",\n                ActualizacionUsuario: \"Erwin\",\n                CodPartida: proyects.DataPartida[0].CodPartida.substring(0,10)+'99',\n                CodPartidaI: \"99\",\n                CodPartidaP: proyects.DataPartida[0].CodPartida.substring(0,10),\n                CodPresupuesto: \"9999999\",\n                CodUnidad: proyects.DataPartida[0].CodUnidad,\n                CodUnidadPeso: null,\n                CodigoAlterno: \"\",\n                CreacionFecha: \"2018-12-19T09:30:12.597\",\n                CreacionUsuario: \"Erwin\",\n                Descripcion: \"\",\n                DescripcionAlterna: \"\",\n                Grupo: 1,\n                Jornada: 8,\n                Nivel: 6,\n                Peso: 0,\n                PropioPartida: \"99\",\n                RendimientoEQ: 0.00,\n                RendimientoMO: 0.00,\n            }*/\n          //  setPartidaN(NPartida)\n        }\n        //alert(proyects.AuxModelo);\n    }, [proyects.CodigoObtenido])\n\n\n\n    useEffect(() => {\n        if (editando===1){\n            setTitulo('Editando Partida');\n            if (proyects.DataPartida === undefined) return;\n            if (!proyects.DataPartida[0]) return;\n            //setselecOP(proyects.seleccionado)\n            console.log('ESTA ES LA DATA DE MI PARTIDA')\n            console.log(proyects.DataPartida)\n            proyects.DataPartida[0].CodPartidaP=proyects.DataPartida[0].CodPartida.substring(0,10);\n            proyects.DataPartida[0].CodPartidaI=proyects.DataPartida[0].CodPartida.substring(10,12);\n            proyects.DataPartida[0].UnidadSimbolo=partidaSeleccionada[0].Unidad;\n            setPartidaN(proyects.DataPartida[0])\n        }\n        else{\n            if (editando===0){\n                setTitulo('Agregando Partida');\n                if (proyects.DataPartida === undefined) return;\n                if (!proyects.DataPartida[0]) return;\n    \n                const NPartida={\n                    ActualizacionFecha: \"2018-12-19T09:30:12.597\",\n                    ActualizacionUsuario: \"Erwin\",\n                    CodPartida: proyects.DataPartida[0].CodPartida.substring(0,10)+proyects.CodigoObtenido[0]?.Output1,\n                    CodPartidaI: proyects.CodigoObtenido[0]?.Output1,\n                    CodPartidaP: proyects.DataPartida[0].CodPartida.substring(0,10),\n                    CodPresupuesto: \"9999999\",\n                    //CodUnidad: proyects.DataPartida[0].CodUnidad,\n                    CodUnidad: '',\n                    CodUnidadPeso: null,\n                    CodigoAlterno: \"\",\n                    CreacionFecha: \"2018-12-19T09:30:12.597\",\n                    CreacionUsuario: \"Erwin\",\n                    Descripcion: \"\",\n                    DescripcionAlterna: \"\",\n                    Grupo: 1,\n                    Jornada: 8,\n                    Nivel: 6,\n                    Peso: 0,\n                    PropioPartida: \"99\",\n                    RendimientoEQ: 0.00,\n                    RendimientoMO: 0.00,\n                    UnidadSimbolo:'',\n                }\n                //realiza.current=0;\n                if (proyects.CodigoObtenido[0]?.Output1!=='') realiza.current=1;\n                else realiza.current=0;\n    \n                setPartidaN(NPartida)\n    \n\n            }\n            if (editando===2){\n                setTitulo('Duplicando Partida');\n                if (proyects.DataPartida === undefined) return;\n                if (!proyects.DataPartida[0]) return;\n                //setselecOP(proyects.seleccionado)\n                console.log('ESTA ES LA DATA DE MI PARTIDA')\n                console.log(proyects.DataPartida)\n                //proyects.DataPartida[0].CodPartidaP=proyects.DataPartida[0].CodPartida.substring(0,10);\n                //proyects.DataPartida[0].CodPartidaI=proyects.DataPartida[0].CodPartida.substring(10,12);\n                proyects.DataPartida[0].CodPartida= proyects.DataPartida[0].CodPartida.substring(0,10)+proyects.CodigoObtenido[0]?.Output1;\n                proyects.DataPartida[0].CodPartidaI= proyects.CodigoObtenido[0]?.Output1;\n                proyects.DataPartida[0].CodPartidaP= proyects.DataPartida[0].CodPartida.substring(0,10);\n                proyects.DataPartida[0].UnidadSimbolo=partidaSeleccionada[0].Unidad;\n                proyects.DataPartida[0].Descripcion=partidaSeleccionada[0].Descripcion + ' Copia';\n                setPartidaN(proyects.DataPartida[0])\n            }\n            \n        }\n        //alert(proyects.AuxModelo);\n    }, [proyects.DataPartida])\n\n    //establecer tamaños y posiciones\n\n   /* useEffect(() => {\n        setHistoricos([]);\n        setHistoricoSel('');\n\n        if (proyects.seleccionado === 1) {\n            //alert('');\n            if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0]) {\n                if (proyects.DatosPresupuesto[0].HistoricoPrecios) {\n                    let A_historicos = proyects.DatosPresupuesto[0].HistoricoPrecios.split(\"|\");\n                    setHistoricos(A_historicos);\n                    //alert(A_historicos[0]);\n                    setHistoricoSel(A_historicos[0]);\n                    //alert(historicos[0]);\n                    //proyects.DatosPresupuesto[0].HistoricoPrecios;\n                }\n            }\n        }\n        //if (selecOP === 1) setselecOP(2); else setselecOP(1);\n\n    }, [proyects.DatosPresupuesto])*/\n\n    const handlerOnChange = () => {\n    }\n\n    const CambiaDescripcion = (data) => {\n        if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }\n        setPartidaN( (state) => ({...state,Descripcion:data.value}));\n\t}\n   \n    const CambiaDescripcionAlterna = (data) => {\n        if (data.value.length>250){\n            data.value=data.value.substring(0,250);\n        }\n        setPartidaN( (state) => ({...state,DescripcionAlterna:data.value}));\n\t}\n   \n    \n\n    const CambiaCodigoAlterno = (data) => {\n\t\t//console.log(data)        \n        //alert(data.event.keyCode)\n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='';\n        }\n        if (data.value.length>20){\n            data.value=data.value.substring(0,20);\n        }\n        //partidaN.CodAlterno\n        setPartidaN( (state) => ({...state,CodAlterno:data.value}));\n\t}\n\n    \n    const CambiaPeso = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPartidaN( (state) => ({...state,Peso:data.value}));\n\t}\n\n    const CambiaRendimientoMO = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPartidaN( (state) => ({...state,RendimientoMO:data.value}));\n\t}\n\n    const CambiaRendimientoEQ = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='0.00';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n        setPartidaN( (state) => ({...state,RendimientoEQ:data.value}));\n\t}\n\n    const CambiaJornada = (data) => {      \n        if (data.event)\n        if (data.event.keyCode>=65 && data.event.keyCode<=90){\n            if (data.value.length>1)\n                data.value=data.value.substring(0,data.value.length-1);\n            else\n                data.value='';\n        }\n        if (isNaN(data.value)) {\n            data.value='8';\n        }\n\n        if (data.value.length>8){\n            data.value=data.value.substring(0,8);\n        }\n       setPartidaN( (state) => ({...state,Jornada:data.value}));\n\t}\n\n    \n    //const onCurrentValueChanged = (e) => {\n    //    setPresupuestoN( (state) => ({...state, Fecha:e.value}));\n        /*this.setState({\n          currentValue: e.value\n        });*/\n     // }\n\n    const valida = (e) => {\n        if (guardado.current) //ACTUALIZAR\n        return;\n\n        if (editando===1){\n            let grupo=1;\n            if(grupoSel==='Partida') grupo='1'; else grupo='2';\n            let CodUn1=\"Null\";\n            if(partidaN.CodUnidadPeso===null || partidaN.CodUnidadPeso==='') CodUn1=\"Null\"; else CodUn1=\"'\" + partidaN.CodUnidadPeso + \"'\";\n            dispatch(modificarPartida(partidaN.CodPartidaP + partidaN.CodPartidaI,partidaN.CodPresupuesto,partidaN.PropioPartida,partidaN.Nivel,partidaN.CodigoAlterno, partidaN.Descripcion, partidaN.DescripcionAlterna, partidaN.CodUnidad, grupo, partidaN.RendimientoMO, partidaN.RendimientoEQ, partidaN.Jornada, CodUn1, partidaN.Peso, ''));\n            partidaeditando.Descripcion=partidaN.Descripcion;\n            partidaeditando.UnidadPartida=partidaN.UnidadSimbolo;\n            dispatch(modificaPartidas(partidaeditando));\n            console.log('Estos son los datos de mi partida seleccionada')\n            console.log(partidaeditando)\n            //alert(guardado)\n\n        }else{\n                let grupo=1;\n                if(grupoSel==='Partida') grupo='1'; else grupo='2';\n                let CodUn1=\"Null\";\n                if(partidaN.CodUnidadPeso===null || partidaN.CodUnidadPeso==='') CodUn1=\"Null\"; else CodUn1=\"'\" + partidaN.CodUnidadPeso + \"'\";\n                dispatch(guardarPartida(partidaN.CodPartidaP + partidaN.CodPartidaI,proyects.DatosPresupuesto[0]?.CodPresupuesto,'99','6',partidaN.CodigoAlterno, partidaN.Descripcion, partidaN.DescripcionAlterna, partidaN.CodUnidad, grupo, partidaN.RendimientoMO, partidaN.RendimientoEQ, partidaN.Jornada, CodUn1, partidaN.Peso, ''));\n                let nuevaeP = {...partidaeditando};\n                nuevaeP.CodPartida=partidaN.CodPartidaP + partidaN.CodPartidaI;\n                nuevaeP.Descripcion=partidaN.Descripcion;\n                nuevaeP.UnidadPartida=partidaN.UnidadSimbolo;\n                dispatch(agregaPartidas(nuevaeP));\n                alert(editando)\n            //GUARDAR LOS DATOS DE LOS APUS\n            /*setTimeout(() => {\n                for (let i=0;i<datosApus.length;i++)\n                {\n                    if (datosApus[i].TipoDetalle!=='Subpartida')    \n                        dispatch(ingresarAPU(proyects.DatosPresupuesto[0]?.CodPresupuesto, partidaN.CodPartidaP + partidaN.CodPartidaI,'9999999' ,'99',1,datosApus[i].CodInsumo,'999999999999','9999999','99',''));\n                    else\n                        dispatch(ingresarAPU(proyects.DatosPresupuesto[0].CodPresupuesto, partidaN.CodPartidaP + partidaN.CodPartidaI, '9999999' , '99',2,'999999999999', datosApus[i].CodPartidaR,datosApus[i].CodPresupuestoR,datosApus[i].PropioPartidaR,''));\n                }                    \n            }, 1000);*/\n        }\n        /*Swal.fire(\n            'Bien!',\n            'Los datos de tu Partida  ' + partidaN.Descripcion + ' se almacenaron Correctamente!',\n            'success'\n          )*/\n          guardado.current=true;\n          //setNuevoPres(false);\n          e.preventDefault();\n    }\n    \n\n    const guarda = () => {\n        if (editando===1){\n            guardado.current=true;\n            return 1;\n        }\n        if (partidaN.Descripcion==='' || partidaN.CodUnidad===''){\n            Swal.fire('Error!','Debe ingresar los datos de la cabecera ','error');\n            return 0;\n        }\n        \n        let grupo=1;\n        if(grupoSel==='Partida') grupo='1'; else grupo='2';\n        let CodUn1=\"Null\";\n        if(partidaN.CodUnidadPeso===null || partidaN.CodUnidadPeso==='') CodUn1=\"Null\"; else CodUn1=\"'\" + partidaN.CodUnidadPeso + \"'\";\n        dispatch(guardarPartida(partidaN.CodPartidaP + partidaN.CodPartidaI, proyects.DatosPresupuesto[0]?.CodPresupuesto, '99', '6', partidaN.CodigoAlterno, partidaN.Descripcion, partidaN.DescripcionAlterna, partidaN.CodUnidad, grupo, partidaN.RendimientoMO, partidaN.RendimientoEQ, partidaN.Jornada, CodUn1, partidaN.Peso, ''));\n        let nuevaeP = { ...partidaeditando };\n        nuevaeP.CodPartida = partidaN.CodPartidaP + partidaN.CodPartidaI;\n        nuevaeP.Descripcion = partidaN.Descripcion;\n        nuevaeP.UnidadPartida = partidaN.UnidadSimbolo;\n        dispatch(agregaPartidas(nuevaeP));\n        guardado.current=true;\n        return 1;\n        \n        \n        //GUARDAR LOS DATOS DE LOS APUS\n        /*setTimeout(() => {\n            for (let i = 0; i < datosApus.length; i++) {\n                if (datosApus[i].TipoDetalle !== 'Subpartida')\n                    dispatch(ingresarAPU(proyects.DatosPresupuesto[0]?.CodPresupuesto, partidaN.CodPartidaP + partidaN.CodPartidaI, '9999999', '99', 1, datosApus[i].CodInsumo, '999999999999', '9999999', '99', ''));\n                else\n                    dispatch(ingresarAPU(proyects.DatosPresupuesto[0].CodPresupuesto, partidaN.CodPartidaP + partidaN.CodPartidaI, '9999999', '99', 2, '999999999999', datosApus[i].CodPartidaR, datosApus[i].CodPresupuestoR, datosApus[i].PropioPartidaR, ''));\n            }\n        }, 1000);*/\n    }\n\n\n    const ReglaNumerica = {\n        X: /[02-9]/\n      };\n\n\n      useEffect(() => {\n\t\t//if (open1===false) return;\n\t\t//if (levelPC===1) return;\n        \n        \n\t\tif (!proyects.SumasApuCatalogo)return;\n\t\tif (proyects.SumasApuCatalogo===undefined)return;\n\t\tif (proyects.SumasApuCatalogo==='')return;\n\t\t\n\t\t//alert(proyects.SumasApu)\n\t\t\n        if (editando!==0){\n            let Sumas=proyects.SumasApuCatalogo.split('|');\n            //console.log('Estos son mis totales de APU')\n            //console.log(Sumas)\n             //mo\n             //materiales\n             //equipos\n             //subcontratos\n             //subpartidas\n             //Precio\n            const ObjSumas={S_mo:roundN(Sumas[0],2),S_mat:roundN(Sumas[2],2),S_eq:roundN(Sumas[4],2),S_subc:roundN(Sumas[6],2),S_subp:roundN(Sumas[8],2),TotalPU:roundN(Sumas[10],2)};\n            setSumasApu(ObjSumas);    \n        }else{\n\n            const ObjSumas={S_mo:roundN('0.00',2),S_mat:roundN('0.00',2),S_eq:roundN('0.00',2),S_subc:roundN('0.00',2),S_subp:roundN('0.00',2),TotalPU:roundN('0.00',2)};\n            setSumasApu(ObjSumas);    \n\n        }\n\t\t\t//analisis_modificado.current=0;\n\t}, [proyects.SumasApuCatalogo])\n\n\n\n\n\n\n    return (\n        <div className=\"animate__animated animate__fadeIn\" style={{ marginLeft: '15px', marginTop: '10px', height: '50%', width: '99%' }}>\n            \n            <BuscaUnidad tipo=\"Nuevo\" partidaN={partidaN} setPartidaN={setPartidaN} setShow={setShow} show={show} Indica={Indica.current} />\n            (<Card id=\"CardT\" className=\"animate__animated animate__fadeIn\" style={{ overflow: 'hidden', marginLeft: '20px', height: '85vh', padding: '15px'/*, background:'blue'*/ }}>\n                <Card.Header style={{ fontSize: '1rem', background: '#398bf7', color: 'white', fontWeight: '550' }}>{titulo}\n                </Card.Header>\n                <Card.Body class=\"ml-0\" >\n                    {!editando ? <Resizable\n                        className=\"tree-fixed p-0 d-flex justify-content-between\"\n                        enable={{ top: false, right: true, bottom: false, left: false, topRight: false, bottomRight: false, bottomLeft: false, topLeft: false }}\n                        style={{ background: '#f5f6f8' }}\n                        size={{ width: width, height: ($(\"#CardT\").innerHeight()>$(\"#Form2\").innerHeight()) ? $(\"#CardT\").innerHeight() : ($(\"#Form2\").innerHeight() - 20) }}\n                        marginLeft=\"-20px\"\n                        maxWidth={open ? 500 : 0}\n                        minWidth=\"20px\"\n                        onResizeStop={(e, direction, ref, d) => {\n                            setWidth(width + d.width);\n                            //setHeight(height + d.height);\n                        }}\n                    >\n                        <Collapse in={open}>\n                            <div id=\"Conte18\" className=\"p-0 h-100 w-100\" style={{\n                                overflow: 'scroll',\n                                background: '#f5f6f8',\n                                color: '#333337'\n                            }}>\n                                <div className=\"form mt-3\">\n                                    <div className=\"input-group\" data-widget=\"\">\n                                    </div>\n                                </div>\n                                {realiza.current===1 ? <TreeGRPart\n                                    Accion=\"Presupuesto\"\n                                    //filtrado={textoB}\n                                    levelStart={1}\n                                    idProject=\"\"\n                                    marginTop=\"60\"\n                                    marginLeft='0px'                                    \n                                    CodPres={proyects.DataPartida[0].CodPartida}  \n                                    setPartidaN={setPartidaN}\n                                    \n                                //estado={estado}\n                                //setEstado={setEstado}\n                                />:''}\n                            </div>\n                        </Collapse>\n                        <div\n                            className=\"bara-cerrar d-flex align-items-center barras\"\n                            style={{\n                                width: '16px',\n                                height: \"100%\",\n                                background: '#f5f6f8',\n                                marginLeft: 5,\n                                borderStyle: 'none solid none none',\n                                borderColor: '#c6c7d0',\n                                borderWidth: '0.5px',\n                                zIndex: '1',\n                            }}\n                        >\n                            <div\n                                style={{\n                                    cursor: \"pointer\", width: '30px',\n                                    background: 'white',\n                                    zIndex: '1'\n                                }}\n                                className=\"h-0 w-100 \"\n                                onClick={() => {\n                                    setOpen(!open);\n                                    if (open) setWidth(25);\n                                    else setWidth(360);\n                                    if (!open && !cargado.current) //primera vez\n                                    {\n                                        dispatch(selectGRPPARTIDAS('1','',50,1,'','',\"LISTAR_GRP_PARTIDAS\"));\n                                        cargado.current=true;\n                                    }\n                                    \n\n                                }}\n                                aria-controls=\"example-collapse-text\"\n                                aria-expanded={open}\n                                style={{ background: 'transparent', zIndex: '1', width: '80px' }}\n                            >\n                                {open ? (\n                                    <ion-icon name=\"chevron-back-outline\" style={{ cursor: \"pointer\", color: 'black', borderColor: '#c6c7d0', marginLeft: '4px', background: 'white', zIndex: '2', width: '20px', height: '20px', borderRadius: '20px', borderStyle: 'solid', borderWidth: '0.5px', }}></ion-icon>\n                                ) : (\n                                    <ion-icon name=\"chevron-forward-outline\" style={{ cursor: \"pointer\", color: 'black', borderColor: '#c6c7d0', marginLeft: '4px', background: 'white', zIndex: '2', width: '20px', height: '20px', borderRadius: '20px', borderStyle: 'solid', borderWidth: '0.5px' }}></ion-icon>\n                                )}\n                            </div>\n                        </div>\n                    </Resizable> : ''}\n                    <Form id=\"Form2\" onSubmit={valida} style={{\n                        position: 'absolute', left: width + 25, top: '80px',\n                                /*background: 'rgba(1,1,1,0.2)',*/ width: $(\"#CardT\").innerWidth() - width - 60\n                    }}>\n                        <Button1 useSubmitBehavior={true} type=\"Submit\" variant=\"outline-info\" style={{ position: 'absolute', left: !editando ? 170-width: '170px', top: '-55px' }}\n                        ><i class=\"far fa-save\"></i>   Guardar</Button1>\n                        <Form.Group as={Row} className=\"mb-1 mt-3\" controlId=\"formCodigo\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Codigo (*)\n                                    </Form.Label>\n                            <Col sm={2}>\n                                <TextBox\n                                    defaultValue={partidaN.CodPartidaP}\n                                    value={partidaN.CodPartidaP}\n                                    readOnly={true}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n                            <Col sm={1}>\n                                <TextBox\n                                    defaultValue={partidaN.CodPartidaI}\n                                    value={partidaN.CodPartidaI}\n                                    readOnly={true}\n                                    valueChangeEvent=\"keyup\"\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Codigo es requerido\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formAlterno\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Alterno\n                                    </Form.Label>\n                            <Col sm={2}>\n                                <TextBox\n                                    defaultValue={partidaN.CodAlterno}\n                                    value={partidaN.CodAlterno}\n                                    valueChangeEvent=\"keyup\"\n                                    onValueChanged={CambiaCodigoAlterno}\n                                />\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formDescripcion\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Descripcion (*)\n                                    </Form.Label>\n                            <Col sm={10}>\n                                <TextBox\n                                    defaultValue={partidaN.Descripcion}\n                                    value={partidaN.Descripcion}\n                                    onValueChanged={CambiaDescripcion}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Descripcion es requerida\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formDescripcion\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Descripcion Alterna\n                                    </Form.Label>\n                            <Col sm={10}>\n                                <TextBox\n                                    defaultValue={partidaN.DescripcionAlterna}\n                                    value={partidaN.DescripcionAlterna}\n                                    onValueChanged={CambiaDescripcionAlterna}\n                                >\n                                </TextBox>\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formGeograqfica\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Unidad (*)\n                                    </Form.Label>\n                            <Col sm={1}>\n                                <TextBox\n                                    defaultValue={partidaN.CodUnidad}\n                                    value={partidaN.CodUnidad}\n                                    readOnly={true}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"unidad es requerida\" />\n                                    </Validator>\n                                </TextBox>\n\n                            </Col>\n                            <Col sm={4}>\n                                <TextBox\n                                    defaultValue={partidaN?.DescripcionUnidad}\n                                    value={partidaN?.DescripcionUnidad}\n                                    readOnly={true}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Unidad es requerida\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n                            <Col sm={1}>\n                                <TextBox\n                                    defaultValue={partidaN?.UnidadSimbolo}\n                                    value={partidaN?.UnidadSimbolo}\n                                    readOnly={true}\n                                >\n                                </TextBox>\n                            </Col>\n                            <Col sm={1}>\n                                <Button1 variant=\"outline-info\" height=\"35px\" onClick={() => {\n                                    Indica.current = 1;\n                                    dispatch(selectUNIDADES('', '20', '1', ''));\n                                    setShow(true);\n                                    console.log(proyects.DataUnidades)\n                                }}>...</Button1>\n\n                                <Button1 variant=\"outline-info\" height=\"35px\" style={{ marginLeft: '10px' }} onClick={() => {\n                                    setPartidaN((state) => ({ ...state, CodUnidad: '', DescripcionUnidad: '', UnidadSimbolo: '' }))\n                                }}>X</Button1>\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formGeograqfica\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Unidad Peso\n                                        </Form.Label>\n                            <Col sm={1}>\n                                <TextBox\n                                    defaultValue={partidaN.CodUnidadPeso}\n                                    value={partidaN.CodUnidadPeso}\n                                    readOnly={true}\n                                >\n                                </TextBox>\n\n                            </Col>\n                            <Col sm={4}>\n                                <TextBox\n                                    defaultValue={partidaN?.DescripcionUnidadPeso}\n                                    value={partidaN?.DescripcionUnidadPeso}\n                                    readOnly={true}\n                                >\n                                </TextBox>\n                            </Col>\n                            <Col sm={1}>\n                                <TextBox\n                                    defaultValue={partidaN?.UnidadPesoSimbolo}\n                                    value={partidaN?.UnidadPesoSimbolo}\n                                    readOnly={true}\n                                >\n                                </TextBox>\n                            </Col>\n                            <Col sm={1}>\n                                <Button1 variant=\"outline-info\" height=\"35px\" onClick={() => {\n                                    Indica.current = 2;\n                                    dispatch(selectUNIDADES('', '20', '1', ''));\n                                    setShow(true);\n                                }}>...</Button1>\n\n                                <Button1 variant=\"outline-info\" height=\"35px\" style={{ marginLeft: '10px' }} onClick={() => {\n                                    setPartidaN((state) => ({ ...state, CodUnidadPeso: '', DescripcionUnidadPeso: '', UnidadPesoSimbolo: '' }))\n                                }}>X</Button1>\n                            </Col>\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Peso\n                                        </Form.Label>\n                            <Col sm={1}>\n                                <TextBox\n                                    defaultValue={partidaN.Peso}\n                                    value={partidaN.Peso}\n                                    readOnly={false}\n                                    rtlEnabled={true}\n                                    onValueChanged={CambiaPeso}\n                                >\n                                </TextBox>\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formMoneda\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Grupo\n                                    </Form.Label>\n                            <Col sm={2}>\n                                <SelectBox items={grupos}\n                                    defaultValue={grupoSel}\n                                    valueChangeEvent=\"keyup\"\n                                    onValueChanged={onValueChangedGrupo}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Grupo es requerido\" />\n                                    </Validator>\n                                </SelectBox>\n                            </Col>\n                        </Form.Group>\n\n                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formDescripcion\">\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Rendimiento MO\n                                        </Form.Label>\n                            <Col sm={2}>\n                                <TextBox\n                                    defaultValue={partidaN.RendimientoMO}\n                                    value={partidaN.RendimientoMO}\n                                    onValueChanged={CambiaRendimientoMO}\n                                    rtlEnabled={true}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Descripcion es requerida\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Rendimiento EQ\n                                        </Form.Label>\n                            <Col sm={2}>\n                                <TextBox\n                                    defaultValue={partidaN.RendimientoEQ}\n                                    value={partidaN.RendimientoEQ}\n                                    onValueChanged={CambiaRendimientoEQ}\n                                    rtlEnabled={true}\n                                //readOnly={true}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Descripcion es requerida\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n                            <Form.Label column sm={1} style={{ fontSize: titulos }}>\n                                Jornada\n                                        </Form.Label>\n                            <Col sm={2}>\n                                <TextBox\n                                    defaultValue={partidaN.Jornada}\n                                    value={partidaN.Jornada}\n                                    onValueChanged={CambiaJornada}\n                                    rtlEnabled={true}\n                                >\n                                    <Validator>\n                                        <RequiredRule message=\"Descripcion es requerida\" />\n                                    </Validator>\n                                </TextBox>\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-3 mt-3 ml-2\">\n                            <Col sm={12}>\n                                <Nav\n                                    variant=\"tabs\"\n                                    defaultActiveKey=\"/home\"\n                                    className=\"eyelashes\"\n                                    style={{ height: '100%' }}\n                                >\n                                    <Nav.Item>\n                                        <Nav.Link\n                                            href=\"#\"\n                                            eventKey=\"link-1\"\n                                            active={true}\n                                            onClick={() => { }}\n                                        >\n                                            <i className=\"fas fa-table\" style={{ marginRight: '30px', fontWeight: 'bold' }}></i>\n                                            Análisis de Precio Unitario APU\n                                        </Nav.Link>\n                                    </Nav.Item>\n                                </Nav>\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-3\">\n                            <Col sm={12}>\n\n                            <div style={{ height: '25px', width: '100%', background: 'white'/*, boxShadow:'inset 0.8px 0.8px rgba(0,0,0,0.2)'*/, marginBottom: '0px', marginTop:'-10px' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{ position: 'absolute', marginTop: '0px', marginLeft: '5px', fontSize: '0.9rem' }}> Total APU: {sumasApu.TotalPU === undefined || !sumasApu.TotalPU ? '0.00' : sumasApu.TotalPU}</spam>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{/* <spam style={{ position: 'absolute', marginTop: '12px', marginLeft: '140px', fontSize: '0.65rem' }}> Rendimiento MO:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextBox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ position: 'relative', marginLeft: '85px', marginTop: '-22px', width: '70px', height: '25px' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//defaultValue={rendimientoMO}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//value={rendimientoMO}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trtlEnabled='true'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//readOnly={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></TextBox>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</spam>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{ position: 'absolute', marginTop: '12px', marginLeft: '300px', fontSize: '0.65rem' }}> Rendimiento EQ:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<TextBox\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ position: 'relative', marginLeft: '85px', marginTop: '-22px', width: '70px', height: '25px' }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//defaultValue={rendimientoEQ}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//value={rendimientoEQ}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trtlEnabled='true'\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//readOnly={true}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></TextBox> \n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{ position: 'absolute', marginLeft: '220px', marginTop: '-22px', width: '1500px', height: '25px', color: 'rgba(0,0,0,0.5)', fontSize: '0.9rem' }}></spam>\n                                                    </spam>*/}\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t<div style={{ height: '25px', width: '100%', background: 'white'/*, boxShadow:'inset 0.8px 0.8px rgba(0,0,0,0.2)'*/, marginBottom: '3px' }}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{ position: 'absolute', marginTop: '-3px', left: '10px', fontSize: '0.7rem', color: 'rgba(0,0,0,0.7)' }}> Mano Obra: {sumasApu.S_mo === undefined || !sumasApu.S_mo ? '0.00' : sumasApu.S_mo}</spam>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{ position: 'absolute', marginTop: '-3px', left: '160px', fontSize: '0.7rem', color: 'rgba(0,0,0,0.7)' }}> Material: {sumasApu.S_mat === undefined || !sumasApu.S_mat ? '0.00' : sumasApu.S_mat}</spam>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{ position: 'absolute', marginTop: '-3px', left: '300px', fontSize: '0.7rem', color: 'rgba(0,0,0,0.7)' }}> Equipo: {sumasApu.S_eq === undefined || !sumasApu.S_eq ? '0.00' : sumasApu.S_eq}</spam>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{ position: 'absolute', marginTop: '-3px', left: '450px', fontSize: '0.7rem', color: 'rgba(0,0,0,0.7)' }}> Subcontrato: {sumasApu.S_subc === undefined || !sumasApu.S_subc ? '0.00' : sumasApu.S_subc}</spam>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<spam style={{ position: 'absolute', marginTop: '-3px', left: '600px', fontSize: '0.7rem', color: 'rgba(0,0,0,0.7)' }}> Subpartidas: {sumasApu.S_subp === undefined || !sumasApu.S_subp ? '0.00' : sumasApu.S_subp}</spam>\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\n\n                                <ApusEdicion                                    \n                                    levelStart={1}\n                                    idProject={proyects.idCard}\n                                    DataApus={editando===0 ? []:proyects.DataApuCatalogo}\n                                    editando={editando}\n                                    datosApus={datosApus}\n                                    setDatosApus={setDatosApus}\n                                    sumasApu={sumasApu}\n                                    setSumasApu={setSumasApu}   \n                                    partidaN={partidaN}\n                                    guardado={guardado}\n                                    guarda={guarda}\n                                />\n                            </Col>\n                        </Form.Group>\n                        <Form.Group as={Row} className=\"mb-3\">\n                            <ValidationSummary id=\"summary\" style={{ position: 'relative', marginLeft: '45%' }}></ValidationSummary>\n                        </Form.Group>\n                    </Form>\n\n                </Card.Body>\n            </Card>)\n\n        </div>\n    )\n}\n\nexport default PartidaAdd\n","import { Modal } from 'react-bootstrap'\nimport { useSelector, useDispatch } from 'react-redux';\nimport Button1 from 'devextreme-react/button';\nimport { Resizable } from \"re-resizable\";\nimport $ from 'jquery';\nimport { useEffect, useRef, useState } from 'react';\nimport { ContextMenu, DataGrid, TextBox } from 'devextreme-react';\nimport Pagination from '@material-ui/lab/Pagination';\nimport { eliminaPartidas, eliminarPartida, guardarItemSub, obtenerIdPartida, selectPartida, selectPARTIDAS, selectTITULOS, desplazarSecuenciales, selectTitulo, obtenerIdTitulo, eliminarTitulo, eliminaTitulos, selectRECURSOS, selectGRPPARTIDAS, selectAPUSCATALOGO, limpiarGRPPARTIDAS, limpiarGRPRECURSOS, selectRecurso, ingresarAPU, selectAPUS, agregaItem, selectPartida1, selectTitulo1, limpiarRECURSOS, selectPARTIDAS1, selectTITULOS1, modificaPRECIO } from '../actions/proyects.actions';\nimport { Column, Grouping, GroupPanel, Paging, RowDragging, Scrolling, SearchPanel, Selection, Export, Editing } from 'devextreme-react/data-grid';\nimport { Workbook, Excel } from 'exceljs';\nimport { saveAs } from 'file-saver-es';\n// Our demo infrastructure requires us to use 'file-saver-es'.\n// We recommend that you use the official 'file-saver' package in your applications.\nimport { exportDataGrid } from 'devextreme/excel_exporter';\n\n\n\nimport Dialog from '@mui/material/Dialog';\nimport DialogActions from '@mui/material/DialogActions';\nimport DialogContent from '@mui/material/DialogContent';\nimport DialogContentText from '@mui/material/DialogContentText';\nimport DialogTitle from '@mui/material/DialogTitle';\nimport Paper from '@mui/material/Paper';\nimport Draggable from 'react-draggable';\n\nfunction PaperComponent(props) {\n\treturn (\n\t  <Draggable\n\t\thandle=\"#draggable-dialog-title\"\n\t\tcancel={'[class*=\"MuiDialogContent-root\"]'}\n\t  >\n\t\t<Paper {...props} />\n\t  </Draggable>\n\t);\n  }\n\n//import Tree from './TreeAll';\n/*import PartidaAdd from '../views/PartidaAdd';\nimport TitulosAdd from '../views/TitulosAdd';\nimport GrupoCatAdd from '../views/GrupoCatAdd';\nimport GrupoPartAdd from '../views/GrupoPartAdd';\n//import ApusCatalogo from './ApusCatalogo';\nimport RecursoAdd from '../views/RecursoAdd';-**/\n\n//import { selectCompany } from '../actions/auth.action';\n//import { Modal, Button, ListGroup } from \"react-bootstrap\";\n//import Apus from './Apus';\n//import { RefrescarV } from '../views/ViewerSc';\n//import { useHistory } from 'react-router-dom';\n\nconst ItemsM = [\n\t{\n\t\ttext: 'Quitar',\n\t\ticon: 'dx-icon-deletetable',\n\t}\n];\n\nconst CmpPrecios = ({ source, sourceData, P_key, show, setShow, setItemAgregar, itemAgregar, setItemAgregarTit, itemAgregarTit, \n\titemAgregarRec, open1, setOpen1, height, setHeight, IdsSelected, setIdsSelected,\n\titemsMenuCat, setItemReferencia, scrollToca, pagToca, textoB, setTextoB\n\t\n\t}) => {\n\n\n\t//const [height, setHeight] = useState(window.innerHeight - 80);\n\tconst dispatch = useDispatch();\n\tconst handleClose = () => setShow(false);\n\tconst proyects = useSelector((state) => state.proyects);\n\t//const [modo, setModo] = useState('Normal');\n\n\t//const [ancho, setAncho] = useState('85vw')\n\t/*const [pagina, setPagina] = useState(1);\n\tconst [tpagina, setTPagina] = useState(1);*/\n\t//const [textoB, setTextoB] = useState('');\n\n\t/*const [sumasApu, setSumasApu] = useState({S_mo:'0.00',S_mat:'0.00',S_eq:'0.00',S_subc:'0.00',S_subp:'0.00',TotalPU:'0.00'});\n\tconst [rendimientoMO, setRendimientoMO] = useState('0.00');\n\tconst [rendimientoEQ, setRendimientoEQ] = useState('0.00');*/\n\t\n\tconst [colorBorde, setColorBorde] = useState('transparent');\n\t\n\tconst [focusedRowKey, SetfocusedRowKey] = useState(0);\n\t/*const [nuevaPartida, setNuevaPartida] = useState(false);\n\tconst [nuevoRecurso, setNuevoRecurso] = useState(false);\n\tconst [nuevoTitulo, setNuevoTitulo] = useState(false);*/\n\n\t/*const [nuevoGrupo, setNuevoGrupo] = useState(false);\t\n\tconst [nuevoGrupoPart, setNuevoGrupoPart] = useState(false);\t*/\n\n\t//const [open1, setOpen1] = useState(false);\n\t\n\tconst [open, setOpen] = useState(true);\n\t\n\tconst [width, setWidth] = useState('100%');\n\t\n\tconst [levelPC, setLevelPC] = useState(1);\n\tconst [level, setLevel] = useState(2);\n\t\n\tconst [dataPreciosC, setDataPreciosC] = useState([]);\n\t\n\t//const [modoArrastre, setModoArrastre] = useState(false);\n\t//alert();\n\n\t//const [partidaSeleccionada, setPartidaSeleccionada] = useState(source === 1 ? itemAgregar : source === 2 ? itemAgregarTit : itemAgregarRec);\n\t//const [grupoSeleccionado, setGrupoSeleccionado] = useState(null);\t\n\n\t//const [ItemsM1, setItemsM1] = useState([]);\n\n\tconst [ItemsMenu, setItemsMenu] = useState([]);\n\t\n    const ItemsM1 = useRef([]);\n\tconst grupoSeleccionado = useRef(null);\n\t\n\t//const partidaSeleccionada = useRef(source.current === 1 ? itemAgregar : source.current === 2 ? itemAgregarTit : itemAgregarRec);\n\t//const partidaSeleccionada = useRef(itemReferencia);\n\n\tconst editando = useRef(0);\n\tconst partidaeditando = useRef(null);\n\tconst tituloeditando = useRef(null);\n\tconst recursoeditando = useRef(null);\n\tconst elementoSeleccion = useRef(null);\n\tconst seleccionActiva = useRef(true);\n\tconst eventoCargado = useRef(false);\n\n\tconst FrmPrin = useRef(null);\n\n\n\tconst seleccionar = (e) => {\n\n\t\t\n\t}\n\n\tuseEffect(() => {\n\t\t\n\t\tif (proyects.DataPrecios === undefined) return;\n\t\t//if (proyects.DataPrecios.length === 0) return;\n\t\t//orderTree(proyects.DataApu);\n\t\t//alert()\n\t\t//let AuxPrecios=[...proyects.DataPrecios];\n\n\t\tfor (let i = 0; i < proyects.DataPrecios.length; i++) {\n\t\t\tproyects.DataPrecios[i].Precio1 = roundN(proyects.DataPrecios[i].Precio1, 2) + '';\n\t\t\t//proyects.DataPrecios[i].PrecioInsumo1 = roundN(proyects.DataApu[i].PrecioInsumo1, 4) + '';\n\t\t\t//proyects.DataPrecios[i].CantidadInsumo = roundN(proyects.DataApu[i].CantidadInsumo, 4) + '';\n\t\t}\n\t\tsetDataPreciosC(proyects.DataPrecios);\n\t\t  \n\t}, [proyects.DataPrecios])\n\n\tlet timeout = useRef(null);\n\n\tconst valueChanged = (data) => {\n\t\tsetTextoB(data.value);\n\t\t//alert();\n\t\tif (data.value.length!==0 && data.value.length<3) return;\n\t\tif (source.current === 1){\n\n\n\t\t\tclearTimeout(timeout.current);\n\t\t\ttimeout.current = setTimeout(() => {\n\t\t\t\tif (data.value.length!==1 && data.value.length!==2){\t\t\t\t\t\t\n\t\t\t\t\t//console.log('Has dejado de escribir en el input con palabra ' + data.value)\n\t\t\t\t\t\n\t\t\t\t\t/*if (modoPaginacion===1)\n\t\t\t\t\tdispatch(selectPARTIDAS(data.value, '30', 1, ''));*/\n\t\t\t\t/*if (modoPaginacion===2)\n\t\t\t\t{\n\t\t\t\t\t//dispatch(selectPARTIDAS(data.value, '30', 1, ''));\n\t\t\t\t\tpagToca.current=2;\n\t\t\t\t\tscrollToca.current=300;\n\t\n\t\t\t\t}*/\n\n\n\t\t\t\t/*\tscrollToca.current= 380;\n\t\t\t\t\tpagToca.current=2;*/\n\n\t\t\t\t\tclearTimeout(timeout.current)\n\n\t\t\t\t}\n\t\t\t \n\t\t\t},700)\n\t\t}\n\t\t\t\n\n\t}\n\n\t\n\n\n\tfunction ItemTemplate(e) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<span className={e.icon} />\n\t\t\t\t{ `  ` + e.text}\n\t\t\t\t{ e.items ? <span className=\"dx-icon-spinright\" style={{ marginLeft: '25px' }} /> : null}\n\t\t\t</>\n\t\t);\n\t}\n\n\n\n\n\tfunction itemClick(e) {\n\n\t\tif (!e.itemData.items) {\n\n\n\t\t\tif (e.itemData.text === 'Nuevo Recurso') { //CUANDO ESTA VACIO\n\n\t\t\t\t\n\n\t\t\t}\n\n\t\t\t\n\n\n\t}\n\t}\n\t\n\tconst onCellPrepared = (e) => {\n\t\t//console.log(e);\n\t\t//SetfocusedRowKey(e.component.option('focusedRowKey'));\n        if(e.rowType === \"data\" && e.value && e.value !== true) {\n\t\t\tif (textoB!==''){\n\t\t\t\tvar searchText = textoB.toUpperCase();\n\t\t\t\tvar searchArr = searchText.split(' ');\n\t\t\t\t//console.log(searchArr);\n\t\t\t\tvar fieldHtml = null;\n\t\t\t\t//console.log(searchArr);\n\t\t\t\tsearchArr.forEach(function(s) {\n\t\t\t\t\tif (s !== '') {\n\t\t\t\t\t\tif (e.value.toUpperCase().includes(s)) {\n\t\t\t\t\t\t\t//console.log('split')\n\t\t\t\t\t\t\t//alert(s);\n\t\t\t\t\t\t\tvar word = e.value;\n\t\t\t\t\t\t\tif (fieldHtml !== null)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tword = fieldHtml;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar wArr = word.split(s);\n\t\t\t\t\t\t\t//console.log(wArr);\n\t\t\t\t\t\t\tfieldHtml =  wArr[0] + \"<span class='searchCss' style='color:white; background:blue';'> \" + s + \"</span>\" + wArr[1] ;\n\t\t\t\t\t\t\tif (wArr.length>1)\n\t\t\t\t\t\t\tfor (let i=2;i<wArr.length;i++)\n\t\t\t\t\t\t\t \tfieldHtml =  fieldHtml + wArr[i] ; //\"<div class='text'>\" + wArr[0] + \"<div class='current-value'>\" + \"CASAS\" + \"</div>\" + wArr[1] + \"</div>\";\n\t\t\t\t\t\t\te.cellElement.innerHTML =\"<div class='text'>\" + fieldHtml + \"</div>\";\n\t\t\t\t\t\t\t//console.log(fieldHtml);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t//e?.cellElement.html(\"<div class='text'>\" + fieldHtml + \"</div>\");\n\t\t\t\t//e.cellElement.html(\"<div class='text'>\" + fieldHtml + \"</div>\");\n\t\t\t\t\n\t\t\t\t//innerHTML\n\t\t\t\t/*e.cellElement.style.color = e.data.Amount >= 10000 ? \"green\" : \"red\";\n\t\t\t\t// Tracks the `Amount` data field\n\t\t\t\te.watch(function() {\n\t\t\t\t\treturn e.data.Amount;\n\t\t\t\t}, function() {\n\t\t\t\t\te.cellElement.style.color = e.data.Amount >= 10000 ? \"green\" : \"red\";\n\t\t\t\t})*/\n\t\t\t}\n        }\n    }\t\n\n\n\n\tconst onExporting = (e) => {\n\t\tconst workbook = new Workbook();\n\t\tconst worksheet = workbook.addWorksheet('Main sheet');\n\t\n\t\texportDataGrid({\n\t\t  component: e.component,\n\t\t  worksheet,\n\t\t  autoFilterEnabled: true,\n\t\t}).then(() => {\n\t\t  workbook.xlsx.writeBuffer().then((buffer) => {\n\t\t\tsaveAs(new Blob([buffer], { type: 'application/octet-stream' }), 'DataGrid.xlsx');\n\t\t  });\n\t\t});\n\t\te.cancel = true;\n\t  }\n\n\n\n\t\n\n\tfunction roundN(num, n) {\n\t\treturn parseFloat(Math.round(num * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Dialog\n\t\t\t\topen={show}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tPaperComponent={PaperComponent}\n\t\t\t\taria-labelledby=\"draggable-dialog-title\"\n\t\t\t\tmaxWidth={false}\n\t\t\t>\n\t\t\t\t<DialogTitle style={{ cursor: 'move', background:'#398bf7', color:'white', marginBottom:'10px', height:'50px' }} id=\"draggable-dialog-title\">\n\t\t\t\t{'Listado de Recursos y precios'}\n\t\t\t\t<Button1 \n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tstyle={{ position:'absolute', right:'15px', top:'8px',background: '#398bf7', color: 'white'}}\n\t\t\t\t\t\t><i class=\"fas fa-times\"></i>\n\t\t\t\t\t</Button1>\n        \t\t</DialogTitle>\n\t\t\t\t<input type=\"file\" name=\"test\" id=\"testFile\" style={{ position:'absolute', top: '58px', left:'495px', zIndex:'1' }}/>\n\t\t\t\t<DialogContent>\n\t\t\t\t\t<DialogContentText>\n\t\t\t\t\t<Button1 variant=\"outline-info\" style={{ position: 'absolute', right: '98px', top: '60px', background: 'white', color: 'black',zIndex:'1', width:'35px', height:'35px' }} onClick={ async() => {\n\t\t\t\t\t\t\t\t\t//setShowPart(false);\n\t\t\t\t\t\t\t\t\t//alert()\n\t\t\t\t\t\t\t\t\t/*const workbook = new Workbook(); \n\t\t\t\t\t\t\t\t\tworkbook.xlsx.readFile(\"DataGrid.xlsx\")\n\t\t\t\t\t\t\t\t\t\t.then(function() {\n\t\t\t\t\t\t\t\t\t\t\tvar worksheet = workbook.getWorksheet('Main sheet');\n\t\t\t\t\t\t\t\t\t\t\tworksheet.eachRow({ includeEmpty: true }, function(row, rowNumber) {\n\t\t\t\t\t\t\t\t\t\t\t  console.log(\"Row \" + rowNumber + \" = \" + JSON.stringify(row.values));\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t});*/\n\t\t\t\t\t\t\t\t\t\tvar file = document.getElementById(\"testFile\");\n\t\t\t\t\t\t\t\t\t\t//reader.readAsArrayBuffer(file.files[0]);\n\t\t\t\t\t\t\t\t\t\tlet arreglo=[...dataPreciosC]\n\t\t\t\t\t\t\t\t\t\tconst wb = new Workbook();\n\t\t\t\t\t\t\t\t\t\tconst reader = new FileReader()\n\t\t\t\t\t\t\t\t\t  \n\t\t\t\t\t\t\t\t\t\treader.readAsArrayBuffer(file.files[0])\n\t\t\t\t\t\t\t\t\t\treader.onload = () => {\n\t\t\t\t\t\t\t\t\t\t  const buffer = reader.result;\n\t\t\t\t\t\t\t\t\t\t  wb.xlsx.load(buffer).then(workbook => {\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(workbook, 'workbook instance')\n\t\t\t\t\t\t\t\t\t\t\tworkbook.eachSheet((sheet, id) => {\n\t\t\t\t\t\t\t\t\t\t\t  sheet.eachRow((row, rowIndex) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(row.values, rowIndex)\n\t\t\t\t\t\t\t\t\t\t\t\tif (rowIndex>=2)\n\t\t\t\t\t\t\t\t\t\t\t\tif (parseFloat(row.values[5])!==parseFloat(arreglo[rowIndex-2]?.Precio1)){\n\t\t\t\t\t\t\t\t\t\t\t\t\talert(row.values[5])\n\t\t\t\t\t\t\t\t\t\t\t\t\tarreglo[rowIndex-2].Precio1=roundN(row.values[5],2);\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetDataPreciosC(arreglo);\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\n\n\n\t\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t  })\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t//const workbook = new Excel.Workbook();\n\t\t\t\t\t\t\t\t\t//await workbook.xlsx.readFile('DataGrid.xlsx');\n\t\t\t\t\t\t\t\t\t// ... use workbook\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// read from a stream\n\t\t\t\t\t\t\t\t\t//const workbook1 = new Excel.Workbook();\n\t\t\t\t\t\t\t\t\t//await workbook.xlsx.read(stream);\n\t\t\t\t\t\t\t\t\t// ... use workbook\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t// load from buffer\n\t\t\t\t\t\t\t\t\t//const workbook = new Excel.Workbook();\n\t\t\t\t\t\t\t\t\t//await workbook.xlsx.load(data);\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}><i class=\"far fa-file-excel\"></i></Button1>\n\n\t\t\t\t\t<TextBox\n\t\t\t\t\t\tstyle={{ position: 'absolute', top: '55px', right: '150px', zIndex: '2', height: '35px', width: '25%' }}\n\t\t\t\t\t\tdefaultValue={textoB}\n\t\t\t\t\t\tvalue={textoB}\n\t\t\t\t\t\twidth=\"30%\"\n\t\t\t\t\t\tshowClearButton={true}\n\t\t\t\t\t\tvalueChangeEvent=\"keyup\"\n\t\t\t\t\t\tonValueChanged={valueChanged}\n\t\t\t\t\t\tplaceholder=\"Buscar..\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<i className=\"fas fa-search fa-fw\" style={{ position: 'absolute', top: '10px', right: '30px', width: '12px', height: '12px' }}></i>\n\t\t\t\t\t</TextBox>\n\n\t\t\t\t\t<Resizable\t\t\t\t\t\t\n\t\t\t\t\t\tid=\"RPrincipal22\"\n\t\t\t\t\t\tclassName=\"p-0 d-flex justify-content-between\"\n\t\t\t\t\t\tstyle={{background: colorBorde}}\n\t\t\t\t\t\tsize={{ width: width, height: height - 20 }}\n\t\t\t\t\t\tenable={{ top: false, right: false, bottom: true, left: false, topRight: false, bottomRight: false, bottomLeft: false, topLeft: false }}\n\t\t\t\t\t\tmaxWidth={open ? '100%' : 20}\n\t\t\t\t\t\tmaxHeight={window.innerHeight - 80}\n\t\t\t\t\t\tminWidth={500}\n\t\t\t\t\t\tminHeight=\"320px\"\n\t\t\t\t\t\tonResizeStart={(e, direction, ref, d) => { }}\n\t\t\t\t\t\tonResizeStop={(e, direction, ref, d) => {\n\t\t\t\t\t\t\tsetHeight(height + d.height);\n\t\t\t\t\t\t\tif (open1) {\n\t\t\t\t\t\t\t\t$(\"#barra22\").animate({ top: height + d.height - 25 }, 0);\n\t\t\t\t\t\t\t\tif (height + d.height > window.innerHeight - 120) {\n\t\t\t\t\t\t\t\t\tsetHeight(window.innerHeight - 250);\n\t\t\t\t\t\t\t\t\t$(\"#barra22\").animate({ top: window.innerHeight - 250 - 25 }, 0);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonResize={(e, direction, ref, d) => {\n\t\t\t\t\t\t\t$(\"#ListaPartidas98\").animate({ height: height + d.height - 100 }, 0);\n\t\t\t\t\t\t\t//$(FrmPrin.current).animate({ height: height + d.height - 100 }, 0);\n\t\t\t\t\t\t\t$(\"#barra22\").animate({ top: height + d.height - 25 }, 0);\n\t\t\t\t\t\t\t$(\"#ContDet22\").animate({ top: height + d.height - 20 }, 0);\n\t\t\t\t\t\t\tif (open1) { }\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t\t<DataGrid id='ListaPartidas98'\n\t\t\t\t\t\t\tstyle={{ width: '98%', height: height - 100, marginTop: '-20px', marginLeft: '5px' }}\n\t\t\t\t\t\t\tdataSource={dataPreciosC}\n\t\t\t\t\t\t\tkeyExpr={'CodInsumo'}\n\t\t\t\t\t\t\tallowColumnReordering={false}\n\t\t\t\t\t\t\tshowBorders={true}\n\t\t\t\t\t\t\tfocusedRowEnabled={true}\n\t\t\t\t\t\t\tallowColumnResizing={true}\n\t\t\t\t\t\t\trowAlternationEnabled={true}\n\t\t\t\t\t\t\t// selectedRowKeys={IdsSelected}\n\t\t\t\t\t\t\tfocusedRowKey={focusedRowKey}\n\t\t\t\t\t\t\t//remoteOperations={true}\n\t\t\t\t\t\t\tonCellPrepared={onCellPrepared}\n\t\t\t\t\t\t\tonExporting={onExporting}\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\tonCellClick={(e)=>{\n\t\t\t\t\t\t\t\t//console.log('click en celda')\n\t\t\t\t\t\t\t\t//console.log(e)\n\n\t\t\t\t\t\t\t\tif (e.row?.rowType === 'group') return;\n\n\t\t\t\t\t\t\t\tif (e.columnIndex===1){\n\t\t\t\t\t\t\t\t\tif (!e.value){ //poner\n\t\t\t\t\t\t\t\t\t\tsetIdsSelected([...IdsSelected, e.key]);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\telse{//quito\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\n\t\t\t\t\t\t\tonRowUpdated={(e) => {\n\t\t\t\t\t\t\t\tconsole.log(e.data)\n\t\t\t\t\t\t\t\t//modificaPRECIO = (CodPresupuesto, CodSubpresupuesto, CodInsumo, Precio1 ,Precio2,userId) => {\n\t\t\t\t\t\t\t\tdispatch(modificaPRECIO(proyects.DatosPresupuesto[0].CodPresupuesto,proyects.Sub_sel,e.data.CodInsumo,e.data.Precio1,e.data.Precio2))\n\t\t\t\t\t\t\t}}\n\n\n\t\t\t\t\t\t\tonFocusedRowChanged={(e) => {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\tif (!e.row) return;\n\t\t\t\t\t\t\t\tif (e.row.rowType === 'group') {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tSetfocusedRowKey(e.component.option('focusedRowKey'));\n\t\t\t\t\t\t\t}}\n\n\t\t\t\t\t\t\tonCellDblClick={(e) => {\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\n\t\t\t\t\t\t\t{/* <Selection\n\t\t\t\t\t\t\t\tmode=\"multiple\"\n\t\t\t\t\t\t\t\tshowCheckBoxesMode={'always'}\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t<Scrolling mode={\"virtual\"} useNative={true} />\n\t\t\t\t\t\t\t{/* <Grouping autoExpandAll={true}/> */}\n\t\t\t\t\t\t\t<Paging defaultPageSize={50000} />\n\t\t\t\t\t\t\t{/* <GroupPanel visible={true} /> */}\n\t\t\t\t\t\t\t<SearchPanel visible={false} />\n\t\t\t\t\t\t\t{/* <RowDragging\n\t\t\t\t\t\t\t\tgroup=\"tasksGroup\"\n\t\t\t\t\t\t\t/> */}\n\t\t\t\t\t\t\t<Grouping autoExpandAll={true}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Editing\n\t\t\t\t\t\t\t\tallowUpdating={true}\n\t\t\t\t\t\t\t\tallowDeleting={false}\n\t\t\t\t\t\t\t\tselectTextOnEditStart={true}\n\t\t\t\t\t\t\t\tuseIcons={true}\n\t\t\t\t\t\t\t\tmode='cell'\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Paging defaultPageSize={500} />\n\t\t\t\t\t\t\t<Column dataField=\"CodInsumo\" caption='Codigo' dataType=\"string\" width={'15%'} allowEditing={false}/> \n\t\t\t\t\t\t\t<Column dataField=\"Descripcion\" dataType=\"string\" width={'40%'}  allowEditing={false}/> \n\t\t\t\t\t\t\t<Column dataField=\"Simbolo\" dataType=\"string\" width={'8%'} alignment='center' allowEditing={false}/> \n\t\t\t\t\t\t\t<Column dataField=\"Parcial1\" dataType=\"string\" width={'20%'} alignment='right' allowEditing={false}/> \n\t\t\t\t\t\t\t<Column dataField=\"Precio1\" dataType=\"string\" width={'20%'} alignment='right' allowEditing={true}/> \n\t\t\t\t\t\t\t<Column dataField=\"Cantidad\" dataType=\"string\" width={'20%'} alignment='right' allowEditing={false}/> \n\t\t\t\t\t\t\t{/* <Column dataField=\"Total\" dataType=\"string\" width={'20%'} alignment='right'/>  */}\n\t\t\t\t\t\t\t{/* <Column dataField=\"PartidaN1\" dataType=\"string\" groupIndex={0} caption=\"Grupo1\" width={'20%'} /> \n\t\t\t\t\t\t\t<Column dataField=\"PartidaN2\" dataType=\"string\" groupIndex={1} caption=\"Grupo2\" width={'20%'} /> \n\t\t\t\t\t\t\t<Column dataField=\"PartidaN3\" dataType=\"string\" groupIndex={2} caption=\"Grupo3\" width={'20%'} /> \n\t\t\t\t\t\t\t<Column dataField=\"PartidaN4\" dataType=\"string\" groupIndex={3} caption=\"Grupo4\" width={'20%'} /> \n\t\t\t\t\t\t\t<Column dataField=\"PartidaN5\" dataType=\"string\" groupIndex={4} caption=\"Grupo5\" width={'20%'} />  */}\n\t\t\t\t\t\t\t{/* <Column dataField=\"UnidadPartida\" dataType=\"string\" width={'8%'} />  */}\n\t\t\t\t\t\t\t<Export enabled={true} /*allowExportSelectedData={true} *//>\n\n\t\t\t\t\t\t</DataGrid>\n\t\t\t\t\t\t\n\t\t\t\t\t</Resizable>\n\t\t\t\t\t{/* <div\n\t\t\t\t\t\tid=\"barra22\" className=\"bara-cerrar d-flex align-items-center barras\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t//width: '98%',\n\t\t\t\t\t\t\twidth: '98%',\n\t\t\t\t\t\t\theight: '2px',\n\t\t\t\t\t\t\tmarginLeft: 0,\n\t\t\t\t\t\t\ttop: height - 20,\n\t\t\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t\t\t\tborderStyle: 'none none double none',\n\t\t\t\t\t\t\tborderColor: '#c6c7d0',\n\t\t\t\t\t\t\t//borderRightWidth:'0.5px',\n\t\t\t\t\t\t\t//zIndex:'1',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{cursor: \"pointer\", marginLeft: window.innerWidth / 2 - 80, width: '5px', height: '20px', zIndex: '1'}}\n\t\t\t\t\t\t\tclassName=\"h-0 \"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetOpen1(!open1);\n\t\t\t\t\t\t\t\tif (!open1) {\n\t\t\t\t\t\t\t\t\tsetHeight(window.innerHeight - 500);\n\t\t\t\t\t\t\t\t\t$(\"#barra22\").animate({ top: window.innerHeight - 500 - 28 }, 700);\n\t\t\t\t\t\t\t\t\t$(\"#RPrincipal22\").animate({ height: window.innerHeight - 500 - 20 }, 700);\n\t\t\t\t\t\t\t\t\t$(\"#ContDet22\").fadeOut(10);\n\t\t\t\t\t\t\t\t\t$(\"#ContDet22\").fadeIn(2600);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t$(\"#ContDet22\").fadeOut(10);\n\t\t\t\t\t\t\t\t\tsetHeight(window.innerHeight - 80 + 10);\n\t\t\t\t\t\t\t\t\t$(\"#barra22\").animate({ top: window.innerHeight - 80 }, 700);\n\t\t\t\t\t\t\t\t\t$(\"#RPrincipal22\").animate({ height: window.innerHeight - 80 }, 700);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{open1 ? \n\t\t\t\t\t\t\t(<ion-icon name=\"chevron-down-outline\" style={{ cursor: 'pointer', marginTop: '4px', color: 'black', borderColor: '#c6c7d0', marginLeft: '4px', background: 'white', zIndex: '2', width: '20px', height: '20px', borderRadius: '20px', borderStyle: 'solid', borderWidth: '0.5px', }}></ion-icon>) \n\t\t\t\t\t\t\t: (<ion-icon name=\"chevron-up-outline\" style={{ cursor: 'pointer', color: 'black', borderColor: '#c6c7d0', marginLeft: '4px', background: 'white', zIndex: '2', width: '20px', height: '20px', borderRadius: '20px', borderStyle: 'solid', borderWidth: '0.5px' }}></ion-icon>)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div> */}\n\n\t\t\t\t\t\n\n\t\t\t\t\t<ContextMenu\n\t\t\t\t\t\tdataSource={ItemsM}\n\t\t\t\t\t\twidth={85}\n\t\t\t\t\t\ttarget=\"#ListaSeleccion98\"\n\t\t\t\t\t\titemRender={ItemTemplate}\n\t\t\t\t\t\tonItemClick={itemClick}\n\t\t\t\t\t/>\n\t\t\t\t\t<ContextMenu\n\t\t\t\t\t\tdataSource={itemsMenuCat}\n\t\t\t\t\t\twidth={85}\n\t\t\t\t\t\ttarget=\"#ListaPartidas98\"\n\t\t\t\t\t\titemRender={ItemTemplate}\n\t\t\t\t\t\tonItemClick={itemClick}\n\t\t\t\t\t/>\n\t\t\t\t\t</DialogContentText>\n\t\t\t\t</DialogContent>\n\t\t\t\t<DialogActions>\n\t\t\t\t\t\n\t\t\t\t\t<Button1\n\t\t\t\t\t\tstyle={{ position: 'absolute', right: '35px', bottom: '20px', height: '40px' }}\n\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\tonClick={seleccionar}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ion-icon name=\"checkmark-done-outline\"></ion-icon>\n\t\t\t\t\t\tSeleccionar\n\t\t\t\t\t</Button1>\n\t\t\t\t\t<Button1\n\t\t\t\t\t\tvariant=\"secondary\"\n\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tposition: 'absolute', right: '150px', bottom: '30px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<ion-icon name=\"close-outline\"></ion-icon>\n\t\t\t\t\t\tCancelar\n\t\t\t</Button1>\n\t\t\t\t</DialogActions>\n\t\t\t</Dialog>\n\n\n\n\t\t\t\n\t\t</>\n\t)\n}\n\nexport default CmpPrecios\n","//import React from 'react'\nimport { Card, Form } from \"react-bootstrap\";\nimport Swal from 'sweetalert2'\nimport { Col, Nav } from \"react-bootstrap\";\nimport Button1 from 'devextreme-react/button';\n//import Bar from \"./Charts/Bar\";\nimport { useEffect, useRef, useState } from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport $ from 'jquery';\nimport { cleanDataChart, cleanDataChart22, cleanDataChartAPU, establecerMetrado, guardarMedicionMasiva, guardarMetrado, limpiaAsociado, modificaItem, selectAPUS, selectAsociados, selectCalculo, selectCalculoDet, selectEstructura, selectItems, selectMETRADOS, selectPARTIDAS, selectTITULOS, guardarCantidadMetrado, eliminarMetradoItem, removerItem, eliminarItemSub, limpiarItemsIngresados, agregaItem, actualizarSecuenciales, estableceItems, establecerPartidasM, seleccionaItemGlb, modificarItemSub, modificarItemRend, selectRecursosPres, limpiarPRECIOSRECURSOS } from \"../actions/proyects.actions\";\nimport TreeList, {\n\tPager,\n\tPaging,\n\tEditing,\n\tHeaderFilter,\n\tFilterPanel,\n\tFilterRow,\n\tScrolling,\n\tColumn,\n\tSorting,\n\tSearchPanel,\n\tColumnFixing,\n\tRowDragging\n} from 'devextreme-react/tree-list';\nimport { Resizable } from \"re-resizable\";\nimport { Collapse } from \"@material-ui/core\";\n//import { relative } from \"path\";\n\nimport Apus from \"../components/Apus\";\nimport Asociados from \"../components/Asociados\";\nimport Estructura from \"../components/Estructura\";\nimport Calculo from \"../components/Calculo\";\nimport Metrados from \"../components/Metrados\";\nimport Tree from \"./TreeAll\";\n//import { ViewScreen1 } from \"../views/ViewScreen1\";\nimport { ViewerSc, RefrescarV, ObtenerPropiedad, ObtenerPropiedades, filtrar_campo } from \"../views/ViewerSc\";\nimport { ContextMenu, DropDownButton, Template, TextBox } from \"devextreme-react\";\nimport { Tooltip } from 'devextreme-react/tooltip';\n//import notify from 'devextreme/ui/notify';\n/*import { Width } from \"devextreme-react/chart\";\nimport zIndex from \"@material-ui/core/styles/zIndex\";\nimport { red } from \"@material-ui/core/colors\";*/\nimport BuscaModelo from \"./BuscaModelo\";\n/*import BuscaTitulo from \"./BuscaTitulo\";\nimport BuscaPartida from \"./BuscaPartida\";*/\nimport { CellRend_Items } from \"./Cellrend\";\nimport BuscarItems from \"./BuscarItems\";\nimport CmpPrecios from \"./CmpPrecios\";\n\nimport { Export } from 'devextreme-react/data-grid';\nimport { Workbook, Excel } from 'exceljs';\nimport { saveAs } from 'file-saver-es';\nimport { exportDataGrid } from 'devextreme/excel_exporter';\nimport BuscaMoneda from \"./BuscaMoneda\";\n\n\nconst animationConfig = {\n\tshow: {\n\t\ttype: 'slide',\n\t\tfrom: {\n\t\t\ttop: -100,\n\t\t\topacity: 0\n\t\t},\n\t\tto: {\n\t\t\ttop: 0,\n\t\t\topacity: 1\n\t\t}\n\t},\n\thide: {\n\t\ttype: 'pop',\n\t\tfrom: {\n\t\t\tscale: 1,\n\t\t\topacity: 1\n\t\t},\n\t\tto: {\n\t\t\tscale: 0.1,\n\t\t\topacity: 0\n\t\t}\n\t}\n};\n\n\nconst allowedPageSizes = [5, 10, 15, 20, 50, 100, 500];\n\n\nconst menuModo = [\n\t{ id: 1, name: 'Solo hoja', icon: 'doc' },\n\t{ id: 1, name: 'Detalle', icon: 'menu' },\n\t{ id: 4, name: 'Detalle y modelo', icon: 'event' },\n\t{ id: 2, name: 'Modelo', icon: 'image' },\n];\n\n\nconst ItemsM = [\n\t{\n\t\ttext: 'Nuevo',\n\t\ticon: 'dx-icon-add',\n\t\titems: [\n\t\t\t/*{ text: 'Partida' },*/\n\t\t\t{ text: 'Título' , icon: 'dx-icon-startswith' }]\n\t},\n\t{ text: 'Generar Metrado', icon: 'dx-icon-columnproperties' },\n\t{ text: 'Eliminar', icon: 'dx-icon-remove' },\t\n];\n\n\nconst ItemsM2 = [\n\t{\n\t\ttext: 'Nueva Partida',\n\t\ticon: 'dx-icon-add',\n\t},\n\t{\n\t\ttext: 'Duplicar',\n\t\ticon: 'dx-icon-copy',\n\t},\n\t{\n\t\ttext: 'Editar',\n\t\ticon: 'dx-icon-cellproperties',\n\t},\n\t{\n\t\ttext: 'Eliminar',\n\t\ticon: 'dx-icon-remove',\n\t}\n\n];\n\nconst ItemsM3 = [\n\t{\n\t\ttext: 'Nuevo Título',\n\t\ticon: 'dx-icon-add',\n\t},\n\t{\n\t\ttext: 'Duplicar Título',\n\t\ticon: 'dx-icon-copy',\n\t},\n\t{\n\t\ttext: 'Editar Título',\n\t\ticon: 'dx-icon-cellproperties',\n\t},\n\t{\n\t\ttext: 'Eliminar Título',\n\t\ticon: 'dx-icon-remove',\n\t}\n\n];\n\n\nconst ItemI = [{\n\tCodPresupuesto: \"\",\n\tCodSubpresupuesto: \"\",\n\tDescripcion: \"\",\n\tERPCode: \"\",\n\tItem: \"\",\n\tMetrado: 0,\n\tNivel: 1,\n\tOrden: \"\",\n\tOrdenJerarquico: \"\",\n\tPhantomParentId: \"\",\n\tPrecio1: 0,\n\tPrecio2: 0,\n\tSecuencial: 0,\n\tUnidad: null,\n}];\n\n/*CodPresupuesto: \"0501001\",\nCodSubpresupuesto: \"002\",\nDescripcion: \"PINTURA EN TUBERIAS DE INSTALACIONES SANITARIAS Y ELECTRICAS\",\nERPCode: \"0501001002000000000000167\",\nItem: \"000000000000167\",\nMetrado: 1,\nNivel: 3,\nOrden: \"01.15.12\",\nOrdenJerarquico: \"00202.15.12\",\nPhantomParentId: \"00202.15\",\nPrecio1: 0,\nPrecio2: 0,\nSecuencial: 153,\nUnidad: \"glb\",*/\n\n\n\n\nconst Items = ({ widthItems, widthNav = 0, levelStart = 1, idProject, Open4, SetOpen4, idioma }) => {\n\n\n\tconst [ancho, setAncho] = useState('90vw')\n\tconst dispatch = useDispatch();\n\t// const [loading, setLoading] = useState(true);\n\tconst [dataItems, setDataItems] = useState([])\n\n\tconst [minimoW, setMinimoW] = useState(1200);\n\n\tconst [modo, setModo] = useState('Detalle y modelo');\n\tconst [sourceData, setSourceData] = useState([]);\n\n\n\tconst [minimop, setMinimoP] = useState(400);\n\tconst [width, setWidth] = useState(400);\n\t//const [width1, setWidth1] = useState(500);\n\n\tconst [height, setHeight] = useState(window.innerHeight - 380 - 18);\n\n\t\n\n\n\n\tconst [open, setOpen] = useState(true);\n\tconst [open1, setOpen1] = useState(false);\n\tconst [open2, setOpen2] = useState(true);\n\n\t\n\n\t\n\n\tconst [textoB, setTextoB] = useState('');\n\t//const [tiempoEspera, setTiempoEspera] = useState(2200);\n\n\n\t\n\n\tconst [levelPC, setLevelPC] = useState(1);\n\tconst [level, setLevel] = useState(2);\n\n\tconst [ultimoAPU, setUltimoAPU] = useState('');\n\tconst [generaMetrado, setGeneraMetrado] = useState(0);\n\t\n\t\n\tconst [ultimoMETRADO, setUltimoMETRADO] = useState('');\n\tconst [ultimoESTRUCTURA, setUltimoESTRUCTURA] = useState('');\n\tconst [ultimoASOCIADOS, setUltimoASCOCIADOS] = useState('');\n\tconst [ultimoCALCULO, setUltimoCALCULO] = useState('');\n\n\tconst [itemSeleccionado, setItemSeleccionado] = useState('');\n\tconst [itemSel, setItemSel] = useState(null);\n\n\t\n\t//const [itemAgregarRec, setItemAgregarRec] = useState([]);\n\t//const key_inicio = useRef(0);\n\n\n\tconst [focusedRowKey, SetfocusedRowKey] = useState(0);\n\tconst [sumasApu, setSumasApu] = useState({S_mo:'0.00',S_mat:'0.00',S_eq:'0.00',S_subc:'0.00',S_subp:'0.00',TotalPU:'0.00'});\n\tconst [rendimientoMO, setRendimientoMO] = useState('0.00');\n\tconst [rendimientoEQ, setRendimientoEQ] = useState('0.00');\n\n\tconst emptySelectedText = 'Nobody has been selected';\n\n\tconst [itemsMenu, setItemsMenu] = useState(ItemsM);\n\t\n\tconst [estadoFiltro, setEstadoFiltro] = useState(false);\n\n\tconst cantidadP = useRef(0);\n\tconst tiposSeleccion = useRef(1);\n\tconst CampoKey = useRef('CodPartida');\n\tconst Secu = useRef(0);\n\tconst realizar = useRef(false);\n\tconst actualizado_final = useRef('');\n\tconst tiempoEspera = useRef(2200);\n\t\n\n\tconst analisis_modificado = useRef(0);\n\n\tconst [state, setState] = useState(\n\t\t{\n\t\t\tselectedRowKeys: [],\n\t\t\trecursive: false,\n\t\t\tselectedEmployeeNames: emptySelectedText,\n\t\t\tselectionMode: 'all'\n\t\t}\n\t)\n\t/*const [ allLevels1, setAllLevels1 ] = useState(null)\n\tconst [ itemSelected1, setItemSelected1 ] = useState('')\n\tconst [ lastLevel1, setLastLevel1 ] = useState(0);*/\n\n\n\tconst [loading, setLoading] = useState(true);\n\tconst [toltip, setToltip] = useState({\n\t\tdefaultVisible: false,\n\t\twithAnimationVisible: false,\n\t\twithTemplateVisible: false\n\t});\n\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst proyects = useSelector((state) => state.proyects);\n\n\t//const subproyects = useSelector((state) => state.subproyects);\n\n\tlet arregloA=[];\n\t\n\t\n\n\n\t\n\n\n\n\n\n\t\n\t\n\tfunction formatNumber(num) {\n\t\tif (!num || num == 'NaN') return '-';\n\t\tif (num == 'Infinity') return '&#x221e;';\n\t\tvar num = num.toString().replace(/\\$|\\,/g, '');\n\t\tif (isNaN(num))\n\t\t\tnum = \"0\";\n\t\tvar sign = (num == (num = Math.abs(num)));\n\t\tnum = Math.floor(num * 100 + 0.50000000001);\n\t\tvar cents = num % 100;\n\t\tnum = Math.floor(num / 100).toString();\n\t\tif (cents < 10)\n\t\t\tcents = \"0\" + cents;\n\t\tfor (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)\n\t\t\tnum = num.substring(0, num.length - (4 * i + 3)) + ',' + num.substring(num.length - (4 * i + 3));\n\t\treturn (((sign) ? '' : '-') + num + '.' + cents);\n\t}\n\n\tfunction roundN(num, n) {\n\t\treturn parseFloat(Math.round(num * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n);\n\t}\n\n\t\n\n\n\n\n\t\n\n\n\t\n\n\tconst orderTree2 = (tree) => {\n\n\t\tif (!tree) return;\n\t\tfor (let i = 0; i < tree.length; i++) {\n\t\t\tconst item = tree[i];\n\n\n\t\t\t//if (item.Orden === \"\") item.Orden = null;\n\t\t\t/*\tif (item.PhantomParentId === null && item.Orden===\"\") {\n\t\t\t\t\titem.Orden = \"00\";\n\t\t\t\t\t//item.PhantomParentId = null;\n\t\t\t\t}\n\t\t\t\tif (item.PhantomParentId === \"\") {\n\t\t\t\t\titem.PhantomParentId = \"00\";\n\t\t\t\t\t//item.PhantomParentId = null;\n\t\t\t\t}\n\t\n\t\t\t\tif (item.Orden === \"\") item.Orden = i+'01';*/\n\n\t\t\t//item.Orden = i+item.Orden;\n\n\n\t\t\t//else item.Metrado = roundN(item.Metrado, 2);\n\n\n\t\t\tif (item.Metrado === null) item.Metrado = null;\n\t\t\telse item.Metrado = roundN(item.Metrado, 2);\n\n\t\t\tif (item.Precio1 === null) item.Precio1 = null;\n\t\t\telse item.Precio1 = roundN(item.Precio1, 2);\n\n\t\t\tif (item.Total === null) item.Total = 0.00;\n\t\t\telse item.Total = roundN(item.Metrado * item.Precio1, 2);\n\n\t\t\t//item.Metrado=dosDecimales(item.Metrado);\n\n\t\t\t//orderedLevels[0].push({...item, open: false})\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\t//alert('')\n\t\tif (proyects.DataPc.length===0){\n\t\t\t\n\t\t\n\n\t\t}else{\n\n\t\t\tSetfocusedRowKey(proyects.DataPc[0]);\n\t\t\tsetItemSel(proyects.DataPc[0]);\n\n\n\t\t\t\n\n\t\t}\n\n\t\t//alert()\n\t\tif (proyects.Sub_sel !== '') return;\n\t\tif (proyects.treeSubControl)\n\t\t\tif (proyects.treeSubControl.length !== 0) {\n\t\t\t\t//llamar a metrados de tosod los subs\n\t\t\t\t//console.log('DATOS DE PROYECTOS');\n\t\t\t\t//console.log(proyects.DatosPresupuesto);\n\n\t\t\t\t/*for (let i=0;i<proyects.treeSubControl.length;i++){\n\t\t\t\t\tif (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0]){\n\t\n\t\t\t\t\t\t//alert('se jecuta' + proyects.DatosPresupuesto[0].CodPresupuesto + ' - ' + proyects.treeSubControl[i].CodSubpresupuesto);\n\t\t\t\t\t\t//alert(proyects.treeSubControl[i].CodSubpresupuesto);\n\t\t\t\t\t\tdispatch(selectItems(proyects.DatosPresupuesto[0].CodPresupuesto, proyects.treeSubControl[i].CodSubpresupuesto, ''));\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t}*/\n\t\t\t\t//alert(proyects.DatosPresupuesto[0].CodPresupuesto);\n\t\t\t\t//alert(proyects.DatosPresupuesto[0].CodPresupuesto);\n\t\t\t\tif (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0])\n\t\t\t\t\tdispatch(selectItems(proyects.DatosPresupuesto[0].CodPresupuesto, '', ''));\n\n\t\t\t\torderTree2(proyects.DataPc);\n\t\t\t\t//orderTree(proyects.DataPc);\n\t\t\t\tdispatch(cleanDataChart());\n\n\t\t\t}\n\t}, [proyects.treeSubControl])\n\n\n\t\n\n\n\t\n\n\t//alert();\n\t\n\t\n\n\t/*const verificar_hijos = (Codigo) => {\n\n\t\tlet hijosAux = dataItems.filter(item => item.PhantomParentId === Codigo).sort((a, b) => a.Secuencial - b.Secuencial)\n\t\t\n\t\t\n\n\t\tfor (let j = 0; j < hijosAux.length; j++) {\n\t\t\thijosAux[j].PhantomParentId = NuevaCadena;\n\t\t\thijosAux[j].Secuencial = hijosAux[j].Secuencial+1;\n\t\t\tverificar_hijos(hijosAux[j].OrdenJerarquico);\n\t\t\tlet cad2 = '0';\n\t\t\tif (j + 1 >= 10) cad2 = '';\n\t\t\thijosAux[j].OrdenJerarquico = NuevaCadena + cad2 + (j+1) ;\n\t\t\t//let hijosAux2 = dataItems.filter(item => item.PhantomParentId === datosOrigen[i].OrdenJerarquico).sort((a, b) => a.Secuencial - b.Secuencial)\n\n\t\t}\n\n\n\t}*/\n\n\n\n\t\n\n\n\t  function ItemTemplate(e) {\n\t\treturn (\n\t\t  <>\n\t\t\t<span className={ e.icon } />\t\t\t\n\t\t\t{ `  ` + e.text }\n\t\t\t{ e.items ? <span className=\"dx-icon-spinright\" style={{marginLeft:'25px'}}/> : null }\n\t\t  </>\n\t\t);\n\t  }\n\n\n\t  \n\n\t// const { selectedRowKeys, recursive, selectionMode, selectedEmployeeNames } = state;\n\n\tconst scrollToca1 = useRef(300);\n\tconst pagToca1 = useRef(2);\n\n\n\n\t  //alert(idioma)\n\n\treturn (\n\t\t<>\n\n\t\t\t<div id=\"ContenedorTotal1\" className=\"d-flex flex-wrap justify-content-between overflow-hidden h-100\" style={{ height: height - 20, fontSize: '0.8rem !important' }}>\n\t\t\t\t\n\n\t\t\t\t<Resizable\n\t\t\t\t\tid=\"RPrincipal\"\n\t\t\t\t\t//className=\"tree-fixed p-0 d-flex justify-content-between\"\n\t\t\t\t\tclassName=\"p-0 d-flex justify-content-between\"\n\t\t\t\t\tsize={{ width: width, height: height }}\n\t\t\t\t\tenable={{ top: false, right: open2, bottom: true, left: false, topRight: open2, bottomRight: open2, bottomLeft: false, topLeft: false }}\n\t\t\t\t\t//maxHeight=\"60vh\"\n\t\t\t\t\tmaxWidth={open ? minimoW : 20}\n\t\t\t\t\t//minHeight=\"67.5vh\"\n\t\t\t\t\tmaxHeight={window.innerHeight - 200}\n\t\t\t\t\tminWidth={minimop}\n\t\t\t\t\tminHeight=\"320px\"\n\t\t\t\t\tonResizeStart={(e, direction, ref, d) => {\n\t\t\t\t\t\t//$(\"#ab\").hide();\n\t\t\t\t\t\t$(\"#ab\").fadeOut();\n\t\t\t\t\t}}\n\t\t\t\t\tonResizeStop={(e, direction, ref, d) => {\n\t\t\t\t\t\t//$(\"#ab\").show();\n\t\t\t\t\t\t$(\"#ab\").fadeIn(900);\n\t\t\t\t\t\tsetWidth(width + d.width);\n\t\t\t\t\t\tif (open1)\n\t\t\t\t\t\t\tsetHeight(height + d.height - 5);\n\t\t\t\t\t\t//alert('');\n\t\t\t\t\t\tif (open1) {\n\t\t\t\t\t\t\t//$(\"#barra1\").animate({ height: height + d.height }, 0);\n\t\t\t\t\t\t\t$(\"#barra2\").animate({ marginTop: height + d.height - 10 }, 0);\n\t\t\t\t\t\t\t$(\"#ContenedorTotal\").animate({ height: height + d.height }, 0);\n\t\t\t\t\t\t\t$(\"#Card1\").animate({ height: height + d.height - 20 }, 0);\n\t\t\t\t\t\t\t$(\"#ContDet\").animate({ top: height + d.height + 10 }, 0);\n\t\t\t\t\t\t\t$(\"#ContDet2\").animate({ top: height + d.height + 3 }, 0);\n\t\t\t\t\t\t\t$(\"#ab\").animate({ height: height + d.height - 30 }, 0);\n\t\t\t\t\t\t\t$(\"#forgeViewer\").animate({ height: '100%' }, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t$(\"#barra1\").animate({ height: height + d.height - 20 }, 0);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tRefrescarV();\n\t\t\t\t\t\t}, 150);\n\t\t\t\t\t}}\n\t\t\t\t\tonResize={(e, direction, ref, d) => {\n\t\t\t\t\t\tif (open1) {\n\t\t\t\t\t\t\t$(\"#barra1\").animate({ height: height + d.height - 20 }, 0);\n\t\t\t\t\t\t\t$(\"#barra2\").animate({ marginTop: height + d.height - 10 }, 0);\n\t\t\t\t\t\t\t$(\"#ContenedorTotal\").animate({ height: height + d.height }, 0);\n\t\t\t\t\t\t\t$(\"#Card1\").animate({ height: height + d.height - 20 }, 0);\n\t\t\t\t\t\t\t$(\"#ContDet\").animate({ top: height + d.height + 10 }, 0);\n\t\t\t\t\t\t\t$(\"#ContDet2\").animate({ top: height + d.height + 3 }, 0);\n\t\t\t\t\t\t\t$(\"#ab\").animate({ height: height + d.height - 25 }, 0);\n\t\t\t\t\t\t\t$(\"#forgeViewer\").animate({ height: '100%' }, 0);\n\t\t\t\t\t\t}\n\t\t\t\t\t\t\n\t\t\t\t\t}}\n\t\t\t\t//onResizeStop={()=>{}}\n\t\t\t\t>\n\t\t\t\t\t<Collapse in={open}>\n\t\t\t\t\t\t<Card id=\"Card1\" style={{\n\t\t\t\t\t\t\theight: height - 20, overflow: 'hidden',\n\t\t\t\t\t\t\tbackground: 'black'\n\t\t\t\t\t\t}}>\n\n\t\t\t\t\t\t\t<Card.Header style={{ fontSize: '1rem' }}>{idioma==='Español' ? 'Selecciona un Modelo':'Choose a Model'}</Card.Header>\n\t\t\t\t\t\t\t<Card.Body>\n\t\t\t\t\t\t\t\t<Form id=\"FormLista\">\n\t\t\t\t\t\t\t\t\t<BuscaModelo/>\n\n\t\t\t\t\t\t\t\t\t<ContextMenu\n\t\t\t\t\t\t\t\t\t\tdataSource={itemsMenu}\n\t\t\t\t\t\t\t\t\t\twidth={150}\n\t\t\t\t\t\t\t\t\t\ttarget=\"#ListaIt\"\n\t\t\t\t\t\t\t\t\t\titemRender={ItemTemplate}\n\t\t\t\t\t\t\t\t\t\t//onItemClick={itemClick}\n\t\t\t\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t\t\t</Form>\n\t\t\t\t\t\t\t</Card.Body>\n\t\t\t\t\t\t</Card>\n\t\t\t\t\t</Collapse>\n\t\t\t\t\t{open2 ? (\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid=\"barra1\"\n\t\t\t\t\t\t\tclassName=\"bara-cerrar d-flex align-items-center barras\"\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: '6px',\n\t\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\t\tbackground: 'rgba(0,127,127,0.1)',\n\t\t\t\t\t\t\t\tmarginLeft: 5,\n\t\t\t\t\t\t\t\tborderStyle: 'none double none double',\n\t\t\t\t\t\t\t\tborderColor: 'rgba(0,127,127,0.2)',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\tcursor: \"pointer\", width: '40px',\n\t\t\t\t\t\t\t\t\tzIndex: '1'\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tclassName=\"h-0 w-100 \"\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t$(\"#RPrincipal\").fadeOut(10);\n\t\t\t\t\t\t\t\t\t$(\"#RPrincipal\").fadeIn(900);\n\t\t\t\t\t\t\t\t\tif (open) {\n\t\t\t\t\t\t\t\t\t\tsetMinimoP(0);\n\t\t\t\t\t\t\t\t\t\tsetWidth(20);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetWidth(400);\n\t\t\t\t\t\t\t\t\t\tsetMinimoP(400);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t$(\"#ab\").fadeOut(10);\n\t\t\t\t\t\t\t\t\t$(\"#ab\").fadeIn(1000);\n\t\t\t\t\t\t\t\t\tsetOpen(!open);\n\t\t\t\t\t\t\t\t\t//alert('');\n\t\t\t\t\t\t\t\t\t//$(\"#ab\").animate({ with: window.innerWidth - width - $(\"#ContenedorSide\").innerWidth() - $(\"#Conte1\").innerWidth() - 80 }, 100);\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tRefrescarV();\n\t\t\t\t\t\t\t\t\t}, 120);\n\t\t\t\t\t\t\t\t\t//$(\"#ab\").animate({ height: height -30 }, 100);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\taria-controls=\"example-collapse-text\"\n\t\t\t\t\t\t\t\taria-expanded={open}\n\t\t\t\t\t\t\t\tstyle={{ background: 'transparent', zIndex: '1', width: '80px' }}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{open ? (\n\t\t\t\t\t\t\t\t\t<ion-icon name=\"chevron-back-outline\" style={{ cursor: \"pointer\", color: 'white', borderColor: 'rgba(0,127,127,0.1)', marginLeft: '-8px', background: 'rgba(0,127,127,0.2)', zIndex: '2', width: '15px', height: '70px', borderRadius: '10px', borderStyle: 'solid', borderWidth: '0.5px', }}></ion-icon>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<ion-icon name=\"chevron-forward-outline\" style={{ cursor: \"pointer\", color: 'white', borderColor: 'rgba(0,127,127,0.1)', marginLeft: '-8px', background: 'rgba(0,127,127,0.2)', zIndex: '2', width: '15px', height: '70px', borderRadius: '10px', borderStyle: 'solid', borderWidth: '0.5px' }}></ion-icon>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\n\t\t\t\t\t) : ''\n\t\t\t\t\t}\n\t\t\t\t\t<div\n\t\t\t\t\t\tid=\"barra2\" className=\"bara-cerrar d-flex align-items-center barras\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t/*cursor: 'row-resize',*/\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\t//width: '98%',\n\t\t\t\t\t\t\twidth: '100vw',\n\t\t\t\t\t\t\theight: '6px',\n\t\t\t\t\t\t\tmarginLeft: 5,\n\t\t\t\t\t\t\tmarginTop: height - 12,\n\t\t\t\t\t\t\tbackground: 'rgba(0,127,127,0.1)',\n\t\t\t\t\t\t\tborderStyle: 'none none double none',\n\t\t\t\t\t\t\tborderColor: 'rgba(0,127,127,0.2)',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcursor: \"pointer\", marginLeft: $(\"#ContDet2\").innerWidth() / 2 - 80, width: '20px', height: '18px', zIndex: '1',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"h-0 \"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t//$(\"#ContDet\").show(1200);\n\t\t\t\t\t\t\t\t$(\"#ab\").fadeOut(10);\n\n\t\t\t\t\t\t\t\t$(\"#ContDet2\").hide(10);\n\t\t\t\t\t\t\t\t$(\"#ContDet2\").fadeOut(10);\n\n\t\t\t\t\t\t\t\tif (open1)\n\t\t\t\t\t\t\t\t\t$(\"#barra2\").animate({ marginTop: window.innerHeight - 380 }, 700);\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tif (window.innerHeight < 800) {\n\t\t\t\t\t\t\t\t\t\t//setHeight(window.innerHeight - 250 - 18);\n\t\t\t\t\t\t\t\t\t\t$(\"#barra2\").animate({ marginTop: window.innerHeight - 380 }, 700);\n\t\t\t\t\t\t\t\t\t\t//$(\"#barra1\").animate({ height: window.innerHeight - 250  }, 600);\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t//setHeight(window.innerHeight - 480 - 18);\n\t\t\t\t\t\t\t\t\t\t//$(\"#barra1\").animate({ height: window.innerHeight - 500  }, 600);\n\t\t\t\t\t\t\t\t\t\t$(\"#barra2\").animate({ marginTop: window.innerHeight - 510 }, 700);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tif (open1) {\n\t\t\t\t\t\t\t\t\tsetHeight(window.innerHeight - 360);\n\t\t\t\t\t\t\t\t\t$(\"#barra1\").animate({ height: window.innerHeight - 380 }, 700);\n\t\t\t\t\t\t\t\t\tif (open2)\n\t\t\t\t\t\t\t\t\t\tsetModo('Modelo');\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tsetModo('Solo hoja');\n\t\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\t\tif (window.innerHeight < 800) {\n\t\t\t\t\t\t\t\t\t\tsetHeight(window.innerHeight - 250 - 18);\n\t\t\t\t\t\t\t\t\t\t$(\"#barra1\").animate({ height: window.innerHeight - 380 }, 700);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\tsetHeight(window.innerHeight - 480 - 18);\n\t\t\t\t\t\t\t\t\t\t$(\"#barra1\").animate({ height: window.innerHeight - 500 }, 700);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t//setHeight(window.innerHeight - 500);\n\t\t\t\t\t\t\t\t\tif (open2)\n\t\t\t\t\t\t\t\t\t\tsetModo('Detalle y modelo');\n\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tsetModo('Detalle');\n\t\t\t\t\t\t\t\t\t//setModo('Solo hoja');\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (open1)\n\t\t\t\t\t\t\t\t\t$(\"#Card1\").animate({ height: window.innerHeight - 60 - 30 }, 700);\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tif (window.innerHeight < 800) {\n\t\t\t\t\t\t\t\t\t\t$(\"#Card1\").animate({ height: window.innerHeight - 250 - 18 - 30 }, 700);\n\t\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\t\t$(\"#Card1\").animate({ height: window.innerHeight - 480 - 18 - 30 }, 700);\n\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tsetOpen1(!open1);\n\n\t\t\t\t\t\t\t\t\t$(\"#ContDet2\").fadeIn(1500);\n\t\t\t\t\t\t\t\t\t$(\"#ab\").fadeIn(1500);\n\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\t\tRefrescarV();\n\t\t\t\t\t\t\t\t\t}, 120);\n\n\t\t\t\t\t\t\t\t}, 700);\n\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-expanded={open}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{open1 ? (\n\t\t\t\t\t\t\t\t<ion-icon name=\"chevron-down-outline\" style={{ cursor: 'pointer', marginTop: '4px', color: 'white', borderColor: 'rgba(0,127,127,0.1)', marginLeft: '4px', background: 'rgba(0,127,127,0.2)', zIndex: '99', width: '70px', height: '15px', borderRadius: '20px', borderStyle: 'solid', borderWidth: '0.5px', }}></ion-icon>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<ion-icon name=\"chevron-up-outline\" style={{ cursor: 'pointer', color: 'white', borderColor: 'rgba(0,127,127,0.1)', marginLeft: '4px', background: 'rgba(0,127,127,0.2)', zIndex: '99', width: '70px', height: '15px', borderRadius: '20px', borderStyle: 'solid', borderWidth: '0.5px' }}></ion-icon>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Resizable>\n\t\t\t</div>\n\n\t\t\t<Resizable\n\t\t\t\tid=\"Conten1\"\n\t\t\t\t//style={{ position: 'absolute', left: width + 10, top: '5px', height: height - 30, width: window.innerWidth - width - $(\"#ContenedorSide\").innerWidth() - $(\"#Conte1\").innerWidth() - 80 }}\n\t\t\t\tstyle={{ position: 'absolute', left: width + 10, top: '5px', bottom: '-15px' }}\n\t\t\t\tsize={{ width: window.innerWidth - width - $(\"#ContenedorSide\").innerWidth() - $(\"#Conte1\").innerWidth() - 50, height: height - 10 }}\n\t\t\t\t//maxWidth={open ? 1200 : 0}\n\t\t\t\tmaxHeight={window.innerHeight - 200}\n\t\t\t\tenable={{ top: false, right: false, bottom: true, left: false, topRight: false, bottomRight: false, bottomLeft: false, topLeft: false }}\n\t\t\t\t//minWidth=\"20px\"\n\t\t\t\tminHeight=\"320px\"\n\t\t\t\tonResizeStop={(e, direction, ref, d) => {\n\t\t\t\t\tif (open1)\n\t\t\t\t\t\tsetHeight(height + d.height);\n\t\t\t\t\t$(\"#ab\").fadeOut(10);\n\t\t\t\t\t$(\"#ab\").fadeIn(1000);\n\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tRefrescarV();\n\t\t\t\t\t}, 150);\n\t\t\t\t}}\n\t\t\t\tonResize={(e, direction, ref, d) => {\n\t\t\t\t\t//console.log('resizando');\n\t\t\t\t\t//$(\"#barra2\").marginTop=width;\n\t\t\t\t\tif (open1) {\n\t\t\t\t\t\t$(\"#barra1\").animate({ height: height + d.height }, 0);\n\t\t\t\t\t\t$(\"#barra2\").animate({ marginTop: height + d.height }, 0);\n\t\t\t\t\t\t$(\"#ContenedorTotal\").animate({ height: height + d.height }, 0);\n\t\t\t\t\t\t$(\"#Card1\").animate({ height: height + d.height }, 0);\n\t\t\t\t\t\t$(\"#ContDet\").animate({ top: height + d.height + 15 }, 0);\n\t\t\t\t\t\t$(\"#ContDet2\").animate({ top: height + d.height + 3 }, 0);\n\t\t\t\t\t\t$(\"#ab\").animate({ height: height + d.height - 25 }, 0);\n\t\t\t\t\t\t$(\"#forgeViewer\").animate({ height: '100%' }, 100);\n\t\t\t\t\t}\n\t\t\t\t}}\n\n\t\t\t>\n\n\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t\t\t\n\t\t\t\t{open2 ? <div id=\"ab\" /*style={{width:'100%'}}*/ style={{ position: 'absolute', left: '7px', /*left: width + 25, */top: '5px', height: height - 40, width: window.innerWidth - width - 58, zIndex:'9999', background:'black' }}>\n\n\t\t\t\t\t{\n\t\t\t\t\t\t\n\t\t\t\t\t\t<ViewerSc\n\t\t\t\t\t\t//dataItems={dataItems}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\t</div> : ''}\n\t\t\t</Resizable>\n\n\t\t\t<div id=\"ContDet2\" className=\"\" style={{\n\t\t\t\tposition: 'absolute', top: height + 3, height: window.innerHeight - height - 60, width: '99%',\n\t\t\t\tbackground: 'transparent',\n\t\t\t\t/*, zIndex: '9', background: 'red'*/\n\t\t\t}}>\n\t\t\t\t<Collapse in={open1} style={{\n\t\t\t\t\theight: '90%',\n\t\t\t\t\tbackground: 'transparent',\n\t\t\t\t}}>\n\t\t\t\t\t<div className=\"p-2 w-100\" style={{ height: '90%', }}>\n\t\t\t\t\t\t<Nav\n\t\t\t\t\t\t\tvariant=\"tabs\"\n\t\t\t\t\t\t\tdefaultActiveKey=\"/home\"\n\t\t\t\t\t\t\tclassName=\"eyelashes\"\n\t\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<Nav.Item\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetLevel(2);\n\t\t\t\t\t\t\t\t\tsetLevelPC(1);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Nav.Link href=\"#\"\n\t\t\t\t\t\t\t\t\tactive={level === 2}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\tOPCION 1\n\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\n\t\t\t\t\t\t\t<Nav.Item\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\tsetLevel(1);\n\t\t\t\t\t\t\t\t\tsetLevelPC(2);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Nav.Link\n\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\teventKey=\"link-1\"\n\t\t\t\t\t\t\t\t\tactive={level === 1}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tOPCION 2\n\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\n\t\t\t\t\t\t\t<Nav.Item\n\t\t\t\t\t\t\t\tonClick={() => {\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tsetLevel(3);\n\t\t\t\t\t\t\t\t\t\tsetLevelPC(3);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Nav.Link\n\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\teventKey=\"link-2\"\n\t\t\t\t\t\t\t\t\tactive={level === 3}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tOPCION 3\n\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\n\t\t\t\t\t\t\t<Nav.Item\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetLevel(4);\n\t\t\t\t\t\t\t\t\t\t\tsetLevelPC(4);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Nav.Link\n\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\teventKey=\"link-3\"\n\t\t\t\t\t\t\t\t\tactive={level === 4}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tOPCION 4\n\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\n\t\t\t\t\t\t\t<Nav.Item\n\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\tsetLevel(5);\n\t\t\t\t\t\t\t\t\t\t\tsetLevelPC(5);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<Nav.Link\n\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\teventKey=\"link-4\"\n\t\t\t\t\t\t\t\t\tactive={level === 5}\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tif (ultimoCALCULO !== itemSeleccionado) {\n\t\t\t\t\t\t\t\t\t\t\t//alert(itemSeleccionado.substring(0,7));\n\t\t\t\t\t\t\t\t\t\t\t//alert(itemSeleccionado.substring(7,10));\n\t\t\t\t\t\t\t\t\t\t\t//alert(itemSeleccionado.substring(10,25));\n\t\t\t\t\t\t\t\t\t\t\tdispatch(selectCalculo(itemSeleccionado.substring(0, 7), itemSeleccionado.substring(7, 10), itemSeleccionado.substring(10, 25), ''));\n\t\t\t\t\t\t\t\t\t\t\tdispatch(selectCalculoDet(itemSeleccionado.substring(0, 7), itemSeleccionado.substring(7, 10), itemSeleccionado.substring(10, 25), ''));\n\t\t\t\t\t\t\t\t\t\t\tsetUltimoCALCULO(itemSeleccionado);\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t///////////////////////////////////////////////////////\n\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tOPCION 5\n\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t</Nav.Item>\n\n\t\t\t\t\t\t\t{proyects.idCard && (\n\t\t\t\t\t\t\t\t<Nav.Item\n\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\tsetLevelPC(1);\n\t\t\t\t\t\t\t\t\t\tsetLevel(null);\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Nav.Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\teventKey=\"link-1\"\n\t\t\t\t\t\t\t\t\t\tactive={levelPC === 4}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tPC\n\t\t\t\t\t\t\t\t\t</Nav.Link>\n\t\t\t\t\t\t\t\t</Nav.Item>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Nav>\n\n\n\t\t\t\t\t\t<div id=\"DetalleItem\" className=\"mt-0 p-1 overflow-scroll\" style={{\n\t\t\t\t\t\t\tposition: 'absolute', top:'50px', height: '50%', overflow: 'hidden',\n\t\t\t\t\t\t\tbackground: 'transparent'\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{levelPC === 1 ? (\n\t\t\t\t\t\t\t\t<>\n\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\tlevelPC === 3 ? (\n\t\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\tlevelPC === 4 ? (\n\t\t\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\tlevelPC === 5 ? (\n\t\t\t\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\tlevelPC === 2 ? (\n\t\t\t\t\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t\t\t\t<Tree levelStart={level} nodeSelected={\"\"} />\n\t\t\t\t\t\t\t\t\t\t\t))))\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Collapse>\n\n\t\t\t</div>\n\t\t</>\n\t)\n}\n\nexport default Items\n","// import {useState} from \"react\";\nimport { Col, Collapse } from \"react-bootstrap\";\nimport { useEffect, useState } from \"react\";\nimport { Resizable } from \"re-resizable\";\nimport \"../styles/project.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Swal from 'sweetalert2'\nimport TreeCP from \"../components/TreeCP\";\nimport $ from 'jquery';\nimport { RefrescarV } from \"./ViewerSc\";\nimport Items from \"../components/Items\";\nimport axios from \"../config/axios\";\nimport { DropDownButton } from \"devextreme-react\";\nimport { limpiaSubs, limpiaTree } from \"../actions/proyects.actions\";\nimport Button1 from 'devextreme-react/button';\n\n\nconst menuFiltro = [\n\t{ id: 1, name: 'Escritorio', icon: 'home' },\n\t{ id: 2, name: 'Obras ganadas', icon: 'exportselected' },\n\t{ id: 3, name: 'Bandeja', icon: 'box' },\n\t{ id: 4, name: 'Archivo central', icon: 'toolbox' },\n\t{ id: 5, name: 'Papelera', icon: 'trash' },\n];\n\nconst Presupuestos = ({ match }) => {\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst dispatch = useDispatch();\n\tconst [modo, setModo] = useState('Escritorio');\n\tconst [modoicono, setModoIcono] = useState('home');\n\t//const codProject = match.params.codProject;\n\tconst [estado, setEstado] = useState(1);\n\t// console.log(codProject)\n\t//const proyects = useSelector((state) => state.proyects);\n\tconst [width, setWidth] = useState(260);\n\tconst [height, setHeight] = useState(window.innerHeight);\n\t//const [levelPC, setLevelPC] = useState(1);\n\t//const [level, setLevel] = useState(2);\n\tconst [open, setOpen] = useState(true);\n\tconst [levelPC1, setLevelPC1] = useState(1);\n\t//const [level1, setLevel1] = useState(2);\n\tconst [favoritos, setFavoritos] = useState(false);\n\tconst [vfavoritos, setVfavoritos] = useState(0);\n\t//const [reducido, setReducido] = useState(false);\n\tconst [textoB, setTextoB] = useState('');\n\n\tuseEffect(() => {\n\t\tdispatch(limpiaTree());\n\t\tdispatch(limpiaSubs());\n\t\t//alert();\n\t}, []);\n\n\n\tuseEffect(() => {\n\t\tasync function init() {\n\t\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t\tlet connectId = await localStorage.getItem(\"connectionId\");\n\t\t\tif (company && auth.User) {\n\t\t\t\tconst { data } = await axios.post(\n\t\t\t\t\t\"\",\n\t\t\t\t\t{\n\t\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_ListarArbol 'ncortez@s10peru.com',${estado},${1}`,\n\t\t\t\t\t\tRequestId: \"PARTY_CONTROL22\",\n\t\t\t\t\t\tSignalRConnectionID: connectId,\n\t\t\t\t\t\tSecurityUserId: auth.User.UserId, // SecurityUserId obtenido al logear\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tToken: company.Token,\n\t\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t}\n\t\t\t//setLoading(false)\n\t\t}\n\t\tinit()\n\t\t// eslint-disable-next-line\n\t}, [] );\n\n\n\tuseEffect(() => {\n\t\t//alert(estado)\n\t\tdispatch(limpiaTree());\n\t\t//alert(vfavoritos);\n\t\tasync function init() {\n\t\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t\tlet connectId = await localStorage.getItem(\"connectionId\");\n\t\t\t//console.log('connectId desde tree: ' + connectId + company + idProject)  ;\n\t\t\tif (company && auth.User) {\n\t\t\t\t//alert(data);\n\t\t\t\tconst { data } = await axios.post(\n\t\t\t\t\t\"\",\n\t\t\t\t\t{\n\t\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_ListarArbol 'ncortez@s10peru.com',${estado},${vfavoritos}`,\t\t\t\t\t\t\n\t\t\t\t\t\t//ObjectName: `dbo.S10_01_Presupuesto_ListarArbol 'ctorres@s10peru.com'`,\n\t\t\t\t\t\tRequestId: \"PARTY_CONTROL\",\n\t\t\t\t\t\tSignalRConnectionID: connectId,\n\t\t\t\t\t\tSecurityUserId: auth.User.UserId, // SecurityUserId obtenido al logear\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tToken: company.Token,\n\t\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t}\n\t\t\t//setLoading(false)\n\t\t}\n\t\tinit()\n\t\t// eslint-disable-next-line\n\t}, [estado,vfavoritos] );\n\n\n\tuseEffect(() => {\n\t\tasync function init() {\n\t\t\t//alert('se ejcuta llamado');\n\t\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\t\tlet connectId = await localStorage.getItem(\"connectionId\");\n\t\t\t//console.log('connectId desde tree: ' + connectId + company + idProject)  ;\n\t\t\tconsole.log(' LLAMANDO A LISTAR TODOS');\n\t\t\t//request.AddParameter(\"Data\", jsonString );\t\t\t\n\t\t\tif (company && auth.User) {\n\t\t\t\t//alert(data);\n\t\t\t\tconst { data } = await axios.post(\n\t\t\t\t\t\"\",\n\t\t\t\t\t{\n\t\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t\tObjectName: `dbo.S10_01_Subpresupuesto_ListarTodos '001'`,\n\t\t\t\t\t\tRequestId: \"LISTAR_SUBS\",\n\t\t\t\t\t\tSignalRConnectionID: connectId,\n\t\t\t\t\t\tSecurityUserId: auth.User.UserId, // SecurityUserId obtenido al logear\n\t\t\t\t\t\t//Data:\"[{'P':'001','O':0}]\",\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\theaders: {\n\t\t\t\t\t\t\tToken: company.Token,\n\t\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t\t},\n\t\t\t\t\t}\n\t\t\t\t);\n\n\t\t\t\t//console.log(idProject);\n\t\t\t}\n\t\t\t//setLoading(false)\n\t\t}\n\t\tinit()\n\t\t// eslint-disable-next-line\n\t}, []);\n\t//setLevelPC(1);\n\n\n\n\t/*const buscarPres = (e) => {\n\t\tsetTextoB((state) => {\n\t\t\treturn (e.target.value)\n\t\t});\n\t\t//console.log(e.target.value);\n\t}*/\n\n\treturn (\n\t\t<>\n\t\t\t<div id=\"ContenedorTotal\" className=\"d-flex flex-wrap justify-content-between overflow-scroll h-100\" style={{ height: '200%' }}>\n\n\t\t\t\t<Resizable\n\t\t\t\t\tclassName=\"tree-fixed p-0 d-flex justify-content-between\"\n\t\t\t\t\tenable={{ top: false, right: true, bottom: false, left: false, topRight: false, bottomRight: false, bottomLeft: false, topLeft: false }}\n\t\t\t\t\tstyle={{ background: '#f5f6f8' }}\n\t\t\t\t\tsize={{ width: width, height: height }}\n\t\t\t\t\tmarginLeft=\"-20px\"\n\t\t\t\t\tmaxWidth={open ? 600 : 0}\n\t\t\t\t\tminWidth=\"20px\"\n\t\t\t\t\tonResizeStop={(e, direction, ref, d) => {\n\t\t\t\t\t\tsetWidth(width + d.width);\n\t\t\t\t\t\tsetHeight(height + d.height);\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tRefrescarV();\n\t\t\t\t\t\t}, 100);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<Collapse in={open}>\n\t\t\t\t\t\t<div id=\"Conte1\" className=\"p-2 h-100 w-100\" style={{\n\t\t\t\t\t\t\toverflow: 'scroll',\n\t\t\t\t\t\t\tbackground: '#f5f6f8',\n\t\t\t\t\t\t\tcolor: '#333337'\n\n\t\t\t\t\t\t}}>\n\t\t\t\t\t\t\t{/* <!-- SidebarSearch Form --> */}\n\t\t\t\t\t\t\t<div className=\"form mt-3\">\n\n\t\t\t\t\t\t\t\t<div className=\"input-group\" data-widget=\"\">\n\n\t\t\t\t\t\t\t\t\t<DropDownButton\n\t\t\t\t\t\t\t\t\t\tsplitButton={true}\n\t\t\t\t\t\t\t\t\t\twidth='160px'\n\t\t\t\t\t\t\t\t\t\tuseSelectMode={false}\n\t\t\t\t\t\t\t\t\t\ttext={modo}\n\t\t\t\t\t\t\t\t\t\t//icon=\"dist/img/manager.png\"\n\t\t\t\t\t\t\t\t\t\ticon={modoicono}\n\t\t\t\t\t\t\t\t\t\titems={menuFiltro}\n\t\t\t\t\t\t\t\t\t\tdisplayExpr=\"name\"\n\t\t\t\t\t\t\t\t\t\tkeyExpr=\"id\"\n\t\t\t\t\t\t\t\t\t\t//onButtonClick={this.onButtonClick}\n\t\t\t\t\t\t\t\t\t\tonItemClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tsetModo(e.itemData.name);\n\t\t\t\t\t\t\t\t\t\t\tsetModoIcono(e.itemData.icon)\n\t\t\t\t\t\t\t\t\t\t\tlet timerInterval\n\t\t\t\t\t\t\t\t\t\t\tSwal.fire({\n\t\t\t\t\t\t\t\t\t\t\t\ttitle: 'Cargando datos de directorios!',\n\t\t\t\t\t\t\t\t\t\t\t\thtml: 'Aplicando vista en <b></b> .',\n\t\t\t\t\t\t\t\t\t\t\t\ttimer: 300,\n\t\t\t\t\t\t\t\t\t\t\t\ttimerProgressBar: true,\n\t\t\t\t\t\t\t\t\t\t\t\tdidOpen: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tSwal.showLoading()\n\t\t\t\t\t\t\t\t\t\t\t\t\tconst b = Swal.getHtmlContainer().querySelector('b')\n\t\t\t\t\t\t\t\t\t\t\t\t\ttimerInterval = setInterval(() => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tb.textContent = Swal.getTimerLeft()\n\t\t\t\t\t\t\t\t\t\t\t\t\t}, 100)\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\twillClose: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tclearInterval(timerInterval)\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t}).then((result) => {\n\t\t\t\t\t\t\t\t\t\t\t\t/* Read more about handling dismissals below */\n\t\t\t\t\t\t\t\t\t\t\t\tif (result.dismiss === Swal.DismissReason.timer) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t//console.log('I was closed by the timer')\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\tif (e.itemData.name === 'Escritorio') setEstado(1);\n\t\t\t\t\t\t\t\t\t\t\tif (e.itemData.name === 'Obras ganadas') setEstado(2);\n\t\t\t\t\t\t\t\t\t\t\tif (e.itemData.name === 'Bandeja') setEstado(3);\n\t\t\t\t\t\t\t\t\t\t\tif (e.itemData.name === 'Archivo central') setEstado(8);\n\t\t\t\t\t\t\t\t\t\t\tif (e.itemData.name === 'Papelera') setEstado(9);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Button1 variant=\"outline-info\" style={{ position: 'absolute', right: '-8px', top: '5px',  }} onClick={() => {\n\t\t\t\t\t\t\t\t\t\t//setNuevoPres(false);\n\n\t\t\t\t\t\t\t\t\t\t//BUSCAR PRESUPUESTO\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}><i class=\"fas fa-search fa-fw\"></i></Button1>\n\n\t\t\t\t\t\t\t\t\t<Button1 variant=\"outline-info\" style={{ position: 'absolute', right: '28px', top: '5px', width:'25px', height:'28px'  }} onClick={() => {\n\t\t\t\t\t\t\t\t\t\t//setNuevoPres(false);\n\t\t\t\t\t\t\t\t\t\t//alert()\n\t\t\t\t\t\t\t\t\t\tif (vfavoritos===1)\n\t\t\t\t\t\t\t\t\t\tsetVfavoritos(0);\n\t\t\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\t\tsetVfavoritos(1);\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\tsetFavoritos(!favoritos)\n\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t//BUSCAR PRESUPUESTO\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}>\n\t\t\t\t\t\t\t\t\t{!favoritos ? \n\t\t\t\t\t\t\t\t\t<img src=\"https://img.icons8.com/color/48/000000/star--v1.png\"\n\t\t\t\t\t\t\t\t\tstyle={{ width:'25px', height:'28px', marginTop:'-10px', marginLeft:'-8px'}}\n\t\t\t\t\t\t\t\t\t/>:\n\t\t\t\t\t\t\t\t\t<img src=\"https://img.icons8.com/color/50/000000/filled-star--v1.png\"\n\t\t\t\t\t\t\t\t\tstyle={{ width:'25px', height:'28px', marginTop:'-10px', marginLeft:'-8px'}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</Button1>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* <div id=\"DetalleItem\" className=\"mt-0 p-2 h-20 overflow-scroll\" style={{ height:'100%', overflow:'scroll' }}> */}\n\t\t\t\t\t\t\t{levelPC1 === 1 ? (\n\t\t\t\t\t\t\t\t<TreeCP\n\t\t\t\t\t\t\t\t\tAccion=\"Presupuesto\"\n\t\t\t\t\t\t\t\t\tfiltrado={textoB}\n\t\t\t\t\t\t\t\t\tlevelStart={1}\n\t\t\t\t\t\t\t\t\tidProject=\"\"\n\t\t\t\t\t\t\t\t\tmarginTop=\"60\"\n\t\t\t\t\t\t\t\t\tmarginLeft='0px'\n\t\t\t\t\t\t\t\t\testado={estado}\n\t\t\t\t\t\t\t\t\tsetEstado={setEstado}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t) : (''\n\t\t\t\t\t\t\t\t// levelPC1 === 2 ? (\n\t\t\t\t\t\t\t\t// \t<Items />\n\t\t\t\t\t\t\t\t// ) : <Tree levelStart={level} nodeSelected={codProject} />\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t\t{/* </div>  */}\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Collapse>\n\t\t\t\t\t<div\n\n\t\t\t\t\t\tclassName=\"bara-cerrar d-flex align-items-center barras\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: '16px',\n\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\tbackground: '#f5f6f8',\n\t\t\t\t\t\t\tmarginLeft: 5,\n\t\t\t\t\t\t\tborderStyle: 'none solid none none',\n\t\t\t\t\t\t\tborderColor: '#c6c7d0',\n\t\t\t\t\t\t\tborderWidth: '0.5px',\n\t\t\t\t\t\t\tzIndex: '1',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\tcursor: \"pointer\", width: '30px',\n\t\t\t\t\t\t\t\t/*background: 'rgb(184,225,252)',\n\t\t\t\t\t\t\t\tbackground: '-moz-linear-gradient(top, rgba(184,225,252,1) 0%, rgba(169,210,243,1) 10%, rgba(144,186,228,1) 25%, rgba(144,188,234,1) 37%, rgba(144,191,240,1) 50%, rgba(107,168,229,1) 51%, rgba(162,218,245,1) 83%, rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\t\tbackground: '-webkit-linear-gradient(top, rgba(184,225,252,1) 0%,rgba(169,210,243,1) 10%,rgba(144,186,228,1) 25%,rgba(144,188,234,1) 37%,rgba(144,191,240,1) 50%,rgba(107,168,229,1) 51%,rgba(162,218,245,1) 83%,rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\t\tbackground: 'linear-gradient(to bottom, rgba(184,225,252,1) 0%,rgba(169,210,243,1) 10%,rgba(144,186,228,1) 25%,rgba(144,188,234,1) 37%,rgba(144,191,240,1) 50%,rgba(107,168,229,1) 51%,rgba(162,218,245,1) 83%,rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\t\tfilter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#b8e1fc\", endColorstr=\"#bdf3fd\",GradientType=0',*/\n\t\t\t\t\t\t\t\tbackground: 'white',\n\t\t\t\t\t\t\t\tzIndex: '1'\n\t\t\t\t\t\t\t\t/*background: 'rgb(184,225,252)',\n\t\t\t\t\t\t\t\tbackground: '-moz-linear-gradient(top, rgba(184,225,252,1) 0%, rgba(169,210,243,1) 10%, rgba(144,186,228,1) 25%, rgba(144,188,234,1) 37%, rgba(144,191,240,1) 50%, rgba(107,168,229,1) 51%, rgba(162,218,245,1) 83%, rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\t\tbackground: '-webkit-linear-gradient(top, rgba(184,225,252,1) 0%,rgba(169,210,243,1) 10%,rgba(144,186,228,1) 25%,rgba(144,188,234,1) 37%,rgba(144,191,240,1) 50%,rgba(107,168,229,1) 51%,rgba(162,218,245,1) 83%,rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\t\tbackground: 'linear-gradient(to bottom, rgba(184,225,252,1) 0%,rgba(169,210,243,1) 10%,rgba(144,186,228,1) 25%,rgba(144,188,234,1) 37%,rgba(144,191,240,1) 50%,rgba(107,168,229,1) 51%,rgba(162,218,245,1) 83%,rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\t\tfilter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#b8e1fc\", endColorstr=\"#bdf3fd\",GradientType=0'\t*/\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"h-0 w-100 \"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t//alert('se activa');\n\n\n\t\t\t\t\t\t\t\tsetOpen(!open);\n\n\n\t\t\t\t\t\t\t\tif (!open) {\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"Conte1\").style.width = 0;\n\t\t\t\t\t\t\t\t\tsetWidth(260);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"Conte1\").style.width = '260px';\n\t\t\t\t\t\t\t\t\tsetWidth(20);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t//alert('');\n\t\t\t\t\t\t\t\t//$(\"#forgeViewer\").animate({ height: height + d.height }, 100);\n\n\t\t\t\t\t\t\t\t//$(\"#DetalleItem\").animate({ height: window.innerHeight - (height + d.height) - 130 }, 100);\n\n\t\t\t\t\t\t\t\t//alert('');\n\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tRefrescarV();\n\t\t\t\t\t\t\t\t}, 100);\n\n\n\n\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-controls=\"example-collapse-text\"\n\t\t\t\t\t\t\taria-expanded={open}\n\t\t\t\t\t\t\tstyle={{ background: 'transparent', zIndex: '1', width: '80px' }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{open ? (\n\t\t\t\t\t\t\t\t<ion-icon name=\"chevron-back-outline\" style={{ cursor: \"pointer\", color: 'black', borderColor: '#c6c7d0', marginLeft: '4px', background: 'white', zIndex: '2', width: '20px', height: '20px', borderRadius: '20px', borderStyle: 'solid', borderWidth: '0.5px', }}></ion-icon>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<ion-icon name=\"chevron-forward-outline\" style={{ cursor: \"pointer\", color: 'black', borderColor: '#c6c7d0', marginLeft: '4px', background: 'white', zIndex: '2', width: '20px', height: '20px', borderRadius: '20px', borderStyle: 'solid', borderWidth: '0.5px' }}></ion-icon>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Resizable>\n\n\t\t\t\t<Col className=\"w-100\" style={{\n\t\t\t\t\t/*background: 'rgb(242,245,246)',\n\t\t\t\t\tbackground: '-moz-linear-gradient(top, rgba(242,245,246,1) 0%, rgba(227,234,237,1) 37%, rgba(200,215,220,1) 100%)',\n\t\t\t\t\tbackground: '-webkit-linear-gradient(top, rgba(242,245,246,1) 0%,rgba(227,234,237,1) 37%,rgba(200,215,220,1) 100%)',\n\t\t\t\t\tbackground: 'linear-gradient(to bottom, rgba(242,245,246,1) 0%,rgba(227,234,237,1) 37%,rgba(200,215,220,1) 100%)',\n\t\t\t\t\tfilter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#f2f5f6\", endColorstr=\"#c8d7dc\",GradientType=0 )',*/\n\t\t\t\t\tbackground: 'white'\n\n\t\t\t\t}}>\n\t\t\t\t\t{/* <Route\n\t\t\t\t\t\tpath=\"/projects/project/:codProject\"\n\t\t\t\t\t\tcomponent={IdProyect}\n\t\t\t\t\t/> */}\n\t\t\t\t\t{/* <ViewScreen1 /> */}\n\n\n\t\t\t\t\t{/* <DatosGenerales/> */}\n\t\t\t\t\t<Items\n\t\t\t\t\t\twidthItems={width}\n\t\t\t\t\t\twidthNav={$(\"#ContenedorSide\").innerWidth()}\n\t\t\t\t\t\tOpen4={open}\n\t\t\t\t\t\tSetOpen4={setOpen}\n\t\t\t\t\t/>\n\n\t\t\t\t\t{/* <Route path=\"/projects/id-pc/:codPc\" component={IdPc} /> */}\n\t\t\t\t</Col>\n\n\t\t\t</div>\n\n\t\t</>\n\t);\n};\n\nexport default Presupuestos;\n","import { useEffect, useState } from \"react\";\nimport { cleanDataChart, cleanDataChart1, selectPc, navigationTree, navigationTreePC, selectItems, cambiaSeleccion, SeleccionaSub, SelectUrn } from '../actions/proyects.actions';\nimport { alpha, makeStyles, withStyles } from \"@material-ui/core/styles\";\nimport TreeView from \"@material-ui/lab/TreeView\";\nimport TreeItem from \"@material-ui/lab/TreeItem\";\nimport { useHistory } from \"react-router-dom\";\nimport axiosmdl from \"../config/axiosmdl\";\nimport qs from \"querystring\";\n\nimport {decode as base64_decode, encode as base64_encode} from 'base-64';\nimport subprojectIcon from '../assets/img/icons/subproject.png';\nimport projectIcon from '../assets/img/icons/project.png';\nimport managerIcon from '../assets/img/icons/manager.png';\n\n\nimport LocalOfferIcon from '@material-ui/icons/LocalOffer';\n\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { red } from \"@material-ui/core/colors\";\n\nfunction MinusSquare(props) {\n\treturn (\n\t\t<div className=\"d-flex\">\n\t\t\t{/* <ion-icon name=\"chevron-down-outline\"></ion-icon> */}\n\t\t\t<ion-icon name=\"caret-down-outline\" style={{width:'12px'}}></ion-icon>\n\t\t\t<img src={projectIcon} alt=\"icons\" width=\"18\" style={{ marginRight: 20 }} {...props} />\n\t\t</div>\n\t);\n}\n\nfunction PlusSquare(props) {\n\treturn (\n\t\t<div className=\"d-flex\">\n\t\t\t{/* <ion-icon name=\"chevron-forward-outline\"></ion-icon> */}\n\t\t\t<ion-icon name=\"caret-forward-outline\" style={{width:'12px'}}></ion-icon>\n\t\t\t<img src={projectIcon} alt=\"icons\" width=\"18\" style={{ marginRight: 20 }} {...props} />\n\n\t\t</div>\n\t);\n}\n\nfunction CloseSquare(props) {\n\treturn (\n\t\t<img src={subprojectIcon} width=\"18\" alt=\"icons\" style={{ marginRight: 20 }} {...props} />\n\t);\n}\nfunction CloseSquare1(props) {\n\treturn (\n\t\t<img src={subprojectIcon} width=\"18\" alt=\"icons\" style={{ marginRight: 20 }} {...props} />\n\t);\n}\nconst StyledTreeItem = withStyles((theme) => ({\n\ticonContainer: {\n\t\t\"& .close\": {\n\t\t\topacity: 0.25,\n\t\t},\n\t},\n\tgroup: {\n\t\tfont: \"20px Arial, sans-serif\",\n\t\tmarginLeft: 15,\n\t\tpaddingLeft: 0,\n\t\tborderLeft: `0.02px dashed ${alpha(theme.palette.text.primary, 0.1)}`,\n\t},\n}))((props) => <TreeItem {...props} />);\n\nconst useStyles = makeStyles({\n\troot: {\n\t\tfont: \"20px Arial, sans-serif\",\n\t\tmarginTop: 10,\n\t\tmarginLeft: 15,\n\t\theight: 264,\n\t\tflexGrow: 1,\n\t\tmaxWidth: 700,\n\t},\n});\n\nconst TreeMD = ({ levelStart, idProject, filtrado, Accion }) => {\n\tlet history = useHistory();\n\tconst classes = useStyles();\n\tconst dispatch = useDispatch();\n\t// const [loading, setLoading] = useState(true);\n\tconst [allLevels, setAllLevels] = useState(null)\n\tconst [itemSelected, setItemSelected] = useState('')\n\tconst [lastLevel, setLastLevel] = useState(0);\n\n\n\t\n\n\n\tconst [loading, setLoading] = useState(true);\n\n\tconst auth = useSelector((state) => state.auth);\n\tconst proyects = useSelector((state) => state.proyects);\n\t//alert(' inicializando treeeee' );\n\tconst subproyects = useSelector((state) => state.subproyects);\n\n\t\n\n\t\n\t/*useEffect(() => {\n\t\t//console.log('datos de subProyectos actualizados')\n\t\tif (proyects.treeSubControl == undefined) return;\n\t\t//console.log(proyects.treeSubControl)\n\t\torderTree1(proyects.treeSubControl);\n\t\t// console.log(result);\n\t\t// }\n\t\t// eslint-disable-next-line\n\t}, [proyects.treeSubControl])*/\n\n\n\n\n\t/*useEffect(() => {\n\t\t//console.log('datos de proyectos')\n\t\t//console.log(proyects.treePartyControl)\n\t\torderTree(proyects.treePartyControl);\n\t\t// console.log(result);\n\t\t// }\n\t\t// eslint-disable-next-line\n\t}, [levelStart, proyects.treePartyControl])*/\n\n\n\n\n\n\tconst changeItem = (pc, newTitle) => {\n\t\t\n\n\t\tif (pc.Descripcion.substring(0,7)==='Version')\n\t\t\t{\n\t\t\t\t//alert(pc.Id + \" \" + newTitle);\n\t\t\t\tlet encoded = base64_encode(pc.Id);\n\t\t\t\t//alert(encoded);\n\t\t\t\tdispatch(SelectUrn(encoded));\n\t\t\t\t\n\t\t\t\t//proyects.Urn=encoded;\n\t\t\t}\n\n\t\t\t\n\n\t\t\t//let decoded = base64_decode('YOUR_ENCODED_STRING');\n\t\t//dispatch(selectPc(proyects.idCard, pc.CodPresupuesto,  auth.User.UserId))\n\t\t//history.push(`/projects/id-pc/${pc.CodPresupuesto}`)\n\n\t\t// console.log('el id de este item es ', filter.CodPartidaDeControl, proyects.idCard)\n\t}\n\n\n\tconst changeItem1 = (pc, newTitle, idpadre) => {\n\t\t//alert(itemSelected + \" : \" + pc.CodSubpresupuesto + \" \");\n\n\t\t\n\n\n\n\n\n\n\n\t\t//dispatch(selectSeleccion(2));\n\t\t//selectSeleccion(2);\n\t\t//dispatch(cleanDataChart1());\n\t\t//SubPresupuestos(pc.CodPresupuesto);//llamar a items o retornar\n\n\n\t\t//dispatch(selectPc(proyects.idCard, pc.CodPresupuesto,  auth.User.UserId))\n\t\t//history.push(`/projects/id-pc/${pc.CodPresupuesto}`)\n\n\t\t// console.log('el id de este item es ', filter.CodPartidaDeControl, proyects.idCard)\n\t}\n\n\tconst SubPresupuestos = async (codigoP) => {\n\t\t//alert(codigoP);\t\t\n\t\tlet company = JSON.parse(localStorage.getItem(\"company-s10\"));\n\t\tlet connectId = await localStorage.getItem(\"connectionId\");\n\t\t//console.log('connectId desde tree: ' + connectId + company + idProject);\n\t\tif (company && auth.User) {\n\t\t\t//alert(data);\n\t\t\t/*const { data } = await axiosmdl.post(\n\t\t\t\t\"\",\n\t\t\t\t{\n\t\t\t\t\tHasOutputParam: false,\n\t\t\t\t\t//ObjectName: `dbo.S10_06_PartidaDeControl_ListarCatalogo '${idProject}'`,\n\t\t\t\t\tObjectName: `dbo.S10_01_Presupuesto_ListarSubpresupuestos '${codigoP}'`,\n\t\t\t\t\tRequestId: \"PARTY_CONTROL1\",\n\t\t\t\t\tSignalRConnectionID: connectId,\n\t\t\t\t\tSecurityUserId: auth.User.UserId, // SecurityUserId obtenido al logear\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tToken: company.Token,\n\t\t\t\t\t\tModuleId: 21,\n\t\t\t\t\t},\n\t\t\t\t}\n\t\t\t);*/\n\t\t\t//console.log(' data del response' + data);\n\t\t\treturn '1';\n\t\t\t// console.log(idProject);\n\t\t}\n\n\t}\n\n\n\n\t/*async function postData(url = '', data = {}) {\n\t\tconst response = await fetch(url, {\n\t\t\tmethod: 'POST', // *GET, POST, PUT, DELETE, etc.\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded'\n\t\t\t},\n\t\t\tbody: queryString.stringify(data)\n\t\t});\n\t\treturn response.json(); // parses JSON response into native JavaScript objects\n\t}*/\n\n\t/*function getForgeToken(callback) {\n\t\tpostData('https://developer.api.autodesk.com/authentication/v1/authenticate', {\n\t\t\t'client_id': 'Lrn6oqLnwpCBd8GS0LuimGx5SHONYw4b',\n\t\t\t'client_secret': 'JLA2LfrdwUg4hMkz',\n\t\t\t'grant_type': 'client_credentials',\n\t\t\t'scope': 'data:read data:write data:create data:search bucket:create bucket:read bucket:update bucket:delete'\n\t\t})\n\t\t\t.then(data => {\n\t\t\t\tconsole.log(data); // JSON data parsed by `data.json()` call\n\t\t\t\tcallback(data.access_token, data.expires_in);\n\t\t\t});\n\t}*/\n\tlet token = '';\n\tlet idhub = '';\n\tlet idproy = '';\n\tlet nombreproy = '';\n\tlet urnfolder = '';\n\n\tconst ObtenerTokenAdsk = async () => {\n\t\t//console.log('Se dispara solicitar Token ');\n\t\t//if (auth.User) {\n\t\tconst { data } = await axiosmdl.post(\n\t\t\t\"/authentication/v1/authenticate\",\n\t\t\tqs.stringify({\n\t\t\t\tclient_id: \"Lrn6oqLnwpCBd8GS0LuimGx5SHONYw4b\",\n\t\t\t\tclient_secret: \"JLA2LfrdwUg4hMkz\",\n\t\t\t\tgrant_type: \"client_credentials\",\n\t\t\t\tscope: \"data:read data:write data:create data:search bucket:create bucket:read bucket:update bucket:delete\",\n\t\t\t}),\n\t\t\t{\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/x-www-form-urlencoded\"\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(' Token obtenido de Autodesk');\n\t\tconsole.log(data);\n\t\ttoken = data.access_token;\n\t\treturn '1';\n\t\t// console.log(idProject);\n\t\t//}\n\n\t}\n\n\n\tuseEffect(async () => {\n\t\t//ObtenerTokenAdsk();\n\t\tconst rep  = await ObtenerTokenAdsk();\n\t\tconst rep1 = await DatosHubs();\n\t\tconst rep2 = await DatosProyectos();\n\t\tconst rep3 = await DatosFolders();\n\t\tconst rep4 = await DatosContentFolders();\n\t}, [])\n\n\n\n\tconst DatosHubs = async () => {\n\t\t//console.log('Se llama Hubs ' + \"Bearer \");\n\t\tconst { data } = await axiosmdl.get(\n\t\t\t\"/project/v1/hubs?\",\n\t\t\t{\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\t/*console.log(' Hubs respuesta');\n\t\tconsole.log(data);\n\t\tconsole.log(data.data[0].attributes.name);\n\t\tconsole.log(data.data[0].id);*/\n\t\tidhub=data.data[0].id;\n\t\treturn '1';\n\n\t}\n\n\n\tconst DatosProyectos = async () => {\n\t\t//console.log('Se llama Hubs ' + \"Bearer \");\n\t\tconst { data } = await axiosmdl.get(\n\t\t\t\"/project/v1/hubs/\"+ idhub +\"/projects\",\n\t\t\t{\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(' Proyectos respuesta');\n\t\tconsole.log(data);\n\t\tconsole.log(data.data[1]?.attributes.name);\n\t\tconsole.log(data.data[1]?.id);\n\n\t\tidproy = data.data[1]?.id;\n\t\tnombreproy = data.data[1]?.attributes.name;\n\t\t//setAllLevels(1);\n\t\tsetLastLevel(0);\n\n\n\t\tsetAllLevels([\n\t\t\t[\n\t\t\t{\n\t\t\t\tId:data.data[1]?.id,\n\t\t\t\tDescripcion:data.data[1]?.attributes.name,\n\t\t\t\tPhantomParentId:'',\n\t\t\t},\n\t\t\t],\n\t\t]);\n\t\t/*setAllLevels([\n\t\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tId:data.data[1].id,\n\t\t\t\t\tDescripcion:data.data[1].attributes.name,\n\t\t\t\t\tPhantomParentId:'',\n\t\t\t\t},\n\t\t\t\t],\n\t\t\t\t[{\n\t\t\t\t\tId:'2',\n\t\t\t\t\tDescripcion:'otro dato',\n\t\t\t\t\tPhantomParentId:data.data[1].id,\t\t\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tId:'2',\n\t\t\t\t\tDescripcion:'otro dato',\n\t\t\t\t\tPhantomParentId:data.data[1].id,\n\t\t\t\t}\n\t\t\t\t],\n\t\t\t]);*/\n\t\tsetLoading(false);\n\t\tconsole.log(allLevels);\n\n\t\treturn '1';\n\n\t}\n\t\n\n\tconst DatosFolders = async () => {\n\t\t//console.log('Se llama Hubs ' + \"Bearer \");\n\t\tconst { data } = await axiosmdl.get(\n\t\t\t\"/project/v1/hubs/\"+ idhub +\"/projects/\" + idproy + \"/topFolders\",\n\t\t\t{\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(' Folders respuesta');\n\t\tconsole.log(data);\n\n\n\t\tfor (let i=0;i<data.data.length;i++){\n\t\t\tif (data.data[i].attributes.name==='Project Files'){\n\t\t\t\tsetLastLevel(0);\n\t\t\t\turnfolder = data.data[i].id;\n\t\t\t\tsetAllLevels( (state)=>{\n\n\t\t\t\t\treturn[...state,[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tId:data.data[i].id,\n\t\t\t\t\t\t\tDescripcion:data.data[i].attributes.name,\n\t\t\t\t\t\t\tPhantomParentId:idproy,\t\t\n\t\t\t\t\t\t},\n\t\t\t\t\t\t\n\t\t\t\t\t]]\n\n\t\t\t\t});\n\n\t\t\t\t//alert(data.data[i].id);\n\t\t\t}\n\n\n\t\t}\n\t\t//console.log(data.data[1].attributes.name);\n\t\t//console.log(data.data[1].id);\n\n\t\t//let idproy = data.data[1].id;\n\t\t//let nombreproy = data.data[1].attributes.name;\n\t\t//setAllLevels(1);\n\t\t//setLastLevel(0);\n\t\t\t/*setAllLevels([\n\t\t\t\t[\n\t\t\t\t{\n\t\t\t\t\tId:data.data[1].id,\n\t\t\t\t\tDescripcion:data.data[1].attributes.name,\n\t\t\t\t\tPhantomParentId:'',\n\t\t\t\t},\n\t\t\t\t],\n\t\t\t\t[{\n\t\t\t\t\tId:'2',\n\t\t\t\t\tDescripcion:'otro dato',\n\t\t\t\t\tPhantomParentId:data.data[1].id,\t\t\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tId:'2',\n\t\t\t\t\tDescripcion:'otro dato',\n\t\t\t\t\tPhantomParentId:data.data[1].id,\n\t\t\t\t}\n\t\t\t\t],\n\t\t\t]);*/\n\t\tsetLoading(false);\n\t\tconsole.log(allLevels);\n\n\t\treturn '1';\n\n\t}\n//https://developer.api.autodesk.com/project/v1/hubs/b.add1a5d6-6782-4ab4-80b5-ec0ac90a3c44/projects\n\t//https://developer.api.autodesk.com/project/v1/hubs/b.add1a5d6-6782-4ab4-80b5-ec0ac90a3c44/projects/b.650b7b18-9a52-4032-a01d-9e7b181ca5f9/topFolders\n\t//https://developer.api.autodesk.com/data/v1/projects/b.650b7b18-9a52-4032-a01d-9e7b181ca5f9/folders/urn:adsk.wipprod:fs.folder:co.MiYHBR6bR7u6JNIMqiygGA/contents\n\n\t//let cantidadFolders=0;\n\tlet folders=[];\n\n\tconst DatosContentFolders = async () => {\n\t\t//console.log('Se llama Hubs ' + \"Bearer \");\n\t\tconst { data } = await axiosmdl.get(\n\t\t\t\"/data/v1/projects/\" + idproy +\"/folders/\" + urnfolder + \"/contents\",\n\t\t\t{\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(' Content Folders respuesta');\n\t\tconsole.log(data);\n\n\t\tlet arreglo=[];\n\t\tlet arreglo1=[];\n\t\tfor (let i=0;i<data.data.length;i++){\n\t\t\t\t\n\t\t\t\tif (data.data[i].type==='folders'){\n\t\t\t\t\tfolders.push(data.data[i].id);\n\t\t\t\t}\n\n\t\t\t\tarreglo.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tId:data.data[i].id,\n\t\t\t\t\t\tDescripcion:data.data[i].attributes.displayName,\n\t\t\t\t\t\tPhantomParentId:urnfolder\n\t\t\t\t\t},\n\t\t\t\t\t)\n\t\t\t\t\t\n\t\t\t\t\tfor (let j=0;j<data.included.length;j++){\n\t\t\t\t\t\tif (data.data[i].attributes.displayName === data.included[j].attributes.name){\n\n\t\t\t\t\t\t\tarreglo1.push(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tId:data.included[j].id,\n\t\t\t\t\t\t\t\t\tDescripcion:'Version '+ data.included[j].attributes.versionNumber + ' ' + data.included[j].attributes.lastModifiedTime.substring(0,10),\n\t\t\t\t\t\t\t\t\tPhantomParentId:data.data[i].id\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t}\n\t\t\n\t\tconsole.log(arreglo);\n\t\tsetAllLevels( (state)=>{\n\t\treturn[...state,\n\t\t\tarreglo,arreglo1\t\t\t\n\t\t]\n\t\t});\n\t\tsetLastLevel(4);\n\t\tsetLoading(false);\n\t\tconsole.log(allLevels);\n\t\t\n\t\tfor (let i=0;i<folders.length;i++){\n\t\t\tlet resp = await DatosContentFolders1(folders[i]);\n\t\t}\n\t\t\n\t\t\n\t\treturn '1';\n\n\n\t}\n\n\n\n\n\n\tconst DatosContentFolders1 = async (idf) => {\n\t\t//console.log('Se llama Hubs ' + \"Bearer \");\n\t\tconst { data } = await axiosmdl.get(\n\t\t\t\"/data/v1/projects/\" + idproy +\"/folders/\" + idf + \"/contents\",\n\t\t\t{\n\t\t\t\theaders:\n\t\t\t\t{\n\t\t\t\t\tAuthorization: \"Bearer \" + token\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tconsole.log(' Content Folders respuesta');\n\t\tconsole.log(data);\n\n\t\tlet arreglo=[];\n\t\tlet arreglo1=[];\n\t\tfor (let i=0;i<data.data.length;i++){\n\t\t\t\t\n\t\t\t\tif (data.data[i].type==='folders'){\n\t\t\t\t\tfolders.push(data.data[i].id);\n\t\t\t\t}\n\n\t\t\t\tarreglo.push(\n\t\t\t\t\t{\n\t\t\t\t\t\tId:data.data[i].id,\n\t\t\t\t\t\tDescripcion:data.data[i].attributes.displayName,\n\t\t\t\t\t\tPhantomParentId:idf\n\t\t\t\t\t},\n\t\t\t\t\t)\n\t\t\t\t\t\n\t\t\t\t\tfor (let j=0;j<data.included.length;j++){\n\t\t\t\t\t\tif (data.data[i].attributes.displayName === data.included[j].attributes.name){\n\n\t\t\t\t\t\t\tarreglo1.push(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tId:data.included[j].id,\n\t\t\t\t\t\t\t\t\tDescripcion:'Version '+ data.included[j].attributes.versionNumber + ' ' + data.included[j].attributes.lastModifiedTime.substring(0,10),\n\t\t\t\t\t\t\t\t\tPhantomParentId:data.data[i].id\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\t\n\t\t\t\t\t}\n\t\t}\n\t\t\n\t\tconsole.log(arreglo);\n\t\t/*setAllLevels( (state)=>{\n\t\t\treturn[...state,\n\t\t\t\tarreglo,arreglo1\t\t\t\n\t\t\t]\n\t\t\t});*/\n\n\t\tsetAllLevels( (state)=>{\n\t\t\treturn[state[0],state[1],state[2],state[3].concat(arreglo), arreglo1]\n\t\t\t});\n\n\t\tsetLastLevel(5);\n\t\tsetLoading(false);\n\t\t//console.log('all levels final');\n\t\t//console.log(allLevels);\n\t\treturn '1';\n\n\t}\n\n\n\n\n\tconst drawerItems = (level, filtro, parentId = '', parentName = '') => {\n\n\t\tconst nextLevel = (level + 1);\n\t\t//console.log('este es el primer elemento');\n\t\t//console.log(allLevels[level]);\n\t\tconsole.log('All levels final');\n\t\tconsole.log(allLevels);\n\n\t\treturn allLevels && allLevels[level]\n\t\t\t? allLevels[level]\n\t\t\t\t.filter(item => parentId === '' || item.PhantomParentId === parentId)\n\t\t\t\t.map(filter => {\n\t\t\t\t\tconst newTitle = level === 1 ? '' : `${parentName}${filter.Descripcion}`;\n\t\t\t\t\treturn (\n\t\t\t\t\t\t\n\t\t\t\t\t\t<StyledTreeItem\n\t\t\t\t\t\t\tnodeId={filter.Id}\n\t\t\t\t\t\t\tlabel={filter.Descripcion}\n\t\t\t\t\t\t\tkey={filter.Id}\n\t\t\t\t\t\t\tonLabelClick={() => changeItem(filter, newTitle)}\n\t\t\t\t\t\t\tlabelIcon={LocalOfferIcon}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{(nextLevel === lastLevel-1\n\t\t\t\t\t\t\t\t? allLevels[nextLevel].filter(item => filter.Id === item.PhantomParentId).map(grupo3 => (\n\t\t\t\t\t\t\t\t\t// <Link \n\t\t\t\t\t\t\t\t\t// \tto={`/projects/id-pc/${grupo3.CodPartidaDeControl}`}\n\t\t\t\t\t\t\t\t\t// \tonLabelClick={() => {\n\t\t\t\t\t\t\t\t\t// \t\tdispatch(navigationTree(newTitle, grupo3.Descripcion))\n\t\t\t\t\t\t\t\t\t// \t\tdispatch(cleanDataChart());\n\t\t\t\t\t\t\t\t\t// \t\tdispatch(selectPc(proyects.idCard, grupo3.CodPartidaDeControl,  auth.User.UserId))\n\n\t\t\t\t\t\t\t\t\t// \t}} \n\t\t\t\t\t\t\t\t\t// \tkey={grupo3.CodPartidaDeControl}\n\t\t\t\t\t\t\t\t\t// \tstyle={{background: '#000'}}\n\t\t\t\t\t\t\t\t\t// >\n\n\t\t\t\t\t\t\t\t\t<StyledTreeItem\n\t\t\t\t\t\t\t\t\t\tnodeId={grupo3.Id}\n\t\t\t\t\t\t\t\t\t\tlabel={grupo3.Descripcion}\n\t\t\t\t\t\t\t\t\t\tonLabelClick={() => changeItem(grupo3, `${newTitle} / ${grupo3.Descripcion}`)}\n\t\t\t\t\t\t\t\t\t\tlabelIcon={LocalOfferIcon}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t// </Link>\n\t\t\t\t\t\t\t\t))\n\t\t\t\t\t\t\t\t: drawerItems(nextLevel, filtro, filter.Id, (level === 1 ? '' : `${newTitle} / `))\n\n\t\t\t\t\t\t\t)}\n\n\t\t\t\t\t\t</StyledTreeItem> \n\t\t\t\t\t)\n\t\t\t\t})\n\t\t\t: (<>\n\t\t\t\t{\n\t\t\t\t\t''\n\t\t\t\t}\n\t\t\t</>\n\t\t\t)\n\t}\n\n\n\n\n\t/*const drawerItems1 = () => {\n\n\t\tif (allLevels1 == null || allLevels1 == undefined) return;\n\t\tif (allLevels1[0] == null || allLevels1[0] == undefined) return;\n\t\t//console.log('datos de subProyectos actualizados')\n\t\t//console.log(allLevels1[0])\n\n\t\treturn allLevels1[0].map(filter => {\n\t\t\t//const newTitle = `${parentName}${filter.Descripcion}`;\n\t\t\treturn (\n\t\t\t\t<StyledTreeItem\n\t\t\t\t\tnodeId={filter.CodSubpresupuesto}\n\t\t\t\t\tlabel={filter.Descripcion}\n\t\t\t\t\tkey={filter.CodSubpresupuesto}\n\t\t\t\t\tonLabelClick={() => changeItem1(filter)}\n\t\t\t\t>\n\t\t\t\t</StyledTreeItem>\n\t\t\t)\n\t\t})\n\n\t}*/\n\n\n\n\n\n\n\n\n\n\n\n\n\treturn (\n\t\t<>\n\t\t\t<h1>{filtrado}</h1>\n\t\t\t{/* <div className=\"\" style={{fontSize: 15, color:'black', overflow:'scroll', height:'40vh', top:'0px', left:'0px', width:'100%'}}> */}\n\t\t\t<TreeView\n\n\t\t\t\tclassName={classes.root}\n\t\t\t\tdefaultExpanded={['1']}\n\t\t\t\tdefaultCollapseIcon={<MinusSquare />}\n\t\t\t\tdefaultExpandIcon={<PlusSquare />}\n\t\t\t\tdefaultEndIcon={<CloseSquare />}\n\t\t\t\tdefaultParentIcon={<CloseSquare1 />}\n\t\t\t>\n\n\t\t\t\t{\n\t\t\t\t\tloading ? 'Cargando...' :\n\t\t\t\t\t\tdrawerItems(0, filtrado)\n\n\t\t\t\t}\n\t\t\t</TreeView>\n\t\t\t{/* </div> */}\n\n\n\n\t\t\t{/* <div className=\"\" style={{position: 'relative',fontSize: 15, color:'black', overflow:'scroll', height:'25vh', marginTop:'-50px', top:'-80px', left:'0px', width:'100%' }}>\n\t\t\t<h1>SubPresupuestos </h1>\n\t\t\t<TreeView\n\t\t\t\tclassName={classes.root}\n\t\t\t\tdefaultExpanded={['1']}\n\t\t\t\tdefaultCollapseIcon={<MinusSquare />}\n\t\t\t\tdefaultExpandIcon={<PlusSquare />}\n\t\t\t\tdefaultEndIcon={<CloseSquare />}\n\t\t\t>\n\t\t\t\n\t\t\t{\n\t\t\t\t//'Cargando1...'\n\t\t\t\tdrawerItems1()\n\t\t\t\t\n\t\t\t}\n\t\t\t</TreeView>\n\t\t\t</div> */}\n\t\t</>\n\t);\n}\n\nexport default TreeMD\n","import React, { useRef, useEffect, useState } from 'react'\r\n\r\nimport Script from 'react-load-script';\r\nimport $ from 'jquery';\r\nimport queryString from 'query-string';\r\n\r\n//import { cleanDataChart, cleanDataChart1, selectPc, navigationTree, navigationTreePC, selectItems} from '../actions/proyects.actions';\r\n\r\n//import adskLogoSvg from \"./logo.svg\";\r\n//import VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport * as THREE from 'three';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { relativeTimeRounding } from 'moment';\r\nimport { selectParidas } from '../actions/proyects.actions';\r\n/*import { Timeline } from 'react-svg-timeline'\r\nimport { now } from 'moment';\r\nimport Tooltip from \"@material-ui/core/Tooltip\";*/\r\n\r\n\r\n//import { Gantt, Task, EventOption, StylingOption, ViewMode, DisplayOption } from 'gantt-task-react';\r\n//import \"gantt-task-react/dist/index.css\";\r\n\r\n//import { Gantt, Task, EventOption, StylingOption, ViewMode, DisplayOption } from '../../gantt-task-react-main/index';\r\n//import \"gantt-task-react/dist/index.css\";\r\n//import \"gantt-task-react/dist/index.css\";\r\n\r\n//import { CustomToolTip } from \"forge-dataviz-iot-react-components\";\r\n//import Cronos from 'chronos-etu';\r\n//import { Font, TextGeometry } from 'threejs-full-es6'\r\n//import FontJson from './helvetiker_bold.typeface.json'\r\n//import { Theme as MaterialTheme } from '@material-ui/core';\r\n//import zIndex from '@material-ui/core/styles/zIndex';\r\n//import { TimelineTheme } from './Proyectos/theme/model';\r\n\r\nconst devices = [\r\n    {\r\n        position: {\r\n            x: 2.590268290876452,\r\n            y: 1.20446526068116,\r\n            z: 2.355262787057484,\r\n        },\r\n        type: \"temperature\",\r\n        sensorTypes: [\"co2\", \"temperature\"],\r\n    },\r\n    {\r\n        position: {\r\n            x: -97.94954550038506,\r\n            y: -50.21776820050724,\r\n            z: 12.444056161946492,\r\n        },\r\n        type: \"temperature\",\r\n        sensorTypes: [\"temperature\"],\r\n    },\r\n    {\r\n        position: {\r\n            x: 162.61,\r\n            y: 75.54,\r\n            z: -0.61,\r\n        },\r\n        type: \"temperature\",\r\n        sensorTypes: [\"temperature\"],\r\n    },\r\n    {\r\n        position: {\r\n            x: 48.53,\r\n            y: -48.27,\r\n            z: -19.24,\r\n        },\r\n        type: \"temperature\",\r\n        sensorTypes: [\"temperature\"],\r\n    },\r\n\r\n];\r\n\r\nvar ponerdato=true;\r\nconst viewerLibaryURL1 = '//cdn.jsdelivr.net/gh/autodesk-forge/forge-extensions/public/extensions/NestedViewerExtension/contents/main.js';\r\nconst viewerStylesheetURL1 = '//cdn.jsdelivr.net/gh/autodesk-forge/forge-extensions/public/extensions/NestedViewerExtension/contents/main.css';\r\n\r\nvar seleccionados=\"\", seleccionadosCat=\"\", seleccionadosFamilia=\"\", seleccionadosTipo=\"\"; \r\nconst viewerLibaryURL2 = 'js/three.js';\r\n\r\n\r\nvar T_uniqueIds = [];\r\nvar T_categorias = [];\r\nvar T_NombreT = [];\r\nvar T_TipoT = [];\r\nvar T_cantidad_elementos=0;\r\n\r\n\r\n//URN=dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLi02VW9rWXRDUVZXVDdiWDFZeXRZUHc/dmVyc2lvbj0x\r\n//const modelURL = 'https://dukedhx.github.io/Forge-Workshop/shaver/0.svf';\r\n//const modelURL = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmhxbTRIV0ZmUm82VGtzand2MjZQSlE_dmVyc2lvbj0x';\r\n//const modelURL = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmktWmdsQkg4UnRXRWI1Zi1CWnZnQ0E/dmVyc2lvbj0x';\r\n//const modelURL = 'https:\\/\\/developer.api.autodesk.com\\/derivativeservice\\/v2\\/derivatives\\/dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmhxbTRIV0ZmUm82VGtzand2MjZQSlE_dmVyc2lvbj0x'\r\n//const viewerLibaryURL = 'https://developer.api.autodesk.com/modelderivative/v2/viewers/viewer3D.min.js?v=v7.*';\r\nconst viewerStylesheetURL = 'https://developer.api.autodesk.com/modelderivative/v2/viewers/style.min.css?v=v7.*';\r\nconst viewerLibaryURL = 'https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js';\r\nlet viewerLibraryLoaded = false;\r\nlet viewerLibraryLoaded1 = false;\r\nlet viewerStyleLoaded = false;\r\nlet viewerLoading = false;\r\n\r\n//const viewerLibaryURL1 = 'js/ForgeViewer.js';\r\n\r\n\r\nvar viewerM ;\r\n//export const Viewer1=null;\r\n\r\n\r\n\r\n//export const CambiardeModelo = async (NuevoModelo) => {\r\n    //setModelURL(NuevoModelo);\r\n    //await launchViewer(modelURL);\r\n\r\n//}\r\n\r\n\r\nexport const MostarModelo = (idelem) => {\r\n    //alert(\"refresca\");\r\n   //viewer.resize();\r\n   //viewer.showAll();\r\n   //viewer.refresh(false);\r\n   //viewer.refresh(true);\r\n   //var urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n   //await ViewScreen1.launchViewer(urn);\r\n   highlightRevit(idelem);\r\n}\r\n\r\n\r\nfunction highlightRevit(idsRevit) {\r\n    // Every Forge Viewer model has an ‘ExternalId Mapping’\r\n    // this mapping is an object that has as keys the\r\n    if (viewerM)\r\n        if (viewerM.model)\r\n    viewerM.model.getExternalIdMapping((mapping) => {\r\n        configureElementByUniqueIdAndMapping(idsRevit, mapping);\r\n    });\r\n}\r\nfunction configureElementByUniqueIdAndMapping(idsRevit, mapping) {\r\n    var elementsDbId = [];\r\n    var idsRevitArray = idsRevit.split(',');\r\n    for (var uniqueId in idsRevitArray) {\r\n        const elementDbId = mapping[idsRevitArray[uniqueId]];\r\n        if (elementDbId) {\r\n            elementsDbId.push(elementDbId);\r\n        }\r\n    }\r\n    viewerM.isolate(elementsDbId);\r\n    viewerM.fitToView(elementsDbId);\r\n}\r\n\r\n\r\n    export const RefrescarV = async() => {\r\n        //alert(\"refresca\");\r\n       if (viewerM)\r\n        viewerM.resize();\r\n       //viewer.showAll();\r\n       //viewer.refresh(false);\r\n       //viewer.refresh(true);\r\n       //var urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n       //await ViewScreen1.launchViewer(urn);\r\n\r\n    }\r\n\r\n\r\nvar UniquesSel=null;\r\n\r\n  \r\nexport const ViewerScM = (props) => {\r\n\r\n\r\n\tconst dispatch = useDispatch();\r\n\t// const [loading, setLoading] = useState(true);\r\n\r\n\t//const auth = useSelector((state) => state.auth);\r\n\tconst proyects = useSelector((state:any) => state.proyects);\r\n\r\n\r\n\r\n\r\n\r\n    useEffect(() => {\r\n\t\t//console.log('datos de items en Forge')\r\n\t\t//console.log(proyects.DataUnique)\r\n        UniquesSel=proyects.DataUnique;\r\n\t\t//orderTree(proyects.DataPc);\r\n\t\t//alert('ejecutó la primera carga');\r\n\t\t\t// console.log(result);\r\n\t\t// }\r\n\t\t // eslint-disable-next-line\r\n\t}, [proyects.DataUnique])\r\n\r\n    \r\n    const [ modelURL, setModelURL ] = useState('dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmktWmdsQkg4UnRXRWI1Zi1CWnZnQ0E/dmVyc2lvbj0x');\r\n    //'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmktWmdsQkg4UnRXRWI1Zi1CWnZnQ0E/dmVyc2lvbj0x'\r\n    //const [Viewer1, setViewer1] = useState(null);\r\n\r\n    /*function initTasks() {\r\n        const currentDate = new Date();\r\n        const tasks: Task[] = [\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 1),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 25),\r\n            name: \"Proyecto Edificio Colinas\",\r\n            id: \"ProjectSample\",\r\n            progress: 25,\r\n            type: \"project\",\r\n            padre: true,\r\n            nivel:0,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 1),\r\n            end: new Date(\r\n              currentDate.getFullYear(),\r\n              currentDate.getMonth(),\r\n              2,\r\n              12,\r\n              28\r\n            ),\r\n            name: \"Desbroce y desbosque de terreno\",\r\n            id: \"Task 0\",\r\n            progress: 45,\r\n            type: \"task\",\r\n            project: \"ProjectSample\",    \r\n            nivel:1,        \r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 2),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4, 0, 0),\r\n            name: \"Research\",\r\n            id: \"Task 1\",\r\n            progress: 25,\r\n            dependencies: [\"Task 0\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),\r\n            name: \"Excavacion sin clasificar\",\r\n            id: \"Task 2\",\r\n            progress: 10,\r\n            dependencies: [\"Task 1\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),\r\n            name: \"Excavacion sin clasificar\",\r\n            id: \"Task 8\",\r\n            progress: 10,\r\n            dependencies: [\"Task 1\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 10, 0, 0),\r\n            name: \"Relleno compactado\",\r\n            id: \"Task 3\",\r\n            progress: 2,\r\n            dependencies: [\"Task 2\"],\r\n            type: \"project\",\r\n            project: \"ProjectSample\",\r\n            padre:true,\r\n            nivel:1,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 10),\r\n            name: \"Review\",\r\n            id: \"Task 4\",\r\n            type: \"task\",\r\n            progress: 70,\r\n            dependencies: [\"Task 2\"],\r\n            project: \"Task 3\",\r\n            nivel:2,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),\r\n            name: \"Excavacion sin clasificar\",\r\n            id: \"Task 5\",\r\n            progress: 10,\r\n            dependencies: [\"Task 1\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },          \r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 15),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 15),\r\n            name: \"Release\",\r\n            id: \"Task 6\",\r\n            progress: currentDate.getMonth(),\r\n            type: \"milestone\",\r\n            dependencies: [\"Task 4\"],\r\n            project: \"Task 3\",\r\n            nivel:2,\r\n            visible:true,\r\n          },\r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),\r\n            name: \"Excavacion sin clasificar\",\r\n            id: \"Task 7\",\r\n            progress: 10,\r\n            dependencies: [\"Task 1\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 4),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 8, 0, 0),\r\n            name: \"Excavacion sin clasificar\",\r\n            id: \"Task 8\",\r\n            progress: 10,\r\n            dependencies: [\"Task 1\"],\r\n            type: \"task\",\r\n            project: \"ProjectSample\",\r\n            nivel:1,\r\n            visible:true,\r\n          },          \r\n          {\r\n            start: new Date(currentDate.getFullYear(), currentDate.getMonth(), 18),\r\n            end: new Date(currentDate.getFullYear(), currentDate.getMonth(), 19),\r\n            name: \"Party Time\",\r\n            id: \"Task 9\",\r\n            progress: 0,\r\n            isDisabled: true,\r\n            type: \"task\",\r\n            nivel:1,\r\n            visible:true,\r\n          },\r\n        ];\r\n        return tasks;\r\n      }\r\n\r\n    \r\n    const [tasks, setTasks] = React.useState<Task[]>(initTasks());\r\n    const currentDate = new Date();*/\r\n\r\n\r\n\r\n    \r\n    //return tasks;\r\n  \r\n    \r\n\r\n    //const { env, docUrn, adapterType, api } = props.appData;\r\n    /*if (props.appData.dataStart && props.appData.dataEnd) {\r\n        let dataStart = new Date(props.appData.dataStart);\r\n        let dataEnd = new Date(props.appData.dataEnd);\r\n        startRange.setTime(dataStart.getTime());\r\n        endRange.setTime(dataEnd.getTime());\r\n\r\n        if (startDate.getTime() < startRange.getTime() || startDate.getTime() >= endRange.getTime()) {\r\n            startDate.setTime(startRange.getTime());\r\n        }\r\n\r\n        if (endDate.getTime() <= startRange.getTime() || endDate.getTime() >= endRange.getTime()) {\r\n            endDate.setTime(endRange.getTime());\r\n        }\r\n\r\n        if (currDate.getTime() <= startRange.getTime() || currDate.getTime() >= endRange.getTime()) {\r\n            currDate.setTime(endRange.getTime());\r\n        }\r\n\r\n        // give it a little bit buffer to make the range selection visible\r\n        startRange.setTime(dataStart.getTime() - 2 * 60 * 60 * 24 * 1000);\r\n        endRange.setTime(dataEnd.getTime() + 2 * 60 * 60 * 24 * 1000);\r\n    }*/\r\n\r\n\r\n    /*timeOptionRef.current = timeOptions;\r\n    appStateRef.current = appState;\r\n    hoveredDeviceInfoRef.current = hoveredDeviceInfo;*/\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n    var urn;\r\n    //const container: any = useRef();\r\n    var posX = 0;\r\n    var posY = 0;\r\n    var posZ = 0;\r\n\r\n    const [loadViewerLibrary, setLoadViewerLibrary] = useState(false);\r\n    const [loadViewerLibrary1, setLoadViewerLibrary1] = useState(false);\r\n\r\n    const handleStyleLoad = async() => {\r\n        viewerStyleLoaded = true;\r\n        if (cargado1 && cargado2){\r\n            //urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n            await launchViewer(modelURL);\r\n            //alert(urn);\r\n        }\r\n\r\n        if (viewerLibraryLoaded && viewerLibraryLoaded1) {\r\n            /*urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmhxbTRIV0ZmUm82VGtzand2MjZQSlE_dmVyc2lvbj0x';\r\n            viewerLibraryLoaded && launchViewer(urn)*/\r\n\r\n        }\r\n    }\r\n    var cargado1=false;\r\n    var cargado2=false;\r\n\r\n \r\n\r\n\r\n    const handleScriptLoad1 = async () => {\r\n        //alert('ya cargo');\r\n\r\n        cargado2=true;\r\n        if (cargado1 && cargado2){\r\n            //urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n            await launchViewer(modelURL);\r\n            //alert(urn);\r\n        }\r\n\r\n        \r\n\r\n        /*viewerLibraryLoaded1 = true;\r\n        setTimeout(() => {\r\n            if (viewer) {\r\n                //viewer.loadExtension('MenuContextual');\r\n                //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n\r\n                //alert('carga extension');\r\n                //viewer.loadExtension('MenuContextual');\r\n                //viewer.activateExtension(\"NestedViewerExtension\");\r\n\r\n                //alert(viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true }));\r\n\r\n\r\n\r\n                //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n                //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n                //alert(viewer.isExtensionLoaded(\"NestedViewerExtension\"));\r\n                //viewer.refresh(true);\r\n            }\r\n        }, 5000);*/\r\n    }\r\n\r\n\r\n    const handleScriptLoad2 = () => {\r\n\r\n        /*var geom = new THREE.SphereGeometry(10, 8, 8);\r\n        var material8 = new THREE.MeshBasicMaterial({ color: 0x00FF00 });\r\n        var sphereMesh = new THREE.Mesh(geom, material8);\r\n        //var Cam = new THREE.Camera();\r\n        //Cam.position.set(1,1,1);\r\n\r\n        //var sphereMesh = new THREE.(geom, material8);\r\n        sphereMesh.position.set(1, 2, 3);\r\n        //sphereMesh.position.set(1, 2, 3);\r\n        //sphereMesh.matrixWorld.setPosition(new THREE.Vector3(-59, 2, 3));\r\n        //sphereMesh\r\n        //sphereMesh.geometry.attributes.position.set([-59, 2, 3], 1);\r\n\r\n        //sphereMesh.position.set(  1, 2, 3);\r\n        //sphereMesh.\r\n        if (!viewer.overlays.hasScene('custom-scene1')) {\r\n            viewer.overlays.addScene('custom-scene1');\r\n        }\r\n\r\n        viewer.overlays.addMesh(sphereMesh, 'custom-scene1');\r\n        /*sphereMesh.translateX(1);\r\n        sphereMesh.translateY(20);\r\n        sphereMesh.translateZ(3);*/\r\n\r\n        //alert(sphereMesh.geometry.attributes);*/\r\n\r\n    }\r\n\r\n    const handleScriptLoad = async () => {\r\n        viewerLibraryLoaded = true;\r\n\r\n        //viewerStyleLoaded && loadViewer(modelURL)\r\n        //urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLmhxbTRIV0ZmUm82VGtzand2MjZQSlE_dmVyc2lvbj0x';\r\n        cargado1=true;\r\n        if (cargado1 && cargado2){\r\n            //urn = 'dXJuOmFkc2sud2lwcHJvZDpmcy5maWxlOnZmLlk1YXg4MUthUWZ1OUppZlU1b0M0M0E/dmVyc2lvbj0x';\r\n            await launchViewer(modelURL);\r\n        }\r\n\r\n        setTimeout(() => {\r\n\r\n            /*if (viewer) {\r\n                viewer.refresh(true);\r\n                viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n                viewer.loadExtension('MenuContextual');\r\n                viewer.refresh();\r\n                //launchViewer(urn);\r\n            }\r\n            //viewer.loadExtension('MenuContextual');\r\n\r\n            //alert('se carga');\r\n            //launchViewer(urn);*/\r\n\r\n        }, 4000);\r\n        setTimeout(() => {\r\n            //viewer.loadExtension('MenuContextual');\r\n            //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n            //viewer.refresh();\r\n        }, 8000);\r\n\r\n        //loadViewer(modelURL);\r\n    }\r\n\r\n    function carga2() {\r\n\r\n        //var urn = getParameterByName('urn');\r\n        \r\n        //alert('esta es la funcion');\r\n        //seleccionados='c884ae1b-61e7-4f9d-0001-719e20b22d0b-006f9464';\r\n        //var cadena = '5c069bcb-62a6-44a8-a199-48eb6d184f17-000546cc';\r\n        //var cadena = '5c069bcb-62a6-44a8-a199-48eb6d184f17-000546cc';\r\n        if (viewerM)\r\n            highlightRevit(seleccionados);\r\n\r\n\r\n\r\n        var geom = new THREE.SphereGeometry(1, 8, 8);\r\n        var material = new THREE.MeshBasicMaterial({ color: 0xff0000 });\r\n        var sphereMesh = new THREE.Mesh(geom, material);\r\n        //var scene = new THREE.scene(geom, material);\r\n        //var sphereMesh = new THREE.(geom, material);\r\n        var scene = new THREE.Scene();\r\n        //viewer.impl.scene.add(scene);\r\n        if (!viewerM.overlays.hasScene(scene)) {\r\n            viewerM.overlays.addScene(scene);\r\n            //viewer.impl.scene.add('custom-scene');\r\n        }\r\n\r\n        /*if (!viewer.overlays.hasScene('custom-scene')) {\r\n            viewer.overlays.addScene('custom-scene');\r\n            //viewer.impl.scene.add('custom-scene');\r\n        }*/\r\n        //alert('hola');\r\n        //viewer.impl.scene.add(sphereMesh);\r\n        \r\n        scene.background = new THREE.Color(0x2a3b4c);\r\n        alert('carga2');\r\n        viewerM.overlays.addMesh( sphereMesh, scene);\r\n        sphereMesh.position.set(1, 2, 3);\r\n        viewerM.refresh();\r\n        //alert('mostrado');\r\n        //handleScriptLoad2();\r\n        ///onModelLoaded(viewer);\r\n        //var geom1 = new THREE.BoxGeometry( 0.2, 0.2, 0.2 );\r\n\r\n\r\n    }\r\n\r\n\r\n    function highlightRevit(idsRevit) {\r\n        // Every Forge Viewer model has an ‘ExternalId Mapping’\r\n        // this mapping is an object that has as keys the\r\n        viewerM.model.getExternalIdMapping((mapping) => {\r\n            configureElementByUniqueIdAndMapping(idsRevit, mapping);\r\n        });\r\n    }\r\n    function configureElementByUniqueIdAndMapping(idsRevit, mapping) {\r\n        var elementsDbId = [];\r\n        var idsRevitArray = idsRevit.split(',');\r\n        for (var uniqueId in idsRevitArray) {\r\n            const elementDbId = mapping[idsRevitArray[uniqueId]];\r\n            if (elementDbId) {\r\n                elementsDbId.push(elementDbId);\r\n            }\r\n        }\r\n        viewerM.isolate(elementsDbId);\r\n        viewerM.fitToView(elementsDbId);\r\n    }\r\n\r\n\r\n\r\n    // @urn the model to show\r\n    // @viewablesId which viewables to show, applies to BIM 360 Plans folder\r\n    function launchViewer(urn, viewableId = '') {\r\n        //alert(viewerLibraryLoaded1);\r\n\r\n        console.log('RENDERIZANDO EL VIEWER  ***********************');\r\n        var options = {\r\n            env: 'AutodeskProduction',\r\n            getAccessToken: getForgeToken,\r\n            api: 'derivativeV2' + (atob(urn.replace('_', '/')).indexOf('emea') > -1 ? '_EU' : '') // handle BIM 360 US and EU regions\r\n        };\r\n        //alert('se cargo'+'urn= '+urn+' acces token=');\r\n        //if (!Autodesk) return;\r\n            Autodesk.Viewing.Initializer(options, () => {\r\n            const config = {\r\n                extensions: ['Autodesk.VisualClusters', 'Autodesk.DocumentBrowser', 'Autodesk.BIM360.Minimap', 'Autodesk.ViewCubeUi', 'Autodesk.AEC.Minimap3DExtension', 'Autodesk.AEC.Minimap3DExtension', 'Autodesk.DataVisualization']\r\n            };\r\n\r\n            viewerM = new Autodesk.Viewing.GuiViewer3D(document.getElementById('forgeViewerM'), config);\r\n            //viewer = new Autodesk.Viewing.GuiViewer3D(container.current, config);\r\n            viewerM.start();\r\n            var documentId = 'urn:' + urn;\r\n            Autodesk.Viewing.Document.load(documentId, onDocumentLoadSuccess, onDocumentLoadFailure);\r\n\r\n            //const Cronos = new Autodesk.DataVisualization.UI.ChronosTimeSlider('');\r\n\r\n            if (!viewerM) return;\r\n            if (!viewerM.autocam) return;\r\n            // smooth navigation...\r\n            viewerM.autocam.shotParams.destinationPercent = 3;\r\n            viewerM.autocam.shotParams.duration = 3;\r\n\r\n\r\n\r\n            viewerM.setTheme('light-theme');\r\n        });\r\n\r\n\r\n\r\n\r\n        function onDocumentLoadSuccess(doc) {\r\n            // if a viewableId was specified, load that view, otherwise the default view\r\n\r\n            //var items = doc.getRoot().find({ role: '3d', type: 'geometry' });\r\n            //var items = doc.getSubItemsWithProperties(doc.getRoot(),{ role: '3d', type: 'geometry' },false);\r\n\r\n            /*var Items = Autodesk.Viewing.Document.getSubItemsWithProperties(doc.getRoot(), {\r\n                'type' : 'geometry',\r\n                'role' : '2d'\r\n            }, false);*/\r\n\r\n\r\n            /*var viewables1 = doc.getRoot().search({'type':'geometry'});\r\n            viewer.loadDocumentNode(doc, viewables1[6]);*/\r\n\r\n\r\n\r\n            var viewables = (viewableId ? doc.getRoot().findByGuid(viewableId) : doc.getRoot().getDefaultGeometry());\r\n            /*var items = doc.getRoot().find({ role: '3d', type: 'geometry' });\r\n            console.log('estas son las vistas',items);*/\r\n\r\n\r\n\r\n\r\n            viewerM.loadDocumentNode(doc, viewables).then(i => {\r\n                // any additional action here?\r\n                //viewer.loadExtension(\"NestedViewerExtension\", { filter: [\"2d\", \"3d\"], crossSelection: true });\r\n                /*viewerM.loadExtension(\"Autodesk.BIM360.Minimap\");\r\n                viewerM.loadExtension(\"Autodesk.AEC.Minimap3DExtension\");\r\n                viewerM.loadExtension(\"Autodesk.AEC.LevelsExtension\");*/\r\n                //alert(\"cargando extension \"+viewer.isExtensionLoaded(\"NestedViewerExtension\"));\r\n            });\r\n\r\n            //viewerM.addEventListener(Autodesk.Viewing.SELECTION_CHANGED_EVENT, onSelectionBinded);\r\n            ///viewerM.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, PonerProps);\r\n\r\n\r\n            //viewer.addEventListener(Autodesk.Viewing.GEOMETRY_LOADED_EVENT, PonerProps);\r\n\r\n\r\n\r\n            onModelLoaded1(viewerM);\r\n\r\n            //init22();\r\n\r\n\r\n        }\r\n\r\n\r\n        function verseleccionado() {\r\n            let viewerImpl = viewerM.impl;\r\n\r\n            /*this.activate = (name) => {\r\n                this.active = true;\r\n            };\r\n    \r\n            this.deactivate = (name) => {\r\n                this.clearMarkedObject(this.markedFragments);\r\n                this.active = false;\r\n            };*/\r\n\r\n            //this.handleSingleClick = (event, button) => {\r\n            //if (button === 0) {\r\n            //const res = [];\r\n            //const vpVec = viewerImpl.clientToViewport(event.canvasX, event.canvasY);\r\n            /* const dbId = viewerImpl\r\n                 .renderer()\r\n                 .idAtPixel(vpVec.x, vpVec.y, res, [viewerImpl.renderer().getOverlayIdTarget()]);\r\n \r\n             if (true) {\r\n                 let test = viewerImpl.hitTestViewport(vpVec, false);\r\n                 console.log(test);\r\n             }*/\r\n\r\n            // \"dbId == -1\" when nothing is clicked.\r\n\r\n            // }\r\n\r\n\r\n\r\n        }\r\n\r\n\r\n        function onSelectionBinded(event) {\r\n            //alert('hola');\r\n            var currSelection = viewerM.getSelection();\r\n            var domElem = document.getElementById('MySelectionValue');\r\n            //let vector = new THREE.Vector3();\r\n            //event.object.getWorldPosition(vector);\r\n            //console.log(vector);\r\n            //domElem.innerText = currSelection.length /*+ \" \" + vector.x + \",\" + vector.y + \",\" + vector.z*/;\r\n            //console.log('Este es el evento de cambiar ', event);\r\n            //verseleccionado();\r\n            //alert(event.clientX);\r\n\r\n            /*var uniqueIds = [];\r\n            var DBids = viewer.getSelection();\r\n            var n = 0;\r\n            for (var uniqueId of DBids) {\r\n                var objSelected = viewer.getSelection()[n];\r\n                n = n + 1;\r\n                console.log('Este es el objeto seleccionado',objSelected);\r\n            }*/\r\n\r\n            //console.log('Estas son las props');\r\n            var uniqueIds = [];\r\n            var DBids = viewerM.getSelection();\r\n            var n = 0;\r\n            for (var uniqueId of DBids) {\r\n                var objSelected = viewerM.getSelection()[n];\r\n                n = n + 1;\r\n                viewerM.getProperties(objSelected, (props) => {\r\n                    uniqueIds.push(props.externalId);\r\n                    if (n == DBids.length) {\r\n                        //callbackObj.showMessage(uniqueIds);\r\n                        //callbackObj.returnex(uniqueIds);\r\n                        //alert(uniqueIds);\r\n                        console.log(props);\r\n                        //9c9538fd-af40-4b3d-bd89-f8e4acac1fd8-000525ae\r\n                    }\r\n                })\r\n            }\r\n\r\n            let viewerImpl = viewerM.impl;\r\n\r\n            /*this.activate = (name) => {\r\n                this.active = true;\r\n            };\r\n    \r\n            this.deactivate = (name) => {\r\n                this.clearMarkedObject(this.markedFragments);\r\n                this.active = false;\r\n            };*/\r\n\r\n            //this.handleSingleClick = (event, button) => {\r\n            //if (button === 0) {\r\n            //const res = [];\r\n            //const vpVec = viewerImpl.clientToViewport(event.canvasX, event.canvasY);\r\n            /* const dbId = viewerImpl\r\n                 .renderer()\r\n                 .idAtPixel(vpVec.x, vpVec.y, res, [viewerImpl.renderer().getOverlayIdTarget()]);\r\n \r\n             if (true) {\r\n                 let test = viewerImpl.hitTestViewport(vpVec, false);\r\n                 console.log(test);\r\n             }*/\r\n\r\n            // \"dbId == -1\" when nothing is clicked.\r\n\r\n            // }\r\n\r\n\r\n\r\n        }\r\n\r\n        function PonerProps(event) {\r\n\r\n\r\n            $('#LateralToolbar.ControlGroup').css({\r\n                'background-color': '#fff',\r\n                'border-radius': '10px'\r\n            });\r\n\r\n            $('#guiviewer3d-toolbar').css({\r\n                'background-color': 'rgba(255,255,255,0.10)',\r\n                'border-radius': '5px'\r\n            });\r\n            $('#settingsTools').css({\r\n                'background-color': 'rgba(255,255,255,0.15)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.80)'\r\n            });\r\n            $('#modelTools').css({\r\n                'background-color': 'rgba(255,255,255,0.15)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.80)'\r\n            });\r\n            $('#navTools').css({\r\n                'background-color': 'rgba(255,255,255,0.15)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.80)'\r\n            });\r\n\r\n            $('#toolbar-documentModels').css({\r\n                'background-color': 'rgba(1,1,1,0.55)',\r\n                'border-radius': '15px',\r\n                'color': 'rgba(1,1,1,0.90)'\r\n            });\r\n\r\n            //console.log('Este es el evento', event);\r\n            onModelLoaded1(viewerM);\r\n  \r\n\r\n        }\r\n\r\n\r\n        function onDocumentLoadFailure(viewerErrorCode) {\r\n            console.error('onDocumentLoadFailure() - errorCode:' + viewerErrorCode);\r\n        }\r\n\r\n\r\n\r\n\r\n        function addIds(DBids, uniqueIds, callback) {\r\n            var n = 0;\r\n            for (var uniqueId of DBids) {\r\n                var objSelected = viewerM.getSelection()[uniqueId];\r\n                this.viewerM.getProperties(objSelected, (props) => {\r\n                    uniqueIds.push(props.externalId);\r\n                    n = n++;\r\n                    if (n == DBids.length) {\r\n                        callback(null, uniqueIds)\r\n                    }\r\n                });\r\n\r\n            }\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n        const SensorStyleDefinitions = {\r\n            co2: {\r\n                url: `uno.svg`,\r\n                color: 0xffffff,\r\n            },\r\n            temperature: {\r\n                url: `uno.svg`,\r\n                color: 0xffffff,\r\n            },\r\n            default: {\r\n                url: `uno.svg`,\r\n                color: 0xffffff,\r\n            },\r\n        };\r\n\r\n        /**\r\n         * Handles `Autodesk.Viewing.GEOMETRY_LOADED_EVENT` event that is sent when a model has been completely loaded in the viewer.\r\n         *\r\n         * @param {Autodesk.Viewing.GuiViewer3D} viewer The viewer in which the model is loaded.\r\n         */\r\n        async function onModelLoaded1(viewerM) {\r\n            const dataVizExt = viewerM.getExtension(\"Autodesk.DataVisualization\");\r\n            const DATAVIZEXTN = Autodesk.DataVisualization?.Core;\r\n            if (!DATAVIZEXTN) { return; }\r\n            var styleMap = {};\r\n\r\n            // Create model-to-style map from style definitions.\r\n            Object.entries(SensorStyleDefinitions).forEach(([type, styleDef]) => {\r\n\r\n                styleMap[type] = new DATAVIZEXTN.ViewableStyle(\r\n                    DATAVIZEXTN?.ViewableType.SPRITE,\r\n                    new THREE.Color(styleDef.color),\r\n                    styleDef.url\r\n                );\r\n\r\n\r\n\r\n            });\r\n\r\n\r\n            const div = document.createElement(\"div\");  // <div></div>\r\n            const app = document.getElementById('root'); // <div id=\"app\">App</div>\r\n            const div1 = document.createElement(\"div1\");  // <div></div>\r\n            const div2 = document.createElement('div2'); // <div id=\"app\">App</div>\r\n            const div3 = document.createElement(\"div3\");  // <div></div>\r\n            const div4 = document.createElement('div4'); // <div id=\"app\">App</div>\r\n\r\n\r\n            const viewableData = new DATAVIZEXTN.ViewableData();\r\n\r\n            /*await viewableData.finish();\r\n            dataVizExt.addViewables(viewableData);\r\n            dataVizExt.removeAllViewables();*/\r\n\r\n\r\n            viewableData.spriteSize = 20;\r\n            let startId = 1;\r\n\r\n            devices.forEach((device) => {\r\n                let style = styleMap[device.type] || styleMap[\"default\"];\r\n                const viewable = new DATAVIZEXTN.SpriteViewable(new THREE.Vector3(device.position.x, device.position.y, device.position.z), style, startId);\r\n                viewableData.addViewable(viewable);\r\n                startId++;\r\n            });\r\n            await viewableData.finish();\r\n            if (!dataVizExt) return;\r\n            dataVizExt.addViewables(viewableData);\r\n\r\n            /**\r\n             * Called when a user clicks on a Sprite Viewable\r\n             * @param {Event} event \r\n             */\r\n            function onItemClick(event) {\r\n                //alert('click');\r\n                //alert(devices[event.dbId - 1].position.x);\r\n                //alert(event.dbId);\r\n            }\r\n\r\n            /**\r\n             *  Called when a user hovers over a Sprite Viewable \r\n             * @param {Event} event \r\n             */\r\n\r\n            function onItemHovering(event) {\r\n\r\n\r\n                //console.log(\"Show tooltip here\", event);\r\n                //console.log(\"Show tooltip here\", event.originalEvent);\r\n                //alert(event.point);\r\n                //alert(viewer.model.getUpVector());\r\n\r\n\r\n                // const currAppState = appStateRef.current;\r\n\r\n                div.style.display = 'none';\r\n                \r\n\r\n                posX = event.originalEvent.normalizedX;\r\n                posY = event.originalEvent.normalizedY;\r\n                //posZ=event.point.z;\r\n\r\n\r\n\r\n                if (event.dbId) {\r\n                    //alert(event.dbId);\r\n                    //console.log(devices[event.dbId].position.x);\r\n                    //alert(devices[event.dbId-1].position.x);\r\n                    //alert(event.originalEvent.clientX);\r\n\r\n\r\n                    //const div = document.createElement(\"div\");\r\n                    //div.textContent = \"Esto es un div insertado con JS.\";\r\n                    var tempX = event.originalEvent.clientX + document.body.scrollLeft;\r\n                    var tempY = event.originalEvent.clientY + document.body.scrollTop;\r\n                    /*const app = document.createElement(\"div\"); // <div></div>\r\n                    app.id = \"app\"; // <div id=\"app\"></div>\r\n                    app.appendChild(div);*/\r\n\r\n                    \r\n                    //var ClientRect = div.getBoundingClientRect();\r\n                    /*var ClientRect = elemento.getBoundingClientRect();\r\n\t                return { //objeto\r\n\t                x: Math.round(evt.clientX - ClientRect.left),\r\n\t                y: Math.round(evt.clientY - ClientRect.top)\r\n                        }*/\r\n                    div.appendChild(div1);\r\n                    \r\n                    \r\n    \r\n                    div1.textContent = 'Ejemplo '+event.dbId ;  \r\n                    div1.style.textAlign = 'center';  \r\n                    //div.textContent = \"Ejemplo \"+ event.dbId;                // <div>Ejemplo</div>\r\n                    div2.innerHTML = 'Otro dato';  \r\n                    div1.classList.add('card');\r\n                    //div1.classList.add('card-header');\r\n                    \r\n                    div2.classList.add('card-title');\r\n                    //div3.classList.add('card-header');\r\n\r\n\r\n                    div1.style.fontSize = '0.8rem';\r\n                    //div1.style.border = '1px 1px 1px 2px rgba(255,255,255,0.95)';\r\n                    \r\n                    div1.style.backgroundColor = 'rgba(1,1,1,0.85)';\r\n                    div1.style.width = '100%';\r\n                    \r\n                    div.appendChild(div2);\r\n                    div2.style.fontSize = '0.7rem';\r\n\r\n                    div.style.backgroundColor = 'rgba(1,1,1,0.65)';\r\n                    //div.style.alignContent = 'center';\r\n                    div.style.borderRadius = '10px';\r\n                    div.style.position = 'absolute';\r\n                    div.style.zIndex = '999';\r\n                    div.style.fontSize = '0.7rem';\r\n                    div.style.width = '150px';\r\n                    div.style.height = '110px';\r\n                    \r\n                    \r\n                    //div.style.top = event.originalEvent.pageY;\r\n                    //div.style.left = event.originalEvent.pageX;\r\n                    //div.style.top = event.originalEvent.pageY+'px';\r\n                    div.style.top = (event.originalEvent.pageY-120)+'px';\r\n                    div.style.left = (event.originalEvent.pageX-65)+'px';\r\n                    //div.style.left = posX+'px';\r\n                    div.style.display = 'block';\r\n                    //div.style.visibility = 'block';\r\n                    app.insertAdjacentElement(\"beforebegin\", div);\r\n                    \r\n\r\n                }\r\n\r\n                //alert('show');\r\n            }\r\n\r\n            const DataVizCore = Autodesk.DataVisualization.Core;\r\n            viewerM.addEventListener(DataVizCore.MOUSE_CLICK, onItemClick);\r\n            //viewer.addEventListener(DataVizCore.MOUSE_HOVERING, onItemHovering);\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        function seleccionar_btn(){\r\n            //btn.addClass();\r\n            alert('hola');\r\n\r\n        }\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n    const loadViewer = (svfUrl: string) => {\r\n\r\n      \r\n        launchViewer(modelURL);\r\n        //launchViewer(modelURL);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    const cargar = async () => {\r\n            if (viewerM){\r\n                //viewer.uninitialize();\r\n                viewerM.finish();\r\n            }\r\n     \r\n            launchViewer(proyects.Urn);\r\n            //alert(urn);\r\n\r\n    }\r\n\r\n\tuseEffect(() => {\r\n\t\t//console.log('datos de subProyectos actualizados')\r\n\t\t//if (proyects.treeSubControl==undefined) return;\r\n\t\t//console.log(proyects.treeSubControl)\r\n        if (proyects.Urn){\r\n\r\n            setModelURL(proyects.Urn);\r\n            //alert(modelURL);\r\n            //alert(proyects.Urn);\r\n            cargar();\r\n    \r\n        }\r\n  \r\n\t}, [proyects.Urn])\r\n\r\n\r\n\r\n\r\n\r\n    async function postData(url = '', data = {}) {\r\n        // Opciones por defecto estan marcadas con un *\r\n        const response = await fetch(url, {\r\n            method: 'POST', // *GET, POST, PUT, DELETE, etc.\r\n            //mode: 'cors', // no-cors, *cors, same-origin\r\n            //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n            headers: {\r\n                'Content-Type': 'application/x-www-form-urlencoded'\r\n                //'Content-Type': 'application/json'\r\n                // 'Content-Type': 'application/x-www-form-urlencoded',\r\n            },\r\n            body: queryString.stringify(data)\r\n            //redirect: 'follow', // manual, *follow, error\r\n            //referrerPolicy: 'no-referrer', // no-referrer, *no-referrer-when-downgrade, origin, origin-when-cross-origin, same-origin, strict-origin, strict-origin-when-cross-origin, unsafe-url\r\n            //body: JSON.stringify(data) // body data type must match \"Content-Type\" header\r\n        });\r\n        return response.json(); // parses JSON response into native JavaScript objects\r\n    }\r\n\r\n\r\n    /*const fetchConToken11 = () => {\r\n        postData('https://developer.api.autodesk.com/authentication/v1/authenticate', {\r\n            'client_id': 'Lrn6oqLnwpCBd8GS0LuimGx5SHONYw4b',\r\n            'client_secret': 'JLA2LfrdwUg4hMkz',\r\n            'grant_type': 'client_credentials',\r\n            'scope': 'data:read data:write data:create data:search bucket:create bucket:read bucket:update bucket:delete'\r\n        })\r\n            .then(data => {\r\n                console.log(data); // JSON data parsed by `data.json()` call\r\n\r\n            });\r\n    }*/\r\n\r\n\r\n    function getForgeToken(callback) {\r\n        postData('https://developer.api.autodesk.com/authentication/v1/authenticate', {\r\n            'client_id': 'Lrn6oqLnwpCBd8GS0LuimGx5SHONYw4b',\r\n            'client_secret': 'JLA2LfrdwUg4hMkz',\r\n            'grant_type': 'client_credentials',\r\n            'scope': 'data:read data:write data:create data:search bucket:create bucket:read bucket:update bucket:delete'\r\n        })\r\n            .then(data => {\r\n                console.log(data); // JSON data parsed by `data.json()` call\r\n                callback(data.access_token, data.expires_in);\r\n            });\r\n    }\r\n\r\n\r\n\r\n    \r\n    const loadStyleSheet = (href: string) => {\r\n        const styles = document.createElement('link');\r\n        styles.rel = 'stylesheet';\r\n        styles.type = 'text/css';\r\n        styles.href = href;\r\n        styles.onload = handleStyleLoad;\r\n        document.getElementsByTagName('head')[0].appendChild(styles);\r\n    }\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        async function loadServiceWorker() {\r\n            //await new Promise(r=>{serviceWorker.register({onSuccess:()=>r()})});\r\n            setLoadViewerLibrary(true);\r\n            //setLoadViewerLibrary1(true);\r\n            //await loadStyleSheet(viewerStylesheetURL1);\r\n            await loadStyleSheet(viewerStylesheetURL);\r\n\r\n            //alert('init');\r\n        }\r\n        loadServiceWorker();\r\n\r\n        /*return ()=> {\r\n           if (window.NOP_VIEWER) window.NOP_VIEWER.finish() //terminate Viewer when unmounting\r\n        }*/\r\n    },[]);\r\n\r\n\r\n\r\n    \r\n\r\n\r\n\r\n    const laneId = 'demo-lane'\r\n    const lanes = [\r\n        {\r\n            laneId,\r\n            label: 'Plazo del Proyecto',\r\n        },\r\n    ]\r\n    var now = new Date();\r\n    const events = [\r\n        {\r\n            eventId: 'event-1',\r\n            laneId: laneId,\r\n            startTimeMillis: 1399845600000,\r\n            //endTimeMillis: 1530698899000,\r\n            endTimeMillis: now.getTime()\r\n        },\r\n        {\r\n            eventId: 'event-2',\r\n            laneId,\r\n            startTimeMillis: 1167606000000,\r\n            endTimeMillis: 1230698892000,\r\n        },\r\n    ]\r\n    const dateFormat = (ms: number) => new Date(ms).toLocaleString();\r\n\r\n    var tamano = $('#FrmPrin').width();\r\n\r\n    const [fecha, setfecha] = useState(new Date(now.getTime()).toLocaleString());\r\n    const [fechasel, setfechasel] = useState(new Date(now.getTime()).toLocaleString());\r\n\r\n\r\n    const evento = (evento) => {\r\n\r\n        //alert(fecha);\r\n        //console.log(\"evento click de la fecha \", evento);\r\n        setfecha(fechasel);\r\n\r\n    }\r\n    //const a = TimelineTheme;\r\n\r\n    const oncursor = (millisAtCursor, startMillis, endMillis) => {\r\n\r\n        //alert(new Date(millisAtCursor).toLocaleString());\r\n        setfechasel(new Date(millisAtCursor).toLocaleString());\r\n        //setfecha(new Date(now.getTime()).toLocaleString());\r\n        //fecha=\r\n    }\r\n\r\n\r\n\r\n    \r\n    \r\n\r\n    return (\r\n        <>\r\n            <div className=\"card\" id=\"forgeViewerM\" style={{ height: \"100%\", width: '100%',             \r\n             /*background: 'linear-gradient(to bottom, rgba(242,246,248,1) 0%,rgba(216,225,231,1) 55%,rgba(181,198,208,1) 82%,rgba(224,239,249,1) 100%)',\r\n             filter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#f2f6f8\", endColorstr=\"#e0eff9\",GradientType=0 )',             */\r\n             background:'white'\r\n            }}\r\n             ></div>\r\n            {/* <div style={{ fontSize:'0.7rem', top:'10px', position:'absolute', zIndex:1 }}>Items seleccionados: <span id=\"MySelectionValue\">0</span></div> */}\r\n\r\n \r\n            {/* </div> */}\r\n\r\n            {/* {loadViewerLibrary1 ? <Script url={viewerLibaryURL1} onLoad={handleScriptLoad1}></Script> : null} */}\r\n            {loadViewerLibrary ? <Script url={viewerLibaryURL} onLoad={handleScriptLoad}></Script> : null}\r\n\r\n            {/* {<Script url={viewerLibaryURL} onLoad={handleScriptLoad}></Script>} \r\n            {<Script url={viewerLibaryURL1} onLoad={handleScriptLoad1}></Script>} */}\r\n            {/* </div> */}\r\n        </>\r\n\r\n    )\r\n}\r\n\r\n\r\n\r\n","import React, { useEffect, useState } from 'react'\nimport { Card, Form, Row, Col } from 'react-bootstrap'\nimport { useSelector } from 'react-redux';\nimport BuscaCliente from '../components/BuscaCliente';\nimport BuscaUbicacion from '../components/BuscaUbicacion';\nimport Button1 from 'devextreme-react/button';\n\nimport Swal from 'sweetalert2'\nimport BuscaModelo from '../components/BuscaModelo';\nimport { ViewerScM } from './ViewerScM';\n//import { ViewScreen1 } from './ViewScreen1'\n\nconst VisorModelos = () => {\n\n    /*const [ItemSub, setItemSub] = useState({\n\n\n    });*/\n\n    const [show, setShow] = useState(false);\n    const [showUb, setShowUb] = useState(false);\n    const [showMdl, setShowMdl] = useState(false);\n\n    const [historicoSel, setHistoricoSel] = useState(\"\");\n    const [historicos, setHistoricos] = useState([]);\n\n\n\n    //let history = useHistory();\n    //const classes = useStyles();\n   // const dispatch = useDispatch();\n    // const [loading, setLoading] = useState(true);\n\n    /*const [ allLevels, setAllLevels ] = useState(null)\n    const [ itemSelected, setItemSelected ] = useState('')\n    const [ lastLevel, setLastLevel ] = useState(0);\n\n    const [ allLevels1, setAllLevels1 ] = useState(null)\n    const [ itemSelected1, setItemSelected1 ] = useState('')\n    const [ lastLevel1, setLastLevel1 ] = useState(0);*/\n\n\n    //const [loading, setLoading] = useState(true);\n\n    //const auth = useSelector((state) => state.auth);\n    const proyects = useSelector((state) => state.proyects);\n    //alert(' inicializando treeeee' );\n\n    const [selecOP, setselecOP] = useState(1);\n\n    //const subproyects = useSelector((state) => state.subproyects);\n\n\n    const showFn = () => {\n        setShow(true)\n    }\n\n/*    const drawerItems = () => {\n        //console.log('datos de subProyectos actualizados')\n        //console.log(allLevels1[0])\n       return (\n            proyects.treeSubControl ?\n                proyects.treeSubControl.map(filter => {\n                    return (<tr key={filter.CodSubpresupuesto}>\n                        <td>{filter.CodSubpresupuesto}</td>\n                        <td>{filter.CodAlterno}</td>\n                        <td>{filter.Descripcion}</td>\n                        <td align=\"right\">{formatNumber(filter.Cantidad)}</td>\n                        <td align=\"right\">{formatNumber(filter.CostoOferta1)}</td>\n                        <td align=\"left\">{filter.CodModelo} <div className=\"btn btn-outline-info\" style={{ position:'absolute', right:'20px', color: '#3c8dbc', width: \"20px\", height: '20px' }} onClick={() => { Selecciona(filter) }}><i class=\"far fa-edit\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></div></td>\n                    </tr>\n                    )\n                }) : ''\n        )\n    }*/\n\n\n    function formatNumber(num) {\n        if (!num || num == 'NaN') return '-';\n        if (num == 'Infinity') return '&#x221e;';\n        var num = num.toString().replace(/\\$|\\,/g, '');\n        if (isNaN(num))\n            num = \"0\";\n        var sign = (num == (num = Math.abs(num)));\n        num = Math.floor(num * 100 + 0.50000000001);\n        var cents = num % 100;\n        num = Math.floor(num / 100).toString();\n        if (cents < 10)\n            cents = \"0\" + cents;\n        for (var i = 0; i < Math.floor((num.length - (1 + i)) / 3); i++)\n            num = num.substring(0, num.length - (4 * i + 3)) + '.' + num.substring(num.length - (4 * i + 3));\n        return (((sign) ? '' : '-') + num + ',' + cents);\n    }\n\n/*    function roundN(num, n) {\n        return parseFloat(Math.round(num * Math.pow(10, n)) / Math.pow(10, n)).toFixed(n);\n    }*/\n\n\n    const Selecciona = (dato) => {\n            if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0] && proyects.DatosPresupuesto[0].CodPresupuesto !== \"\") {\n                setShowMdl(true);\n                dato.CodModelo=proyects.AuxModelo;\n            } else {\n                Swal.fire({\n                    title: 'Error!',\n                    text: 'No tiene un Presupuesto seleccionado',\n                    icon: 'error',\n                    confirmButtonText: 'Ok'\n                })\n            }\n    }\n\n    /*const drawerItems1 = () => {\n        //console.log('datos de subProyectos actualizados')\n        //console.log(allLevels1[0])\n        return (\n            proyects.treeSubControl ?\n                proyects.treeSubControl.filter((filtro1) => filtro1.CodSubpresupuesto === proyects.Sub_sel).map(filter => {\n                    return (<tr key={filter.CodSubpresupuesto}>\n                        <td>{filter.CodSubpresupuesto}</td>\n                        <td>{filter.CodAlterno}</td>\n                        <td>{filter.Descripcion}</td>\n                        <td align=\"right\">{formatNumber(filter.Cantidad)}</td>\n                        <td align=\"right\">{formatNumber(filter.CostoOferta1)}</td>\n                        <td align=\"left\">{filter.CodModelo} <div className=\"btn btn-outline-info\" style={{ position:'absolute', right:'20px', color: '#3c8dbc', width: \"20px\", height: '20px' }} onClick={() => { Selecciona(filter) }}><i class=\"far fa-edit\" style={{ position: 'absolute', marginTop: '-5px', marginLeft: '-8px' }}></i></div></td>\n                    </tr>\n                    )\n                }) : ''\n        )\n    }*/\n\n    useEffect(() => {\n        //console.log('datos de subProyectos actualizados')\n        //alert(proyects.seleccionado+\"\");\n        if (proyects.seleccionado === undefined) return;\n        //if (proyects.treePartyControl == undefined) return;\n        setselecOP(proyects.seleccionado)\n        //alert(proyects.seleccionado);\n\n\n        /* if (proyects.seleccionado === 1)\n         {\n             if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0]){\n                 if (proyects.DatosPresupuesto[0].HistoricoPrecios){\n                     let A_historicos=proyects.DatosPresupuesto[0].HistoricoPrecios.split(\"|\");\n                     setHistoricos(A_historicos);\n                     setHistoricoSel(historicos[0]);\n                     alert(historicos[0]);\n                     //proyects.DatosPresupuesto[0].HistoricoPrecios;\n                 }\n                 \n                 \n             }\n             \n \n \n         }*/\n        //if (selecOP === 1) setselecOP(2); else setselecOP(1);\n\n    }, [proyects.seleccionado])\n\n\n\n    useEffect(() => {  \n        //if (proyects.seleccionado === undefined) return;\n          //setselecOP(proyects.seleccionado)\n        //alert(proyects.AuxModelo);\n    }, [proyects.AuxModelo])\n\n\n\n\n    useEffect(() => {\n        setHistoricos([]);\n        setHistoricoSel('');\n        if (proyects.seleccionado === 1) {\n            if (proyects.DatosPresupuesto && proyects.DatosPresupuesto[0]) {\n                if (proyects.DatosPresupuesto[0].HistoricoPrecios) {\n                    let A_historicos = proyects.DatosPresupuesto[0].HistoricoPrecios.split(\"|\");\n                    setHistoricos(A_historicos);\n                    setHistoricoSel(A_historicos[0]);\n                }\n            }\n        }\n    }, [proyects.DatosPresupuesto])\n\n\n    return (\n        <div className=\"animate__animated animate__fadeIn\" style={{ overflow: 'hidden', marginTop: '10px', height: '96%', width: '100%' }}>\n            <BuscaCliente setShow={setShow} show={show} />\n            <BuscaUbicacion setShow={setShowUb} show={showUb} />\n            <BuscaModelo setShow={setShowMdl} show={showMdl} />\n                    <Card className=\"animate__animated animate__fadeInUp\">\n                        <Card.Header className=\"\">Modelos (NUBE BIM360)\n                                    <Form.Control type=\"File\" placeholder=\"Subir Archivo\"  style={{position:'absolute', right:'220px', top:'0px', width:'660px'}}/>\n                                    <Button1 variant=\"outline-info\" style={{position:'absolute', right:'80px', top:'3px'}} onClick={() => {\n                                        \n                                            Swal.fire({\n                                                title: 'Error!',\n                                                text: 'No ha seleccionado archivo',\n                                                icon: 'error',\n                                                confirmButtonText: 'Ok'\n                                            })\n                                        \n                                    }}><i class=\"far fa-save\"></i>   Subir Modelo\n                                    </Button1>                       \n                        </Card.Header>\n                        <Card.Body>\n                            <Form>\n                                <Card style={{ height: '100%', width: '100%' }}>\n                                    {/* <Card.Header style={{ height: '35px' }}>Sub Presupuestos</Card.Header> */}\n                                    <Card.Body >\n                                        <Form.Group as={Row} className=\"mb-1\" controlId=\"formHorizontalPassword\">\n                                            <Col sm={12} style={{ height: window.innerHeight - 150 }}>\n                                                <ViewerScM />\n                                            </Col>\n                                        </Form.Group>\n                                    </Card.Body>\n                                </Card>\n                                <Form.Group as={Row} className=\"mb-3\">\n                                    <Col sm={{ span: 10, offset: 2 }}>\n                                        {/* <Button type=\"submit\">Sign in</Button> */}\n                                    </Col>\n                                </Form.Group>\n                            </Form>\n                        </Card.Body>\n                    </Card>\n        </div>\n    )\n}\n\nexport default VisorModelos\n","// import {useState} from \"react\";\nimport { Col, Nav, Collapse } from \"react-bootstrap\";\nimport { useEffect, useState } from \"react\";\nimport { Resizable } from \"re-resizable\";\nimport \"../styles/project.css\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport $ from 'jquery';\nimport axios from \"axios\";\nimport { selectMODELOS } from \"../actions/proyects.actions\";\nimport TreeMD from \"../components/TreeMd\";\nimport VisorModelos from \"./VisorModelos\";\nimport { RefrescarV } from \"./ViewerScM\";\n\n\nconst Models = ({ match }) => {\n\tconst codProject = match.params.codProject;\n\t// console.log(codProject)\n\tconst auth = useSelector((state) => state.auth);\n\tconst proyects = useSelector((state) => state.proyects);\n\tconst [width, setWidth] = useState(260);\n\tconst [height, setHeight] = useState(window.innerHeight );\n\tconst [levelPC, setLevelPC] = useState(1);\n\tconst [level, setLevel] = useState(2);\n\tconst [open, setOpen] = useState(true);\n\n\tconst [levelPC1, setLevelPC1] = useState(1);\n\tconst [level1, setLevel1] = useState(2);\n\n\tconst dispatch = useDispatch();\n\n\tconst [reducido, setReducido] = useState(false);\n\n\n\tconst [textoB, setTextoB] = useState('');\n\n\t\n\t\n\tuseEffect(() => {\n\t\tconsole.log('se dispara select modelos')\n\t\t//console.log(proyects.DataPc)\n\n\t\tdispatch(selectMODELOS(''));\n\t\t//alert('ejecutó la primera carga');\n\t\t// console.log(result);\n\t\t// }\n\t\t// eslint-disable-next-line\n\t}, [])\n\n\n\tuseEffect(() => {\n\t\t//alert('');\n\t\tsetTimeout(() => {\n\t\t\tRefrescarV();\n\t\t}, 550);\n\t}, [proyects.Avisa,])\n\n\t\n\n\tconst reducir = () => {\n\n\t\t/*setReducido(!reducido);\n\t\tif (reducido) {\n\t\t\t//$('#DetalleItem').height='10px';\n\t\t\t$(\"#DetalleItem\").animate({ height: \"0px\" }, 300);\n\t\t\t//alert('');\n\t\t\t$(\"#forgeViewer\").animate({ height: \"85vh\" }, 300);\n\t\t\t$(\"#IcnBt\").removeClass(\"fas fa-chevron-down\");\n\t\t\t$(\"#IcnBt\").addClass(\"fas fa-chevron-up\");\n\n\t\t\t$(\"#ContC1\").hide();\n\t\t\t$(\"#ContC2\").hide();\n\n\t\t\t$(\"#ContDet\").animate({ height: \"20px\" }, 300);\n\t\t\tsetTimeout(() => {\n\t\t\t\tRefrescarV();\n\t\t\t}, 500);\n\n\t\t} else {\n\t\t\t//$('#DetalleItem').height='200px';\n\t\t\t$(\"#DetalleItem\").animate({ height: \"200px\" }, 300);\n\n\t\t\t$(\"#ContDet\").animate({ height: \"200px\" }, 300);\n\n\t\t\t//$(\"#ContenedorTotal\").animate({height:\"200px\"},300);\n\t\t\t$(\"#forgeViewer\").animate({ height: \"70vh\" }, 300);\n\t\t\t$(\"#IcnBt\").removeClass(\"fas fa-chevron-up\");\n\t\t\t$(\"#IcnBt\").addClass(\"fas fa-chevron-down\");\n\n\t\t\t$(\"#ContC1\").show();\n\t\t\t$(\"#ContC2\").show();\n\t\t\tsetTimeout(() => {\n\t\t\t\tRefrescarV();\n\t\t\t}, 500);\n\n\t\t}*/\n\n\n\n\n\t}\n\n\n\tconst buscarPres = (e)=>{\n\n\t\tsetTextoB( (state)=>{\n\t\t\treturn (e.target.value)\n\t\t});\n\t\t//console.log(e.target.value);\n\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<div id=\"ContenedorTotal\" className=\"d-flex flex-wrap justify-content-between overflow-hidden h-100 animate__animated animate__fadeIn\" style={{ /*height: '100%'*/ }}>\n\n\t\t\t\t<Resizable\n\t\t\t\t\tclassName=\"tree-fixed p-0 d-flex justify-content-between\"\n\t\t\t\t\tenable={{ top:false, right:true, bottom:false, left:false, topRight:false, bottomRight:false, bottomLeft:false, topLeft:false }}\n\t\t\t\t\tsize={{ width: width, height: height }}\n\t\t\t\t\tstyle={{ background:'#f5f6f8'}}\n\t\t\t\t\t//maxHeight=\"60vh\"\n\t\t\t\t\tmaxWidth={open ? 600 : 0}\n\t\t\t\t\t//minHeight=\"67.5vh\"\n\n\t\t\t\t\tminWidth=\"20px\"\n\t\t\t\t\tonResizeStop={(e, direction, ref, d) => {\n\t\t\t\t\t\tsetWidth(width + d.width);\n\t\t\t\t\t\tsetHeight(height + d.height);\n\t\t\t\t\t\t//alert('');\n\t\t\t\t\t\t//$(\"#forgeViewer\").animate({ height: height + d.height }, 100);\n\n\t\t\t\t\t\t//$(\"#DetalleItem\").animate({ height: window.innerHeight - (height + d.height) - 130 }, 100);\n\n\t\t\t\t\t\t//alert('');\n\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tRefrescarV();\n\t\t\t\t\t\t}, 50);\n\t\t\t\t\t}}\n\t\t\t\t//onResize={()=>{alert('hola')}}\n\t\t\t\t//onResizeStop={()=>{}}\n\n\t\t\t\t>\n\n\n\n\n\t\t\t\t\t<Collapse in={open}>\n\n\n\t\t\t\t\t\t<div className=\"p-0 h-100 w-100\" style={{ overflow: 'scroll',\n\t\t\t\t\t\t\t background:'#f5f6f8'\n\t\t\t\t\t\t}}>\n\n\n\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t{/* <!-- SidebarSearch Form --> */}\n\t\t\t\t\t\t\t<div className=\"form mt-3\">\n\t\t\t\t\t\t\t\t<div className=\"input-group\" data-widget=\"\">\n\t\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\t\tclassName=\"form-control form-control\"\n\t\t\t\t\t\t\t\t\t\ttype=\"search\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Search\"\n\t\t\t\t\t\t\t\t\t\taria-label=\"Search\"\n\t\t\t\t\t\t\t\t\t\tvalue={textoB}\n\t\t\t\t\t\t\t\t\t\tonChange={buscarPres}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<div className=\"input-group-append\">\n\t\t\t\t\t\t\t\t\t\t<button className=\"btn btn-sidebar\">\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"fas fa-search fa-fw\"></i>\n\t\t\t\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t{levelPC1 === 1 ? (\n\t\t\t\t\t\t\t\t<TreeMD\n\t\t\t\t\t\t\t\t\tAccion=\"Generales\"\n\t\t\t\t\t\t\t\t\tfiltrado={textoB}\n\t\t\t\t\t\t\t\t\tlevelStart={1}\n\t\t\t\t\t\t\t\t\tidProject=\"\"\n\t\t\t\t\t\t\t\t\tmarginTop=\"60\"\n\t\t\t\t\t\t\t\t\tmarginLeft='0'\n\t\t\t\t\t\t\t\t/>\n\n\n\n\t\t\t\t\t\t\t) : ( ''\n\t\t\t\t\t\t\t)}\n\n\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</Collapse>\n\t\t\t\t\t<div\n\t\t\t\t\t\t\n\t\t\t\t\t\tclassName=\"bara-cerrar d-flex align-items-center barras\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: '16px',\n\t\t\t\t\t\t\theight: \"100%\",\n\t\t\t\t\t\t\tbackground: '#f5f6f8',\n\t\t\t\t\t\t\tmarginLeft: 5,\n\t\t\t\t\t\t\tborderStyle: 'none solid none none',\n\t\t\t\t\t\t\tborderColor:'#c6c7d0',\n\t\t\t\t\t\t\tborderWidth:'0.5px',\n\t\t\t\t\t\t\tzIndex:'1',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width:'30px', \n\t\t\t\t\t\t\t/*background: 'rgb(184,225,252)',\n\t\t\t\t\t\t\tbackground: '-moz-linear-gradient(top, rgba(184,225,252,1) 0%, rgba(169,210,243,1) 10%, rgba(144,186,228,1) 25%, rgba(144,188,234,1) 37%, rgba(144,191,240,1) 50%, rgba(107,168,229,1) 51%, rgba(162,218,245,1) 83%, rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\tbackground: '-webkit-linear-gradient(top, rgba(184,225,252,1) 0%,rgba(169,210,243,1) 10%,rgba(144,186,228,1) 25%,rgba(144,188,234,1) 37%,rgba(144,191,240,1) 50%,rgba(107,168,229,1) 51%,rgba(162,218,245,1) 83%,rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\tbackground: 'linear-gradient(to bottom, rgba(184,225,252,1) 0%,rgba(169,210,243,1) 10%,rgba(144,186,228,1) 25%,rgba(144,188,234,1) 37%,rgba(144,191,240,1) 50%,rgba(107,168,229,1) 51%,rgba(162,218,245,1) 83%,rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\tfilter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#b8e1fc\", endColorstr=\"#bdf3fd\",GradientType=0',*/\n\t\t\t\t\t\t\tbackground:'white',\n\t\t\t\t\t\t\tzIndex:'1'\n\t\t\t\t\t\t\t/*background: 'rgb(184,225,252)',\n\t\t\t\t\t\t\tbackground: '-moz-linear-gradient(top, rgba(184,225,252,1) 0%, rgba(169,210,243,1) 10%, rgba(144,186,228,1) 25%, rgba(144,188,234,1) 37%, rgba(144,191,240,1) 50%, rgba(107,168,229,1) 51%, rgba(162,218,245,1) 83%, rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\tbackground: '-webkit-linear-gradient(top, rgba(184,225,252,1) 0%,rgba(169,210,243,1) 10%,rgba(144,186,228,1) 25%,rgba(144,188,234,1) 37%,rgba(144,191,240,1) 50%,rgba(107,168,229,1) 51%,rgba(162,218,245,1) 83%,rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\tbackground: 'linear-gradient(to bottom, rgba(184,225,252,1) 0%,rgba(169,210,243,1) 10%,rgba(144,186,228,1) 25%,rgba(144,188,234,1) 37%,rgba(144,191,240,1) 50%,rgba(107,168,229,1) 51%,rgba(162,218,245,1) 83%,rgba(189,243,253,1) 100%)',\n\t\t\t\t\t\t\tfilter: 'progid:DXImageTransform.Microsoft.gradient( startColorstr=\"#b8e1fc\", endColorstr=\"#bdf3fd\",GradientType=0'\t*/\t\t\t\t\t \n\t\t\t\t\t\t}}\n\t\t\t\t\t\t\tclassName=\"h-0 w-100 \"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t//alert('se activa');\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\tsetOpen(!open);\n\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t/*if (!open){\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"Conte1\").style.width = 0;\n\t\t\t\t\t\t\t\t\tsetWidth(260);\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tdocument.getElementById(\"Conte1\").style.width = '260px';\n\t\t\t\t\t\t\t\t\tsetWidth(20);\n\t\t\t\t\t\t\t\t}*/\n\t\t\t\t\t\t\t\t//alert('');\n\t\t\t\t\t\t\t\t//$(\"#forgeViewer\").animate({ height: height + d.height }, 100);\n\t\t\n\t\t\t\t\t\t\t\t//$(\"#DetalleItem\").animate({ height: window.innerHeight - (height + d.height) - 130 }, 100);\n\t\t\n\t\t\t\t\t\t\t\t//alert('');\n\t\t\t\t\t\t\t\t\n\n\n\t\t\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\t\t\tRefrescarV();\n\t\t\t\t\t\t\t\t}, 100);\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\n\n\n\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\taria-controls=\"example-collapse-text\"\n\t\t\t\t\t\t\taria-expanded={open}\n\t\t\t\t\t\t\tstyle={{background:'transparent', zIndex:'1', width:'80px'}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{open ? (\n\t\t\t\t\t\t\t\t<ion-icon name=\"chevron-back-outline\" style={{ cursor: \"pointer\", color:'black', borderColor:'#c6c7d0', marginLeft:'4px', background:'white', zIndex:'2', width:'20px', height:'20px',borderRadius:'20px', borderStyle: 'solid', borderWidth:'0.5px', }}></ion-icon>\n\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t<ion-icon name=\"chevron-forward-outline\" style={{ cursor: \"pointer\", color:'black', borderColor:'#c6c7d0', marginLeft:'4px', background:'white', zIndex:'2', width:'20px', height:'20px',borderRadius:'20px', borderStyle: 'solid', borderWidth:'0.5px' }}></ion-icon>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Resizable>\n\n\t\t\t\t<Col className=\"w-100\" style={{height:'100%'}}>\n\t\t\t\t\t<VisorModelos/>\n\t\t\t\t</Col>\n\n\t\t\t</div>\n\n\t\t\t\n\n\t\t</>\n\t);\n};\n\nexport default Models;\n","export default __webpack_public_path__ + \"static/media/FOTO1.9ce3069b.png\";","import React from 'react'\n\n\nexport default function Overlay({ ready, clicked, setClicked, setReady }) {\n  \n  //setClicked(true);\n  return (\n    <>\n      <div className={`${ready ? 'ready' : 'notready'} ${clicked && 'clicked'}`} style={{zindex:'80', position:'absolute'}}>\n        <div onClick={() => ready && setClicked(true)} style={{position:'absolute', cursor: \"pointer\" , fontSize:'3rem', left:'40vw', top:'-45vh', zIndex:'99999' }}> {!ready ? 'loading' : !clicked ? 'click to continue':''} </div>\n      </div>\n\n    </>\n  )\n}\n","import * as THREE from 'three'\nimport React, { Suspense, useEffect, useState } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport { Reflector, Text, useTexture, useGLTF } from '@react-three/drei'\nimport Overlay from './Overlay'\nimport { Geometry } from 'devextreme-react/bar-gauge'\n\nfunction Carla(props) {\n  const { scene } = useGLTF('/carla-draco.glb')\n  return <primitive object={scene} {...props} />\n}\n\nfunction VideoText({ clicked, ...props }) {\n  const [video, setVideo] = useState(() => Object.assign(document.createElement('video'), { src: '/drei.mp4', crossOrigin: 'Anonymous', loop: true }))\n  useEffect(() => void (clicked && video.pause()), [props.nvideo])\n  useEffect(() => void (clicked && setVideo(Object.assign(document.createElement('video'), { src: props.nvideo, crossOrigin: 'Anonymous', loop: true }))), [props.nvideo])\n  useEffect(() => void (clicked && video.play()), [video, clicked])\n  return (\n    <>\n    {props.opc===1 ?\n    <Text font=\"/Inter-Bold.woff\" fontSize={2.3} letterSpacing={-0.18} {...props}>\n      {props.texto}\n      <meshBasicMaterial toneMapped={false}>\n        <videoTexture attach=\"map\" args={[video]} encoding={THREE.sRGBEncoding} />\n      </meshBasicMaterial>\n    </Text>\n    :<>\n    <mesh {...props}>\n    {/* <planeGeometry args={[6.6, 2.9]}  /> */}\n    <boxGeometry args={[6.3, 2.5, 0.85]} />\n        <meshStandardMaterial emissive={\"black\"} side={THREE.DoubleSide}>\n          <videoTexture attach=\"map\" args={[video]} encoding={THREE.sRGBEncoding}/>\n          <videoTexture attach=\"emissiveMap\" args={[video]} />\n    </meshStandardMaterial>\n    </mesh>\n    </>\n    }\n    </>\n  )\n}\n\nfunction VideoText2({ clicked, ...props }) {\n  const [video] = useState(() => Object.assign(document.createElement('video'), { src: '/drei.mp4', crossOrigin: 'Anonymous', loop: true }))\n  useEffect(() => void (clicked && video.play()), [video, clicked])\n  return (\n    <Text font=\"/Inter-Bold.woff\" fontSize={3} letterSpacing={-0.14} {...props}>\n      {props.texto}\n      <meshBasicMaterial toneMapped={false}>\n        <videoTexture attach=\"map\" args={[video]} encoding={THREE.sRGBEncoding} />\n      </meshBasicMaterial>\n    </Text>\n  )\n}\n\nfunction VideoText1({ clicked, ...props }) {\n  const [video, setVideo] = useState(() => Object.assign(document.createElement('video'), { src: '/drei.mp4', crossOrigin: 'Anonymous', loop: true }))\n  useEffect(() => void (clicked && video.pause()), [props.nvideo])\n  useEffect(() => void (clicked && setVideo(Object.assign(document.createElement('video'), { src: props.nvideo, crossOrigin: 'Anonymous', loop: true }))), [props.nvideo])\n  useEffect(() => void (clicked && video.play()), [video, clicked])\n  return (\n    <mesh {...props}>\n        <planeGeometry args={[6.6, 2.9]} />\n        <meshStandardMaterial emissive={\"white\"} side={THREE.DoubleSide}>\n          <videoTexture attach=\"map\" args={[video]} encoding={THREE.sRGBEncoding}/>\n          <videoTexture attach=\"emissiveMap\" args={[video]} />\n        </meshStandardMaterial>\n      {/* <boxGeometry args={[2, 10, 0.075]} transparent >\n      <meshBasicMaterial toneMapped={false}>\n      <videoTexture attach=\"map\" args={[video]} encoding={THREE.sRGBEncoding} />\n      </meshBasicMaterial>\n      </boxGeometry> */}\n    </mesh>\n    //   <boxGeometry >\n      \n    //   <meshBasicMaterial toneMapped={false}>\n        \n    //   </meshBasicMaterial>\n    // </boxGeometry>\n  )\n}\n\n\n\nfunction Ground() {\n  const [floor, normal] = useTexture(['/SurfaceImperfections003_1K_var1.jpg', '/SurfaceImperfections003_1K_Normal.jpg'])\n  return (\n    <Reflector blur={[400, 100]} resolution={512} args={[10, 10]} mirror={0.5} mixBlur={6} mixStrength={2.5} rotation={[-Math.PI / 2, 0, Math.PI / 2]}>\n      {(Material, props) => <Material color=\"#rgba(0,127,127,0.8)\" metalness={0.4} roughnessMap={floor} normalMap={normal} normalScale={[2, 2]} {...props} />}\n    </Reflector>\n  )\n}\n\nexport default function Video({texto, nvideo, opc}) {\n  const [clicked, setClicked] = useState(false)\n  const [ready, setReady] = useState(true)\n  const store = { clicked, setClicked, ready, setReady }\n  return (\n    <>\n      <Canvas concurrent gl={{ alpha: false }} pixelRatio={[0.5, 3.5]} camera={{ position: [7, 3, 100], fov: 14 }}>\n        <color attach=\"background\" args={['black']} />\n        <fog attach=\"fog\" args={['rgba(0,127,127,0.2)', 18, 8]} />\n        <Suspense fallback={null}>\n          <group position={[0, -1, 0]}>\n            {/* <Carla rotation={[0, Math.PI - 0.4, 0]} position={[-1.2, 0, 0.6]} scale={[0.26, 0.26, 0.26]} /> */}\n            \n              \n              <VideoText {...store} position={[0, 1.3, -1.2]} texto={texto} nvideo={nvideo} opc={opc}/>\n              \n              \n              {/* <VideoText1 {...store} position={[0, 1.3, -1.8]} texto={texto} nvideo={nvideo} opc={opc}/> */}\n              \n              \n                         \n            <Ground />\n          </group>\n          <ambientLight intensity={0.7} />\n          <spotLight position={[10, -10, 10]} intensity={-0.7} />\n          <directionalLight position={[-20, -40, -10]} intensity={1.7} />\n          <Intro start={ready && clicked} set={setReady} setcl={setClicked}/>\n        </Suspense>\n      </Canvas>\n      <Overlay {...store} />\n    </>\n  )\n}\n\nfunction Intro({ start, set, setcl }) {\n  const [vec] = useState(() => new THREE.Vector3())\n  useEffect(() => setTimeout(() => set(true), 500), [])  \n  return useFrame((state) => {\n    if (start) {\n      state.camera.position.lerp(vec.set(state.mouse.x * 5, 3 + state.mouse.y * 2, 14), 0.05)\n      state.camera.lookAt(0, 0, 0)\n    }\n  })\n}\n","import React, { useState, useRef } from 'react'\r\nimport { Canvas, useFrame } from '@react-three/fiber'\r\nimport { OrbitControls, Html } from '@react-three/drei'\r\nimport { Slider } from 'antd'\r\n\r\nfunction Box() {\r\n  const [size, set] = useState(0.5)\r\n  const [hidden, setVisible] = useState(false)\r\n  return (\r\n    <mesh scale={size * 2}>\r\n      <boxGeometry />\r\n      <meshStandardMaterial color=\"rgba(127,255,255,0.05)\" />\r\n      <Html\r\n        style={{\r\n          transition: 'all 0.2s',\r\n          opacity: hidden ? 0 : 0.2,\r\n          transform: `scale(${hidden ? 0.1 : 0})`\r\n        }}\r\n        distanceFactor={1.5}\r\n        position={[0, 0, 0.51]}\r\n        transform\r\n        occlude\r\n        onOcclude={setVisible}>\r\n        {/* <span>Size</span> */}\r\n        {/* <Slider style={{ width: 100 }} min={0.5} max={1} step={0.01} value={size} onChange={set} /> */}\r\n      </Html>\r\n    </mesh>\r\n  )\r\n}\r\n\r\nfunction Sphere(props) {\r\n  const ref = useRef()\r\n  useFrame((state) => (ref.current.position.x = Math.sin(state.clock.getElapsedTime())))\r\n  return (\r\n    <mesh ref={ref} {...props}>\r\n      <sphereGeometry args={[0.3, 32, 32]} />\r\n      <meshStandardMaterial color=\"rgba(127,255,255,0.45)\" />\r\n    </mesh>\r\n  )\r\n}\r\n\r\nexport default function Cuadro() {\r\n  return (\r\n    <Canvas dpr={[1, 2]} camera={{ fov: 25 }}>\r\n      <ambientLight color={'rgba(0, 127, 127, 0.73)'} intensity={0.5} />\r\n      <pointLight position={[10, 10, 5]} />\r\n      <pointLight position={[-10, -10, -10]} />\r\n      {/* <Box /> */}\r\n      <Sphere position={[0, 0, 1]} />\r\n      <OrbitControls />\r\n    </Canvas>\r\n  )\r\n}","import { useState, useRef } from 'react'\r\nimport { Canvas, useFrame } from '@react-three/fiber'\r\nimport { CycleRaycast, BakeShadows, useCursor, softShadows, OrbitControls, Text } from '@react-three/drei'\r\nimport * as THREE from 'three'\r\n\r\n\r\nconst MenuP=['C/C++','Visual Basic 6.0 .NET','SQL', 'Pascal/Cobol','Javascript','React','VueJS','Phyton','PHP','NODE/GOLANG','Automat. UiPath', 'Xpath', 'Web Scraping', 'Automatizacion QA', 'Revit API/Dynamo' ,'C# Autocad' ]\r\n\r\n\r\nexport default function Gradas({hov, SetHov}) {\r\n\r\n  const [hov1, SetHov1] = useState(hov);\r\n  //alert(hov[0]);\r\n  const [{ objects, cycle }, set] = useState({ objects: [], cycle: 0 })\r\n  return (\r\n    <>\r\n      {/* CycleRaycast's status data can now be turned into informative HTML */}\r\n      <div className=\"status\"> \r\n        {objects.map((_, i) => (<div key={i} className=\"dot\" style={{ background: i === cycle ? '#70ffd0' : '#ccc' }} />)) /* prettier-ignore */}\r\n        {objects.length ? <div className=\"name\" style={{ position:'absolute', top:'15px', left: cycle * 14+350, padding: 2, fontSize:'40px', color:'rgba(0, 127, 127, 0.73)', textShadow:'1px 1px 2px rgba(255, 255, 255, 0.93), 0 0 1em rgba(255, 255, 255, 0.73), 0 0 0.4em rgba(0, 147, 127, 0.3)' }} children={objects[cycle].object.name} /> : null} \r\n    </div>\r\n      <Canvas shadows dpr={1.5} camera={{ position: [-10, 10, 5], fov: 50 }}>\r\n        <Stage />\r\n        {Array.from({ length: 16 }, (_, i) => (\r\n          <Stair\r\n            key={i}\r\n            //name={(i + 1) + MenuP }\r\n            name={MenuP[i]}\r\n            rotation={[-Math.PI / 2, 0, i / Math.PI / 2]}\r\n            position={[2 - Math.sin(i / 5) * 5, i * 0.5, 2 - Math.cos(i / 5) * 5]}\r\n            hover1={hov1[i]}\r\n          />\r\n        ))}\r\n        {/* This component cycles through the raycast intersections, combine it with event.stopPropagation! */}\r\n        <CycleRaycast onChanged={(objects, cycle) => set({ objects, cycle })} />\r\n      </Canvas>\r\n    </>\r\n  )\r\n}\r\n\r\nfunction Stair(props) {\r\n  const ref = useRef()\r\n  const [hovered, setHovered] = useState(props.hover1)\r\n  const [clicked, setClicked] = useState(false)\r\n  useFrame((state) => ref.current.scale.setScalar(hovered ? 1 + Math.sin(state.clock.elapsedTime * 10) / 50 : 1))\r\n  // Sets document.body.style.cursor: useCursor(flag, onPointerOver = 'pointer', onPointerOut = 'auto')\r\n  useCursor(hovered)\r\n  return (\r\n    <mesh\r\n      {...props}\r\n      ref={ref}\r\n      receiveShadow\r\n      castShadow\r\n      onClick={(e) => (e.stopPropagation(), setClicked(!clicked))}\r\n      onPointerOver={(e) => (e.stopPropagation(), setHovered(true))}\r\n      onPointerOut={(e) => setHovered(false)}>\r\n      <boxGeometry args={[2, 10, 0.075]} />\r\n      <meshStandardMaterial roughness={1} transparent opacity={0.43} color={clicked ? 'rgb(0, 145, 127)' : hovered ? 'rgb(0, 87, 147)' : 'rgb(0, 127, 127)'} />\r\n      {/* <Text font=\"/Inter-Bold.woff\"  fontSize={0.5} letterSpacing={-0.00} {...props}>\r\n      texto\r\n      <meshBasicMaterial toneMapped={false}>\r\n        <videoTexture attach=\"map\" args={[video]} encoding={THREE.sRGBEncoding} />\r\n      </meshBasicMaterial> \r\n      </Text> */}\r\n      \r\n    </mesh>\r\n  )\r\n}\r\n\r\nfunction Stage() {\r\n  return (\r\n    <>\r\n      {/* Fill */}\r\n      <ambientLight intensity={0.5} />\r\n      {/* Main */}\r\n      <directionalLight\r\n        position={[1, 10, -2]}\r\n        intensity={1}\r\n        shadow-camera-far={70}\r\n        shadow-camera-left={-10}\r\n        shadow-camera-right={10}\r\n        shadow-camera-top={10}\r\n        shadow-camera-bottom={-10}\r\n        shadow-mapSize={[512, 512]}\r\n        castShadow\r\n      />\r\n      {/* Strip */}\r\n      <directionalLight position={[-10, -10, 2]} intensity={3} />\r\n      {/* Ground */}\r\n      <mesh receiveShadow rotation-x={-Math.PI / 2} position={[1, -0.75, 0]}>\r\n        <planeGeometry args={[80, 80]} />\r\n        <shadowMaterial opacity={0.2} />\r\n      </mesh>\r\n      {/* This freezes the shadow map, which is fast, but the model has to be static  */}\r\n      <BakeShadows />\r\n      {/* <OrbitControls\r\n      enableZoom={false}\r\n      enablePan={false}\r\n      maxAzimuthAngle={Math.PI / 2}\r\n      maxPolarAngle={Math.PI}\r\n      minAzimuthAngle={-Math.PI / 2}\r\n      minPolarAngle={0}\r\n      /> */}\r\n    </>\r\n  )\r\n}\r\n\r\n// Percentage closer soft shadows, normally *very* expensive\r\nsoftShadows()","import * as THREE from 'three'\nimport { useEffect, useRef, useState, Suspense } from 'react'\nimport { Canvas, useFrame } from '@react-three/fiber'\nimport { useCursor, MeshReflectorMaterial, Image, Text, Environment, OrbitControls } from '@react-three/drei'\nimport { useRoute, useLocation } from 'wouter'\nimport getUuid from 'uuid-by-string'\n\nconst GOLDENRATIO = 1.61803398875\n\nconst DATAESP = [\n`CHRISTIAN FELIPE TORRES \n        Datos Personales \n         CI: 0103576575  \nEdad: 42 años\nEstado Civil: Soltero\nNacionalidad: Ecuador  \nTrabajo actual en: Perú (Remoto)\n\n\n\n\n\n\n\n\n\n\n\nResidencia Actual: Ecuador\nDirección:\nCdla Refugio del Mar V. 52\nGnral Villamil - Playas\n       ECUADOR\n      +593 984794678\n  felipet73@hotmail.com    \n`,\n`CONOCIMIENTOS DESARROLLO \n\nDesarrollo aplicaciones PC-WEB-MOVIL \nLenguajes: C/C++, pascal, cobol, Fortran, VB 6.0 .NET\nC# Fox, Phyton, Apis VBA-C# con MSProject, Excel, Autocad, Revit, WPF, XAML\nHTML-CSS-PHP, Javascript, Tapescrypt. React, Node, APIs rest, Boostrap,\nOauth2, socialite, POO, MVC, JQuery, Vue, Socket io, JSon, Chatbots\nFrontend, Backend, BD Sql server, MySql, SQLite, no relacionales MongoDB, \nLaravel, Angular, React Native, Android Studio, Kotlin\nAutomatización de procesos RPA con UiPath`,\n`CONOCIMIENTOS CONSTRUCCION\n\nProgramación y Control de Obras \nCumplimiento contractual (LOSNCP)\nPresupuestos (OPUS, InterPro, Proexcel, Presto, S10) \nAPUS - Licitaciones (SERCOP)\nPlanillas (elaboración/revisión) - Costo+Porcentaje - Rubros adicionales\nEvaluacion de catidades de obra\nFormulas de Reajuste de precios - Cronogramas (Project, Primavera)\nPlanificación y seguimiento de consumo de Insumos (Costo)\nPlanos (Auto CAD - Civil 3D- Micro estación - Revit - Civil 3D) - ArcGis\nAutomatización tareas (lenguajes de programación-bases de datos) \nUiPath`,\n`ESTUDIOS:\nEscuela San José La Salle básica\nColegio ITSS Cuenca\nBachiller Mecánica Automotriz\nUniversidad de Cuenca\n3er Año Ing. Sistemas \nStructuralia\nMaster Programación BIM\nSoy Autodidacta: siempre sigo cursos, libros y Web\nTengo más de 470 Cursos, soy amante del conocimiento y la información\nSiempre estoy profundizando conocimientos\nActualmente estoy aprendiendo inglés en OpenEnglish\nsiguiendo cursos técnicos en Ingles\nBusco profundizar los conceptos para realmente entenderlos,\nquizá es lo que me diferencia de otras personas, que regularmente\nse contentan con conocer algo superficialmente.\n`,\n` EXPERIENCIA PROFESIONAL \nInicié trabajando dando asesoría en programación a estudiantes de Universidades, 7 años.\nTrabajé 12 años en varios proyectos de construcción alrededor de\ntodo el Ecuador en áreas relacionadas a programación y control de proyectos,\nDesde hace 3 años he intensificado en la automatización \nde procesos técnico-administrativos para control de proyectos de construcción\nmediante el desarrollo de aplicaciones que automatizan los procesos, gestionan y \ndistribuyen la información, finalmente esto me abrió la puerta desde aproximadamente un año a trabajar en el desarrollo de una herramienta que gestione los presupuestos a partir de un modelo BIM.\n`,\n` MANEJO DE UTILITARIOS \n\nOffice avanzado, MS Project, Primavera\nAdobe Photoshop, Illustrator, Flash, Audition, Premiere, Acrobat\nCorel Draw\nAutodesk Autocad 2D y 3D, Civil 3D, Revit Dynamo, Navisworks, Maya\nBIM 360, Rhinoceros 3D Grasshoper, Microstation\nCamptasia, After Effects, \nOpus, Presto, S10, Proexcel\nSketchup, UIPath, Final Cut\nCinema 4D, Open Roads, Open Built\nAprendiendo actualmente:\nBlender, Solidworks, Inventor\nVarios otros..\n`,\n`SOBRE MI.\n\nNunca especulo en temas de relevancia.\nMido bien el riesgo antes de emitir un resultado en donde existe alguna posibilidad de inconsistencia.\nCreo que un criterio siempre puede modificarse.\nNunca compito contra nadie, no me interesa.\nNo negocio con los ideales.\nCreo en que apuntar siempre hacia la excelencia lleva a un resultado bastante adecuado.\nCreo en el aprendizaje constante.\nCreo en potenciar las habilidades.\nCreo que si no me es posible ayudar, por lo menos si me es posible evitar el hacer mal.\nCreo que lo que no conoces hoy lo puedes conocer mañana.\n`,\n`CONOCIMIENTOS ESPECIFICOS BIM\n\nActualmente mes estoy especializando en Programación aplicada a BIM,\nconozco bien Autocad, Revit, Navisworks, BIM 360 \n\nEstoy aprendiendo Blender y SolidWorks para profundizar en CAM.\n\nAutomatizo varias tareas en estos entornos interactuando con otras aplicaciones:\n\nAbrir modelos con el visor Viewer enviar y recibir información mediante APIs \nen Revit, Autocad, Excel, Word, MSProject, Winforms, etc.\n\n\n`,\n`CONOCIMIENTOS BIM II\n* Desarrollo Phyton con Dynamo\n* Desarrollo Grashopper en Rhino \n* Desarrollo en C# API de Autocad (ArcObjects) Winforms\n* Desarrollo en C# API de Revit WPF XAML y Forms\n* Desarrollo en C# en excel, word y MSProject, importando modelos 3D, planos de autocad e interactuando mediante Web Forms con Forge\n* Desarrollo con las APIs de Forge (C# con ASP.Net, React, Javascript nativo) Autentificación, accesos e interacción con la Nube de Autodesk ACC, carga de modelos con el viewer\n* Desarrollo con JS React, React Native, WEBGL con Canvas, threejs, react-three-fiber\n* Estoy aprendiendo la librería IFCjs, considero que tiene mucho futuro, sin embargo el potencial de Forge es muy superior actualmente.`\n];\n\n\n\nconst DATAING = [\n  `CHRISTIAN FELIPE TORRES \n          Personal information \n          ID: 0103576575  \n  Age: 42 años\n  Marital Status: Single\n  Nationality: Ecuador\n  Current job in: Peru (Remote)\n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  \n  Current Residence: Ecuador\n  Adress:\n  Cdla Refugio del Mar V. 52\n  Gnral Villamil - Playas\n         ECUADOR\n        +593 984794678\n    felipet73@hotmail.com    \n  `,\n  `KNOWLEDGE DEVELOPMENT\n  \n  Development of PC-WEB-MOBILE applications\n  Languages: C / C ++, pascal, cobol, Fortran, VB 6.0 .NET\n  C # Fox, Python, Apis VBA-C # with MSProject, Excel, Autocad, Revit, WPF, XAML\n  HTML-CSS-PHP, Javascript, Tapescrypt. React, Node, APIs rest, Boostrap,\n  Oauth2, socialite, POO, MVC, JQuery, Vue, Socket io, JSon, Chatbots\n  Frontend, Backend, BD Sql server, MySql, SQLite, non-relational MongoDB,\n  Laravel, Angular, React Native, Android Studio, Kotlin\n  RPA process automation with UiPath`,\n  `KNOWLEDGE CONSTRUCTION\n  \n  Scheduling and Control of Works\n  Contractual compliance (LOSNCP)\n  Budgets (OPUS, InterPro, Proexcel, Presto, S10)\n  APUS - Tenders (SERCOP)\n  Spreadsheets (preparation / review) - Cost + Percentage - Additional items\n  Evaluation of work quantities\n  Price Adjustment Formulas - Schedules (Project, Spring)\n  Planning and monitoring of input consumption (Cost)\n  Drawings (Auto CAD - Civil 3D- Micro station - Revit - Civil 3D) - ArcGis\n  Automation of tasks (programming languages-databases)\n  UiPath`,\n  `STUDIES:\n  San José La Salle Basic School\n  ITSS Cuenca School\n  Bachelor of Automotive Mechanics\n  University of Cuenca\n  3rd Year Systems Engineer Structuralia\n  BIM Programming Master I am Self-taught: I always follow courses, books and the Web I have more than 470 courses, I am a lover of knowledge and information\n  I am always deepening knowledge I am currently learning English at OpenEnglish following technical courses in English\n  I seek to deepen the concepts to really understand them, perhaps it is what differentiates me from other people, who regularly they are content with knowing something superficially.\n  `,\n  ` PROFESSIONAL EXPERIENCE\n  I started working giving programming advice to university students, 7 years old.\n  I worked 12 years on various construction projects around\n  all of Ecuador in areas related to project programming and control,\n  For 3 years I have intensified in automation\n  of technical-administrative processes for control of construction projects\n  by developing applications that automate processes, manage and\n  distribute the information, finally this opened the door for me for about a year to work on the development of a tool that manages budgets from a BIM model.\n  `,\n  ` UTILITY MANAGEMENT\n  \n  Advanced Office, MS Project, Primavera\n  Adobe Photoshop, Illustrator, Flash, Audition, Premiere, Acrobat\n  Corel Draw\n  Autodesk Autocad 2D and 3D, Civil 3D, Revit Dynamo, Navisworks, Maya\n  BIM 360, Rhinoceros 3D Grasshoper, Microstation\n  Camptasia, After Effects,\n  Opus, Presto, S10, Proexcel\n  Sketchup, UIPath, Final Cut\n  Cinema 4D, Open Roads, Open Built\n  Currently learning:\n  Blender, Solidworks, Inventor\n  Several others ..\n  `,\n  `ABOUT ME.\n  \n  I never speculate on issues of relevance.\n  I measure the risk well before issuing a result where there is any possibility of inconsistency.\n  I believe that a criterion can always be modified.\n  I never compete against anyone, I am not interested.\n  I don't trade with ideals.\n  I believe that always aiming for excellence leads to a fairly adequate result.\n  I believe in constant learning.\n  I believe in enhancing skills.\n  I believe that if it is not possible for me to help, at least if it is possible for me to avoid doing wrong.\n  I think that what you don't know today you can know tomorrow.\n  `,\n  `SPECIFIC KNOWLEDGE BIM\n  \n  Currently I am specializing in Programming applied to BIM,\n  I know well Autocad, Revit, Navisworks, BIM 360\n  \n  I am learning Blender and SolidWorks to delve into CAM.\n  \n  I automate various tasks in these environments by interacting with other applications:\n  \n  Open models with the Viewer viewer send and receive information through APIs\n  in Revit, Autocad, Excel, Word, MSProject, Winforms, etc.\n  \n  \n  `,\n  `KNOWLEDGE BIM II\n  * Python development with Dynamo\n  * Grashopper development in Rhino\n  * Development in C # API of Autocad (ArcObjects) Winforms\n  * Development in C # API of Revit WPF XAML and Forms\n  * Development in C # in excel, word and MSProject, importing 3D models, autocad plans and interacting through Web Forms with Forge\n  * Development with Forge APIs (C # with ASP.Net, React, native Javascript) Authentication, accesses and interaction with the Autodesk ACC Cloud, loading of models with the viewer\n  * Development with JS React, React Native, WEBGL with Canvas, threejs, react-three-fiber\n  * I am learning the IFCjs library, I think it has a great future, however Forge's potential is much higher today.`\n  ]\n\n\n\nexport default function Galeria({ images, idioma }) {\n  //alert(idioma)\n  return (\n    <>\n    <Suspense fallback={null}>\n    <Canvas gl={{ alpha: false }} dpr={[1, 1.5]} camera={{ fov: 70, position: [0, 2, 15] }}>\n      <color attach=\"background\" args={['black']} />\n      {/* // <fog attach=\"fog\" args={['#191920', 0, 15]} /> */}\n      <fog attach=\"fog\" args={['rgba(0,127,127,0.43)', -10, 50]} opacity={0.7}/>\n      <Environment preset=\"city\" />\n      <group position={[0, -0.5, 0]}>\n        <Frames images={images} idioma={idioma} />\n        <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]}>\n          <planeGeometry args={[50, 50]} />\n          <MeshReflectorMaterial\n            blur={[300, 100]}\n            resolution={2048}\n            mixBlur={1}\n            mixStrength={60}\n            roughness={1}\n            depthScale={1.2}\n            minDepthThreshold={0.4}\n            maxDepthThreshold={1.4}\n            color=\"#151515\"\n            metalness={0.5}\n          />\n        </mesh>\n      </group>\n      {/* <OrbitControls\n      enableZoom={false}\n      enablePan={false}\n      //maxAzimuthAngle={Math.PI / 2}\n      //maxPolarAngle={Math.PI}\n      //minAzimuthAngle={-Math.PI / 2}\n      //minPolarAngle={0}\n      /> */}\n    </Canvas>\n    </Suspense>\n    </>\n  )\n}\n\nfunction Frames({ images, idioma , q = new THREE.Quaternion(), p = new THREE.Vector3() }) {\n  const ref = useRef()\n  const clicked = useRef()\n  const [, params] = useRoute('/item/:id')\n  const [, setLocation] = useLocation()\n  \n  useEffect(() => {\n    clicked.current = ref.current.getObjectByName(params?.id)\n    if (clicked.current) {\n      clicked.current.parent.updateWorldMatrix(true, true)\n      clicked.current.parent.localToWorld(p.set(0, GOLDENRATIO / 2, 1.25))\n      clicked.current.parent.getWorldQuaternion(q)\n    } else {\n      p.set(0, 0, 5.5)\n      q.identity()\n    }\n  })\n  useFrame((state, dt ) => {\n    state.camera.position.lerp(p, THREE.MathUtils.damp(0, 1, 3, dt))\n    state.camera.quaternion.slerp(q, THREE.MathUtils.damp(0, 1, 3, dt))\n  })\n  return (\n    <group\n      ref={ref}\n      onClick={(e) => (e.stopPropagation(), setLocation(clicked.current === e.object ? '/' : '/item/' + e.object.name))}\n      onPointerMissed={() => setLocation('/')}>\n      {images.map((props, i) => <Frame key={props.url} idioma={idioma} {...props} i={i} /> /* prettier-ignore */)}\n    </group>\n  )\n}\n\nfunction Frame({ url, c = new THREE.Color(), i, idioma, ...props }) {\n  const [hovered, hover] = useState(false)\n  const [rnd] = useState(() => Math.random())\n  const [visible, setVisible] = useState(true);\n  const image = useRef()\n  const frame = useRef()\n  const name = getUuid(url)\n  \n  useCursor(hovered)\n    useFrame((state) => {\n      if (visible){\n\n        image.current.material.zoom = 2 + Math.sin(rnd * 10000 + state.clock.elapsedTime / 3) / 2\n        image.current.scale.x = THREE.MathUtils.lerp(image.current.scale.x, 0.85 * (hovered ? 0.85 : 1), 0.1)\n        image.current.scale.y = THREE.MathUtils.lerp(image.current.scale.y, 0.9 * (hovered ? 0.905 : 1), 0.1)\n        frame.current.material.color.lerp(c.set(hovered ? 'rgba(0,127,127,0.43)' : 'rgba(0,160,127,0.93)').convertSRGBToLinear(), 0.1)            \n  \n      }\n    })\n  return (\n    <group {...props}>\n      <mesh\n        name={name}\n        onPointerOver={(e) => {e.stopPropagation(); hover(true); setVisible(false);}}\n        onPointerOut={() => {hover(false); setVisible(true);}}\n        scale={[1, GOLDENRATIO, 0.05]}\n        position={[0, GOLDENRATIO / 2, 0]}>\n        <boxGeometry />\n        {/* <meshStandardMaterial color=\"rgba(0,127,127,0.43)\" opacity={0.20} metalness={0.8} roughness={0.5} envMapIntensity={1.5} /> */}\n        <meshStandardMaterial roughness={1} transparent opacity={0.10} color={'rgb(0, 127, 127)'} />\n        <mesh ref={frame} raycast={() => null} scale={[0.9, 0.93, 0.9]} position={[0, 0, 0.2]}>\n          <boxGeometry />\n          {/* <meshBasicMaterial color=\"rgba(0,127,127,0.13)\" toneMapped={false} fog={false} opacity={0.2} /> */}\n          <meshStandardMaterial roughness={1} transparent opacity={0.30} color={'rgb(0, 127, 127)'} color={'rgb(0, 255, 255)'} />\n          {/* <shadowMaterial opacity={0.2} /> */}\n        </mesh>\n        {visible && <Image raycast={() => null} ref={image} position={[0, 0, 0.7]} url={url} />}\n      </mesh>\n      <Text maxWidth={0.85} anchorX=\"left\" anchorY=\"top\" position={[-0.41, GOLDENRATIO-0.01, -0.11]} fontSize={0.055} >\n        {/*name.split('-').join(' ')*/idioma==='Español' ? DATAESP[i]:DATAING[i]}\n      </Text>\n    </group>\n  )\n}\n","import {useEffect, useLayoutEffect, useRef, useState, Suspense} from \"react\";\n\nimport { useDispatch } from \"react-redux\";\nimport logo from \"../assets/img/FOTO1.png\";\nimport Video from \"../Video\";\nimport { signIn } from \"../actions/auth.action\";\nimport { useFormik } from \"formik\";\n\nimport * as Yup from \"yup\";\nimport { Card, Form, Container, Button, Image } from \"react-bootstrap\";\n\n// import { Link } from \"react-router-dom\";\nimport '../styles/auth.css';\nimport SelectCompany from \"../components/SelectCompany\";\nimport Cuadro from \"../components/Cuadro\";\n//import Escena from \"../components/Escena\";\nimport Escena1 from \"../components/Escena1\";\nimport Gradas from \"../components/Gradas\";\nimport gsap from 'gsap';\nimport { DropDownButton } from \"devextreme-react\";\n\n\n//import { createRoot } from 'react-dom'\nimport '../styles.css'\nimport Galeria from '../Galeria'\nimport Items from \"../components/Items\";\n\nconst Hover=[false,true,false, false,false,false,false,false,false,false,false,false, false, false, false ,false ]\n\nconst pexel = (id) => `https://images.pexels.com/photos/${id}/pexels-photo-${id}.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260`\nconst images = [\n  // Front\n  { position: [0, 0, 1.5], rotation: [0, 0, 0], url: pexel(7319158) },\n  // Back\n  { position: [-0.8, 0, -0.6], rotation: [0, 0, 0], url: pexel(1714208) },\n  { position: [0.8, 0, -0.6], rotation: [0, 0, 0], url: pexel(777001) },\n  // Left\n  { position: [-1.75, 0, 0.25], rotation: [0, Math.PI / 2.5, 0], url: pexel(1194713) },\n  { position: [-2.15, 0, 1.5], rotation: [0, Math.PI / 2.5, 0], url: pexel(414579) },\n  { position: [-2, 0, 2.75], rotation: [0, Math.PI / 2.5, 0], url: pexel(2781195) },\n  // Right\n  { position: [1.75, 0, 0.25], rotation: [0, -Math.PI / 2.5, 0], url: pexel(3109168) },\n  { position: [2.15, 0, 1.5], rotation: [0, -Math.PI / 2.5, 0], url: pexel(1824392) },\n  { position: [2, 0, 2.75], rotation: [0, -Math.PI / 2.5, 0], url: pexel(1882802) }\n]\n\nconst menuModo = [\n\t{ id: 1, name: 'Español', icon: 'doc' },\n\t{ id: 2, name: 'English', icon: 'menu' },\n];\n\nconst opc1 = ['████','■Acad■','■Revit■','■ForGe■', '■Office■', '■BIM■', '■CAD■'];\n\nexport default function PagPrincipal() {\n  const dispatch = useDispatch();\n  const [show, setShow] = useState(false);\n\n  const [hov, SetHov] = useState(Hover);\n  \n  const [opc, setOpc] = useState(1);\n\n  const [textoact, setTextoAct] = useState('■■■');\n  const [textoact1, setTextoAct1] = useState('■■');\n  const [nvideo, setNvideo] = useState('/drei2.mp4');\n\n  const [modo, setModo] = useState('Español');\n\n  \n\n  const showFn = () =>{\n\t  setShow(true)\n  }\n  // Formulario y validación con formik y Yup\n  const formik = useFormik({\n    initialValues: {\n      UserName: ''/*ctorres@s10peru.com'*/,\n      Password: ''/*uT9pLH4V'*/,\n    },\n    validationSchema: Yup.object({\n      UserName: Yup.string()\n        .email(\"El email no es válido\")\n        .required(\"El Email es Obligatorio\"),\n      Password: Yup.string().required(\"El password no puede ir vacio\"),\n    }),\n    onSubmit: (data) => {\n    //   console.log(\"enviando...\");\n      dispatch(signIn(data, showFn));\n    },\n  });\n\n\n const animar=() =>{\n  //alert()\n  var tl = gsap.timeline({defaults: {duration: 2, ease: \"\"}});\n\n  tl.to(\"#linea1\", {duration: 3, scrambleText:{text:\"Chistian Felipe Torres López.\", chars:\"lowerCase\", revealDelay:0.5, tweenLength:false}})\n  \n\n\n\n  .to(\"#linea2\", {duration: 4, scrambleText:{text:\"Desarrollador de Aplicaciones Escritorio/Web/Móvil 'XO'\", chars:\"XO\", revealDelay:1, tweenLength:false, speed:0.4}})\n  \n  .to(\"#linea3\", {duration: 4, scrambleText:{text:\"Especializado en aplicaciones CAD/CAM/BIM\", chars:\"0123456789\"}})\n  \n  //.to(\"#charsUppercase\", {scrambleText:{text:\"UPPERCASE\", chars:\"upperCase\",  speed:0.3}})\n  \n  //.to(\"#charsLowercase\", {scrambleText:{text:\"or lowercase.\", chars:\"lowerCase\", speed:0.3}})\n  \n  //.to(\"#newClass\", {scrambleText:{text:\"Even apply a custom class to the text.\", chars:\"lowerCase\", speed:0.3, newClass:\"orange\", revealDelay:0.5, tweenLength:false}})\n  \n  gsap.to(\"#linea1\", {duration: 2, text: \"thank you for waiting\", delay: 1});\n  //GSDevTools.create({animation: tl, minimal: true});\n\n\n }\n\n useLayoutEffect(() => {\n  animar();\n\n\n}, [])\n\nconst toca = useRef(0);\nconst opci = useRef(1);\n\nuseEffect(() => {\n  \n\n  setTimeout(() => {\n    if (opci.current===1){\n      if (toca.current>6)\n        toca.current=0;\n      setTextoAct(opc1[toca.current]);\n    toca.current++;\n    }\n  }, 8000);\n\n\n\n}, [textoact])\n\n\n\n  return (\n    <div className=\"auth\" style={{background:'yellow'}}>\n\t  {/* <SelectCompany setShow={setShow} show={show} /> */}\n      <Container className=\"d-flex justify-content-center\" style={{background:'transparent'}}>\n      <Form method=\"POST\" onSubmit={()=>{}}>\n        <Card style={{ width: 400 }} className=\"mt-4 \" style={{background:'transparent'}}>\n          <Card.Header className=\"estilo1c\" style={{zIndex:'2'}}>\n            <Image style={{ marginTop:'-20px', marginLeft:'-30px'  }} src={logo} width=\"180\"  />\n         \n              </Card.Header>              \n              <div id='linea1' className=\"estilotex\" style={{position:'absolute', top:'-25px', left:'165px', fontSize:'18px', marginTop:'10px', color:'white', zIndex:'2', textShadow:'1px 1px 2px rgba(255, 255, 255, 0.93), 0 0 1em rgba(255, 255, 255, 0.73), 0 0 0.4em rgba(0, 147, 127, 0.3)'}}>Chistian Felipe Torres López</div>\n              <div id='linea1' className=\"estilotex\" style={{position:'absolute', top:'-5px', left:'165px', fontSize:'18px', marginTop:'10px', color:'white', zIndex:'2', textShadow:'1px 1px 2px rgba(255, 255, 255, 0.93), 0 0 1em rgba(255, 255, 255, 0.73), 0 0 0.4em rgba(0, 147, 127, 0.3)'}}>felipet73@hotmail.com</div>\n              <div id='linea2' className=\"estilotex\" style={{position:'absolute', top:'120px', left:'115px', fontSize:'13px', marginTop:'10px', color:'white', zIndex:'2', textShadow:'1px 1px 2px rgba(255, 255, 255, 0.93), 0 0 1em rgba(255, 255, 255, 0.73), 0 0 0.4em rgba(0, 147, 127, 0.3)'}}>{modo === 'Español' ? 'Desarrollador de Aplicaciones Escritorio/Web/Móvil - Especialidad CAD/CAM/BIM':'Application Depeloper Desktop/Web/Mobile - Specialty CAD/CAM/BIM'} </div>\n              <Form.Label id='linea3' className=\"estilotex\"></Form.Label>\n          <Card.Body  className=\"d-flex justify-content-center estilo2\" draggable=\"true\" style={{width:'96vw'}} >\n            <div className=\"w-100\">\n\n              <Form.Group>\n              </Form.Group>\n             \n            </div>\n          </Card.Body>\n\n          <div className=\"estilo2\" style={{width:'97vw', position:'absolute',top:'-30px', height:'10px'}}>\n          </div>\n          <div className=\"estilo2\" style={{width:'97vw', position:'absolute',top:'95vh'}}>\n          </div>\n          <div className=\"\" style={{position:'absolute', left:'130px', top:'-20px',width:'680', height:'200px', zIndex:'1'}}>\n          <Cuadro/>\n          </div>\n          <div className=\"\" style={{position:'absolute', left:'250px', top:'-20px',width:'70vw', height:'280px', zIndex:'1', background:'transparent'}}>\n          <Gradas\n           hov={hov}\n           SetHov={SetHov}\n          />\n          </div>\n          <div className=\"\" style={{position:'absolute', left:'10px', top:'280px',width:'97vw', height:'60vh', zIndex:'0', background:'transparent'}}>\n          {opc===1 ?\n          <>\n            <Video texto={textoact} nvideo={'/drei.mp4'} opc={1}/>\n          </>\n          :opc===2 ?\n          <>\n            <Video texto={'■'} nvideo={'/drei2.mp4'} opc={2}/>\n            <div style={{position:'absolute', top:'0px', left:'0px', zIndex:'3', width:'100%', height:'100%', background:'black'}} >\n            \n              <Galeria images={images} idioma={modo} />\n            \n            </div>\n          </>\n            \n          :opc===3 ?\n            <Video texto={textoact1} nvideo={nvideo} opc={3}/>\n          :opc===4 ?\n            <Video texto={textoact1} nvideo={nvideo} opc={3}/>\n          :opc===5 ?\n            <>\n            <Video texto={' '} nvideo={nvideo} opc={3}/>\n            <div style={{position:'absolute', top:'0px', left:'0px', zIndex:'3', width:'100%', height:'100%', background:'black', overflow:'hidden'}} >\n              <Items\n                idioma={modo}\n              />\n\n            </div>\n            </>\n          :opc===6 ?\n            // <Video texto={'■Office■'} nvideo={nvideo}/>\n            <Video texto={textoact1} nvideo={nvideo} opc={3}/>\n          :opc===7 ?\n            <Video texto={textoact} nvideo={nvideo} opc={3}/>\n          :''\n          }\n\n          </div>\n\n\n          <DropDownButton\n                    style={{position:'absolute', right:'60px', top:'200px'}}\n\t\t\t\t\t\t\t\t\t\tsplitButton={true}\n\t\t\t\t\t\t\t\t\t\twidth='180px'\n\t\t\t\t\t\t\t\t\t\tuseSelectMode={false}\n\t\t\t\t\t\t\t\t\t\ttext={modo}\n\t\t\t\t\t\t\t\t\t\t//icon=\"dist/img/manager.png\"\n\t\t\t\t\t\t\t\t\t\ticon=\"tips\"\n\t\t\t\t\t\t\t\t\t\titems={menuModo}\n\t\t\t\t\t\t\t\t\t\tdisplayExpr=\"name\"\n\t\t\t\t\t\t\t\t\t\tkeyExpr=\"id\"\n\t\t\t\t\t\t\t\t\t\t//onButtonClick={this.onButtonClick}\n\t\t\t\t\t\t\t\t\t\tonItemClick={(e) => {\n\t\t\t\t\t\t\t\t\t\t\tsetModo(e.itemData.name);\n\t\t\t\t\t\t\t\t\t\t\t//notify(e.itemData.name || e.itemData, 'success', 300);\n\t\t\t\t\t\t\t\t\t\t\n\n\t\t\t\t\t\t\t\t\t\t\tif (e.itemData.name === 'Español') {\n\t\t\t\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\n\n\n          <Button variant=\"primary\" block className=\"py-3 rounded-3 estilo2\" style={{\n                position:'absolute',\n                width:'90px',\n                top:'198px',\n                left:'20px',\n                height:'45px',\n                zIndex:'3'\n              }}\n              onClick={()=>{\n                 // alert();\n                opci.current=1;\n                 setTimeout(() => {\n                  if (toca.current>6)\n                  toca.current=0;\n                  setTextoAct(opc1[toca.current]);\n                  toca.current++;\n                 }, 4000);\n                 setOpc(1);                  \n              }}\n              >\n              \tINTRO\n              </Button>\n              \n              <Button variant=\"primary\" block className=\"py-3 rounded-3 estilo2\" style={{\n                position:'absolute',\n                width:'100px',\n                top:'190px',\n                left:'110px',\n                height:'45px',\n                zIndex:'3'\n              }}\n              onClick={()=>{\n                 // alert();\n                 opci.current=2;\n                 setTextoAct('■');\n                 setOpc(2);\n              }}\n              >\n              \t{modo==='Español' ? 'SOBRE MI':'ABOUT'}\n              </Button>\n\n\n              <Button variant=\"primary\" block className=\"py-3 rounded-0 estilo2\" style={{\n                position:'absolute',\n                width:'100px',\n                top:'190px',\n                left:'210px',\n                height:'45px',\n                zIndex:'3'\n              }}\n              onClick={()=>{\n                 // alert();\n                 opci.current=2;\n                  if (modo==='Español')\n                    setNvideo('/autocad.mp4');\n                  else\n                    setNvideo('/autocading.mp4');\n                  setOpc(3);\n                  setTextoAct1('■Acad■');\n                  setTimeout(() => {\n                    setTextoAct1('█████');\n                  }, 6000);\n \n\n              }}\n              >\n              \tAUTOCAD\n              </Button>\n              <Button variant=\"primary\" block className=\"py-3 rounded-0 estilo2\" style={{\n                position:'absolute',\n                width:'100px',\n                top:'190px',\n                left:'310px',\n                height:'45px',\n                zIndex:'3'\n              }}\n              onClick={()=>{\n                 // alert();\n                 opci.current=2;\n                 if (modo==='Español')\n                  setNvideo('/revit.mp4');\n                  else\n                  setNvideo('/reviting.mp4');\n                 setOpc(4);\n                 setTextoAct1('■Revit■');                 \n                 setTimeout(() => {\n                  setTextoAct1('█████');\n                 }, 6000);\n\n\n              }}\n              >\n              \tREVIT\n              </Button>\n              <Button variant=\"primary\" block className=\"py-3 rounded-0 estilo2\" style={{\n                position:'absolute',\n                width:'150px',\n                top:'190px',\n                left:'410px',\n                height:'45px',\n                zIndex:'3'\n              }}\n              onClick={()=>{\n                 // alert();\n                 opci.current=2;\n                  setTextoAct('■Forge■');\n                  //SetHov([false,false,false, true,false,true,false,false,false,false,false,false, false, false, false ,true]);\n                  //opci.current=2;\n                  setNvideo('/drei2.mp4');\n                  setOpc(5);\n\n              }}\n              >\n              \tWEB-FORGE\n              </Button>\n              <Button variant=\"primary\" block className=\"py-3 rounded-0 estilo2\" style={{\n                position:'absolute',\n                width:'220px',\n                top:'190px',\n                left:'560px',\n                height:'45px',\n                zIndex:'3'\n              }}\n              onClick={()=>{\n                 // alert();\n                  //SetHov([false,false,false, true,false,true,false,false,false,false,false,false, false, false, false ,true]);\n                  //setTextoAct('■Office■');\n                  opci.current=2;\n                  if (modo==='Español')\n                    setNvideo('/excel.mp4');\n                    else\n                    setNvideo('/exceling.mp4');\n                  setOpc(6);\n                  setTextoAct1('■Office■');\n                  setTimeout(() => {\n                    setTextoAct1('█████');\n                  }, 6000);\n \n              }}\n              >\n              \t{modo==='Español' ? 'OFFICE AUTOMATIZACION':'OFFICE AUTOMATION'}\n              </Button>\n\n\n\n              <Button variant=\"primary\" block className=\"py-3 rounded-0 estilo2\" style={{\n                position:'absolute',\n                width:'50px',\n                top:'2vh',\n                right:'60px',\n                height:'45px'\n              }}\n              onClick={()=>{\n                 // alert();\n                 opci.current=2;\n                  SetHov([false,false,false, true,false,true,false,false,false,false,false,false, false, false, false ,true]);\n              }}\n              >\n                \n              \t{/* <i className=\"fas fa-sign-out-alt\"></i> CV */}CV\n              </Button>\n\n        </Card>\n      </Form>\n    </Container>\n    </div>\n  );\n}\n","import { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport {useDispatch, useSelector} from 'react-redux';\nimport {refreshConnection} from './actions/signalr.action';\nimport React, { useEffect } from 'react';\nimport SignIn from \"./views/Signin\";\n// import SignUp from \"./views/Signup\";\nimport Layout from './views/layout';\n\n//Views\n// import Proyects from \"./views/Proyects\";\nimport Home from \"./views/Home\";\n\nimport Proyects from \"./views/Proyects\";\n// import Test from \"./views/Test\";\n\n\n\nimport Presupuestos from \"./views/Presupuestos\";\n\nimport Models from \"./views/Models\";\nimport PagPrincipal from \"./views/PagPrincipal\";\n\nfunction App() {\n\tconst dispatch = useDispatch();\n\tconst auth = useSelector(state => state.auth);\t\n\tuseEffect(() => {\n\t\t\n\t\tif (auth.loading) {\n\t\t\tdispatch(refreshConnection());\n\t\t}\n\t}, [auth.loading]);\n\n\n\tif(auth.loading) return 'Cargando...';\n  return (\n    <Router>\n      <Switch>\n\t\t    {/* <Route path=\"/test\" component={Test} /> */}\n        <Route exact path=\"/\" component={PagPrincipal} />\n        {/* <Route path=\"/signup\" component={SignUp} /> */}\n\n        <Layout>\n          {/* <Route path=\"/inicio\" component={Home} /> */}\n          {/* <Route path=\"/inicio\" component={Proyects} /> */}\n          {/* <Route path=\"/proyects/:codProject\" component={Proyects} /> */}\n          {/* <Route exact path=\"/\" component={SignIn} /> */}\n          <Route path=\"/presupuesto\" component={Presupuestos} />\n\n          <Route path=\"/modelos\" component={Models} />\n\n          \n        </Layout>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import {\n    SIGN_IN,\n    ERROR,\n    LOG_OUT,\n    LOADING_LOGIN,\n    SELECT_COMPANY,\n\tREFRESH_IDCONNECTION\n} from '../constants';\n\nconst initialState = {\n    DataCompany: JSON.parse(localStorage.getItem(\"company-s10\")),\n    auth: false,\n\tloading: true,\n    User: JSON.parse(localStorage.getItem(\"user-s10\")),\n    Companies: [],\n    Roles: [],\n}\n\nconst authReducerFn = (state = initialState, { type, payload }) => {\n    switch (type) {\n        case LOADING_LOGIN:\n            return{\n                loading: true\n            }\n\n        case SIGN_IN:\n\t\t\tlocalStorage.setItem('user-s10', JSON.stringify(payload));\n            localStorage.setItem('email', JSON.stringify(payload.UserName).replace(\"\\\"\",\"\").replace(\"\\\"\",\"\"));\n            return{\n                ...state,\n\t\t\t\tUser: payload,\n                Companies: payload.Companies,\n            }\n        case SELECT_COMPANY:\n            localStorage.setItem('company-s10', JSON.stringify(payload));\n            // console.log(payload);\n            return{\n                ...state,\n                DataCompany: payload\n            }\n\n\t\t\tcase REFRESH_IDCONNECTION:\n\t\t\t\t\n\t\t\t\treturn{\n\t\t\t\t\t...state,\n\t\t\t\t\tloading: false\n\t\t\t\t}\n\t\t\n\n        case LOG_OUT:\n            localStorage.removeItem('company-s10');\n\t\t\tlocalStorage.removeItem('user-s10');\n\t\t\tlocalStorage.removeItem('connectionId');\n            return{\n                ...state,\n                auth: false,\n                user: null,\n                loading: false\n            } \n\n        case ERROR:\n            return{\n                ...state,\n                error: true\n            }\n        default:\n            return state;\n    }\n}\n\nexport default authReducerFn;","\nimport {\n\tARBOL,\n\tDATA_GENERAL,\n\tID_DATA_TABLE,\n\tLISTAR_POR_PERIODO,\n\tPROJECT_DETAILS,\n\tLIST_HISTORY,\n\tNAVIGATION_TREE,\n\tNAVIGATION_TREE_PC,\n\tPARTY_CONTROL,\n\tPARTY_CONTROL1,\n\tMENSUAL_DETALLE,\n\tAPU_DETALLE,\n\tMETRADO_DETALLE,\n\tASOCIADO_DETALLE,\n\tESTRUCTURA_DETALLE,\n\tCALCULO_DETALLE,\n\tCALCULODET_DETALLE,\n\tID_PC,\n\tTREE_SELECTEDS,\n\tURN_WEB,\n\tUNIQUE_DETALLE,\n\tLISTAR_SUBS,\n\tLEER_PRESUPUESTO,\n\tCAMBIA_SELECCION,\n\tSUB_SEL,\n\tLISTAR_CLIENTES,\n\tLISTAR_UBICACIONES,\n\tLIMPIAR_UBICACIONES,\n\tLISTAR_MODELOS,\n\tAGREGA_REGISTRO,\n\tLISTAR_MONEDAS,\n\tURN_WEB1,\n\tMETRADO_LIMPIAR,\n\tAGREGA_CATEGORIA,\n\tAGREGA_TIPO,\n\tAGREGA_FAMILIA,\n\tAGREGA_GRUPO,\n\tMODIFICA_GRUPO,\n\tELIMINA_GRUPO,\n\tAGREGA_ELEMENTOS,\n\tMODIFICA_SUB,\n\tMODIFICA_SUB1,\n\tAGREGA_SUB1,\n\tACT_PRESUPUESTO,\n\tLIMPIA_PARTY_CONTROL,\n\tLIMPIAR_SUBS,\n\tPONER_PROPS,\n\tCAMBIAR_FILA_ASOCIADO,\n\tADD_ASOCIADO,\n\tASOCIADO_LIMPIAR,\n\tAGREGA_CATEGORIAB,\n\tAGREGA_TIPOB,\n\tAGREGA_FAMILIAB,\n\tLISTAR_TITULOS,\n\tLISTAR_PARTIDAS,\n\tADD_ITEM,\n\tUPDATE_ITEM,\n\tREMOVE_ITEM,\n\tDELETE_ASOCIADO,\n\tADD_ESTRUCTURA,\n\tDELETE_ESTRUCTURA,\n\tUPDATE_ESTRUCTURA,\n\tADD_CALCULO,\n\tUPDATE_CALCULO,\n\tADD_CALCULODET,\n\tUPDATE_CALCULODET,\n\tDELETE_CALCULODET,\n\tUPDATE_METRADO,\n\tADD_METRADO,\n\tDELETE_METRADO,\n\tESTABLECE_METRADO,\n\tLEER_PARTIDA,\n\tLISTAR_UNIDADES,\n\tRECOGER_ITEMS,\n\tLIMPIAR_ITEMS,\n\tDELETE_ITEM,\n\tUPDATE_ASOCIADO,\n\tCODIGO_OBTENIDO,\n\tUPDATE_PARTIDAS,\n\tADD_PARTIDAS,\n\tDELETE_PARTIDAS,\n\tESTABLECE_ITEM,\n\tLEER_TITULO,\n\tCODIGO_OBTENIDO_TITULO,\n\tUPDATE_TITULOS,\n\tADD_TITULOS,\n\tDELETE_TITULOS,\n\tPARTY_CONTROL22,\n\tADD_FAVORITO,\n\tDELETE_FAVORITO,\n\tESTABLECER_PARTIDAS,\n\tESTABLECER_TITULOS,\n\tESTABLECE_PARTIDAS,\n\tPIDE_ELEMENTOS_ITEMS,\n\tLIMPIA_ELEMENTOS_ITEMS,\n\tITEM_SELEC,\n\tLISTAR_RECURSOS,\n\tLISTAR_GRP_PARTIDAS,\n\tLISTAR_GRP_PARTIDASN2,\n\tLISTAR_GRP_PARTIDASN3,\n\tLISTAR_GRP_PARTIDASN5,\n\tLISTAR_GRP_PARTIDASN4,\n\tLIMPIAR_GRP_PARTIDAS,\n\tLISTAR_GRP_TITULOS,\n\tLISTAR_GRP_TITULOSN2,\n\tLIMPIAR_GRP_TITULOS,\n\tAPU_DETALLE_CATALOGO,\n\tLEER_PARTIDA1,\n\tCODIGO_OBTENIDO1,\n\tCODIGO_OBTENIDO_TITULO1,\n\tLEER_TITULO1,\n\tLIMPIAR_GRP_RECURSOS,\n\tLISTAR_GRP_RECURSOS,\n\tLISTAR_GRP_RECURSOSN2,\n\tLISTAR_GRP_RECURSOSN3,\n\tCODIGO_OBTENIDO_RECURSO,\n\tCODIGO_OBTENIDO_RECURSO1,\n\tLEER_RECURSO,\n\tLEER_RECURSO1,\n\tAPU_DETALLE_CATALOGO_SUBP,\n\tLIMPIAR_RECURSOS,\n\tLEER_ARBOL_SUBPARTIDAS,\n\tLISTAR_RECURSOS1,\n\tLISTAR_PARTIDAS1,\n\tLISTAR_TITULOS1,\n\tUPDATE_RECURSOS,\n\tADD_RECURSOS,\n\tDELETE_RECURSOS,\n\tELIMINA_GRUPOSUB,\n\tDETALLE_PRECIOS,\n\tLIMPIAR_DETALLE_PRECIOS,\n} from '../constants';\n\nconst initialState = {\n\tTreeProyects: [],\n\ttreeSubControl: [],\n\tTreeCount: [],\n\tDataCards: [],\n\tDataPc: [],\n\tidCard: null,\n\tidPc: null,\n\tperiodo: null,\n\tprojectDetails: [],\n\tlistHistory: [],\n\ttreePartyControl: [],\n\ttreeGrpPartidas: [],\n\ttreeGrpPartidasN2: [],\n\ttreeGrpPartidasN3: [],\n\n\ttreeGrpRecursos: [],\n\ttreeGrpRecursosN2: [],\n\ttreeGrpRecursosN3: [],\n\n\ttreeGrpPartidasN4: [],\n\ttreeGrpPartidasN5: [],\n\ttreeGrpTitulos: [],\n\ttreeGrpTitulosN2: [],\n\tdataFavoritos: [],\n\ttreeSelecteds: [],\n\ttitleProject: null,\n\ttitlePC: null,\n\tDataApu: [],\n\tDataApuCatalogo: [],\n\tDataApuCatalogoSubP: [],\n\tDataClientes: [],\n\tDataUbicaciones: [],\n\tDataModelos: [],\n\tDataMonedas: [],\n\tDataUnidades: [],\n\tDataMetrado: [],\n\tUrn: null,\n\tDatosPresupuesto: [],\n\tDataAsociado: [],\n\tDataestructura: [],\n\tDatacalculo: [],\n\tDatacalculodet: [],\n\tDataArbolSubpartidas: [],\n\t\n\tDataPrecios: [],\n\tsubPres: [],\n\tDataCategorias: null,\n\tDataTipo: null,\n\tDataFamilia: null,\n\n\tDataCategoriasB: null,\n\tDataTipoB: null,\n\tDataFamiliaB: null,\n\n\tDataElementos: null,\n\tPropiedades: [],\n\tfilaAsociadoSel: { Fila: null, Categoria: \"\", Familia: \"\", Tipo: \"\" },\n\n\tDataTitulos: [],\n\tDataTitulo: [],\n\tDataTitulo1: [],\n\tDataRecursos: [],\n\tDataPartidas: [],\n\tDataPartida: [],\n\tDataPartida1: [],\n\n\tDataRecurso: [],\n\tDataRecurso1: [],\n\n\n\tDataItemsIngresados: [],\n\tCodigoObtenido: '',\n\tCodigoObtenidoTitulo: '',\t\n\tCodigoObtenidoTitulo1: '',\t\t\n\tSumasApu: '',\t\n\tSumasApuCatalogo: '',\n\tCodigoObtenidoRecurso: '',\t\n\tCodigoObtenidoRecurso1: '',\t\t\n\n\tCodigoObtenido1: '',\n\tDataPartidasM: [],\n\n\tDataElementosItems: [],\n\tItemActual: null,\n};\n\n// eslint-disable-next-line\nexport default (state = initialState, { type, payload }) => {\n\t//alert('se dispara ' + payload);\n\tswitch (type) {\n\n\t\tcase ARBOL:\n\t\t\tif (state.TreeCount.indexOf(payload.part) >= 0)\n\t\t\t\treturn state;\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tTreeProyects: [...state.TreeProyects, ...payload.data],\n\t\t\t\tTreeCount: [...state.TreeCount, payload.part]\n\t\t\t};\n\n\t\tcase TREE_SELECTEDS:\n\t\t\tconst newState = (state.treeSelecteds && state.treeSelecteds.indexOf(payload) >= 0)\n\t\t\t\t? state.treeSelecteds.filter(item => item !== payload)\n\t\t\t\t: [...state.treeSelecteds, payload];\n\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeSelecteds: newState,\n\t\t\t};\n\n\t\tcase DATA_GENERAL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataCards: payload\n\t\t\t};\n\n\t\tcase MENSUAL_DETALLE:\n\t\t\t//console.log('pasa a guardar datos de items');\n\t\t\t//console.log(state);\n\t\t\t//console.log(payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPc: [...state.DataPc, ...payload],\n\t\t\t\t//DataPc: payload,\n\t\t\t\t//titlePC: 'Cambiamos titulo'\n\t\t\t};\n\n\t\tcase ESTABLECE_ITEM:\n\t\t\tconsole.log('nUEVOS ITREEEMS');\n\t\t\t//console.log(state);\n\t\t\tconsole.log(payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPc: payload.sort((a, b) => a.Secuencial - b.Secuencial),\n\t\t\t};\n\n\t\tcase RECOGER_ITEMS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataItemsIngresados: [...state.DataItemsIngresados, ...payload],\n\t\t\t};\n\n\t\tcase LIMPIAR_ITEMS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataItemsIngresados: [],\n\t\t\t};\n\n\t\tcase CODIGO_OBTENIDO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tCodigoObtenido: payload,\n\t\t\t};\n\n\t\tcase CODIGO_OBTENIDO1:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tCodigoObtenido1: payload,\n\t\t\t};\n\n\n\t\tcase CODIGO_OBTENIDO_TITULO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tCodigoObtenidoTitulo: payload,\n\t\t\t};\n\n\t\tcase CODIGO_OBTENIDO_TITULO1:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tCodigoObtenidoTitulo1: payload,\n\t\t\t};\n\n\n\n\t\tcase CODIGO_OBTENIDO_RECURSO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tCodigoObtenidoRecurso: payload,\n\t\t\t};\n\n\t\tcase CODIGO_OBTENIDO_RECURSO1:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tCodigoObtenidoRecurso1: payload,\n\t\t\t};\n\n\t\tcase LISTAR_POR_PERIODO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPc: []\n\t\t\t};\n\n\t\t\tcase LIMPIAR_DETALLE_PRECIOS:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tDataPrecios: []\n\t\t\t\t};\n\n\t\tcase APU_DETALLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tSumasApu:payload.sumas,\n\t\t\t\tDataApu: payload.data\n\t\t\t};\n\n\t\tcase LISTAR_CLIENTES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataClientes: payload\n\t\t\t};\n\n\t\tcase LISTAR_UBICACIONES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataUbicaciones: [...payload]\n\t\t\t};\n\n\t\tcase LIMPIAR_UBICACIONES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataUbicaciones: []\n\t\t\t};\n\n\t\tcase LISTAR_MODELOS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataModelos: payload\n\t\t\t};\n\n\t\tcase LISTAR_MONEDAS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t//DataUbicaciones:[...state.DataUbicaciones, ...payload]\n\t\t\t\tDataMonedas: payload\n\t\t\t};\n\n\t\tcase LISTAR_UNIDADES:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t//DataUbicaciones:[...state.DataUbicaciones, ...payload]\n\t\t\t\tDataUnidades: payload\n\t\t\t};\n\n\t\tcase METRADO_DETALLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataMetrado: [...state.DataMetrado, ...payload]\n\t\t\t\t//DataMetrado: [...payload]\n\t\t\t};\n\n\t\tcase ESTABLECE_METRADO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataMetrado: payload\n\t\t\t\t//DataMetrado: [...payload]\n\t\t\t};\n\n\t\tcase ADD_METRADO:\n\t\t\t//console.log('MIS METRADOS')\t\n\t\t\t//console.log(state.DataMetrado)\t\n\t\t\t//console.log(payload)\t\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataMetrado: [...state.DataMetrado, payload]\n\t\t\t};\n\n\t\tcase UPDATE_METRADO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataMetrado: [...state.DataMetrado.filter((filtro1) => filtro1.CodMedicion !== payload.CodMedicion), payload]\n\t\t\t};\n\n\t\tcase DELETE_METRADO:\n\t\t\tconsole.log('este es mi dato A eliminar');\n\t\t\tconsole.log(payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataMetrado: [...state.DataMetrado.filter((filtro1) => filtro1.CodMedicion !== payload.CodMedicion)]\n\t\t\t};\n\n\t\tcase UNIQUE_DETALLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataUnique: [...payload]\n\t\t\t};\n\n\t\tcase METRADO_LIMPIAR:\n\t\t\t//console.log('pasa a borrar');\n\t\t\t//console.log(state);\n\t\t\t//console.log(payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataMetrado: []\n\n\t\t\t\t//DataPc: payload\n\t\t\t};\n\n\t\tcase LEER_PRESUPUESTO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDatosPresupuesto: payload\n\t\t\t};\n\n\t\tcase ACT_PRESUPUESTO:\n\t\t\t/*console.log('este es mi dato');\n\t\t\tconsole.log(...state.DatosPresupuesto);\n\n\t\t\tconsole.log('este es mi nuevo dato');\n\t\t\tconsole.log(payload);*/\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDatosPresupuesto: [payload]\n\t\t\t};\n\n\t\tcase ASOCIADO_DETALLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataAsociado: [...state.DataAsociado, ...payload],\n\t\t\t\t//DataAsociado: payload\n\n\t\t\t};\n\n\t\tcase ASOCIADO_LIMPIAR:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataAsociado: [],\n\t\t\t};\n\n\t\tcase ADD_ASOCIADO:\n\t\t\t//console.log('este es mi nuevo dato');\n\t\t\t//console.log(payload);\n\t\t\t//console.log(state.DataAsociado);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataAsociado: [...state.DataAsociado, ...payload]\n\t\t\t};\n\n\t\tcase UPDATE_ASOCIADO:\n\t\t\tconsole.log('este es mi dato A MODIFICAR');\n\t\t\tconsole.log(payload);\n\t\t\tconsole.log(state.CodAsociado);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataAsociado: [...state.DataAsociado.filter((filtro1) => filtro1.CodAsociado !== payload.CodAsociado), payload]\n\t\t\t\t//DataAsociado: [...state.DataAsociado, ...payload]\n\t\t\t};\n\n\t\tcase ADD_CALCULO:\n\t\t\t//console.log('este es mi nuevo dato');\n\t\t\t//console.log(payload);\n\t\t\t//console.log(state.DataAsociado);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDatacalculo: [...state.Datacalculo, ...payload]\n\t\t\t};\n\n\t\tcase UPDATE_CALCULO:\n\t\t\t//console.log('este es mi nuevo dato');\n\t\t\t//console.log(payload);\n\t\t\t//console.log(state.DataAsociado);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDatacalculo: payload\n\t\t\t};\n\n\t\tcase DELETE_ASOCIADO:\n\t\t\t//console.log('este es mi dato A ELIMINAR');\n\t\t\t//console.log(payload);\n\t\t\t//console.log(state.DataAsociado);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataAsociado: [...state.DataAsociado.filter((filtro1) => filtro1.CodAsociado !== payload)]\n\t\t\t\t//DataAsociado: [...state.DataAsociado, ...payload]\n\t\t\t};\n\n\t\tcase ESTRUCTURA_DETALLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataestructura: payload//.sort((a, b) => parseInt(a.Nivel.substring(a.Nivel.lenght-1,a.Nivel.lenght)) - parseInt(b.Nivel.substring(b.Nivel.lenght-1,b.Nivel.lenght)))\n\t\t\t};\n\n\t\tcase ADD_ESTRUCTURA:\n\t\t\tconsole.log('este es mi nuevo dato');\n\t\t\tconsole.log(payload);\n\t\t\tconsole.log(state.Dataestructura);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataestructura: [...state.Dataestructura, ...payload].sort((a, b) => a.Nivel - b.Nivel)\n\t\t\t};\n\n\t\tcase DELETE_ESTRUCTURA:\n\t\t\tconsole.log('este es mi dato A ELIMINAR');\n\t\t\tconsole.log(payload);\n\t\t\tconsole.log(state.Dataestructura);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataestructura: [...state.Dataestructura.filter((filtro1) => filtro1.CodEstructura !== payload)].sort((a, b) => a.Nivel - b.Nivel)\n\t\t\t\t//DataAsociado: [...state.DataAsociado, ...payload]\n\t\t\t};\n\n\t\tcase UPDATE_ESTRUCTURA:\n\t\t\tconsole.log('este es mi dato A MODIFICAR');\n\t\t\tconsole.log(payload);\n\t\t\tconsole.log(state.Dataestructura);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataestructura: [...state.Dataestructura.filter((filtro1) => filtro1.CodEstructura !== payload.CodEstructura), payload].sort((a, b) => a.Nivel - b.Nivel)\n\t\t\t\t//DataAsociado: [...state.DataAsociado, ...payload]\n\t\t\t};\n\n\t\tcase CALCULO_DETALLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDatacalculo: payload\n\t\t\t};\n\n\t\tcase CALCULODET_DETALLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDatacalculodet: payload\n\t\t\t};\n\n\t\tcase ADD_CALCULODET:\n\t\t\tconsole.log('DISPARANDO AGREGAR DETALLE');\n\t\t\tconsole.log(payload);\n\t\t\tconsole.log(state.Datacalculodet);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDatacalculodet: [...state.Datacalculodet, payload]\n\t\t\t};\n\n\t\tcase UPDATE_CALCULODET:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDatacalculodet: [...state.Datacalculodet.filter((filtro1) => filtro1.CodCalculoDetalle !== payload.CodCalculoDetalle), payload].sort((a, b) => a.Posicion - b.Posicion)\n\t\t\t};\n\n\t\tcase DELETE_CALCULODET:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDatacalculodet: [...state.Datacalculodet.filter((filtro1) => filtro1.CodCalculoDetalle !== payload)].sort((a, b) => a.Posicion - b.Posicion)\n\t\t\t};\n\n\t\tcase ID_DATA_TABLE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidCard: payload\n\t\t\t};\n\n\t\tcase ID_PC:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tidPc: payload\n\t\t\t};\n\n\t\tcase URN_WEB:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tUrn: payload\n\t\t\t};\n\n\t\tcase URN_WEB1:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tUrnS1: payload\n\t\t\t};\n\n\t\tcase PROJECT_DETAILS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tprojectDetails: payload\n\t\t\t};\n\n\t\tcase LIST_HISTORY:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tlistHistory: payload\n\t\t\t};\n\n\t\tcase PARTY_CONTROL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreePartyControl: [...state.treePartyControl, ...payload].sort((a, b) => a.Fila - b.Fila)\n\t\t\t};\n\n\t\tcase PARTY_CONTROL22:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdataFavoritos: [...state.dataFavoritos, ...payload].sort((a, b) => a.Fila - b.Fila)\n\t\t\t};\n\n\t\tcase ADD_FAVORITO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdataFavoritos: [...state.dataFavoritos, payload].sort((a, b) => a.Fila - b.Fila)\n\t\t\t};\n\n\t\tcase DELETE_FAVORITO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tdataFavoritos: [...state.dataFavoritos.filter((filtro1) => filtro1.CodPresupuesto !== payload.CodPresupuesto)].sort((a, b) => a.Fila - b.Fila)\n\t\t\t};\n\n\t\tcase LIMPIA_PARTY_CONTROL:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreePartyControl: payload\n\t\t\t};\n\n\t\tcase AGREGA_GRUPO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreePartyControl: [...state.treePartyControl, ...payload]\n\t\t\t};\n\n\t\tcase MODIFICA_GRUPO:\n\t\t\t//console.log('este es el codPresupuesto');\n\t\t\t//console.log(payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreePartyControl: [...state.treePartyControl.filter((filtro1) => filtro1.CodPresupuesto !== payload[0].CodPresupuesto), ...payload].sort((a, b) => a.Fila - b.Fila)\n\t\t\t\t//treePartyControl: [...state.treePartyControl.filter( (filtro1) => filtro1.CodPresupuesto !== '1504' ), ...payload]\n\t\t\t};\n\n\t\tcase ELIMINA_GRUPO:\n\t\t\t/*console.log('En eliminar Grupo');\n\t\t\tconsole.log(payload);*/\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t//treePartyControl: [...state.treePartyControl.filter((filtro1) => filtro1.CodPresupuesto !== payload[0].CodPresupuesto)].sort((a, b) => a.Fila - b.Fila)\n\t\t\t\ttreePartyControl: [...state.treePartyControl.filter((filtro1) => filtro1.CodPresupuesto !== payload)].sort((a, b) => a.Fila - b.Fila)\n\t\t\t};\n\n\n\t\t\tcase ELIMINA_GRUPOSUB:\n\t\t\t\t//console.log('En eliminar subPRESU');\n\t\t\t\t//console.log(payload);\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\t//treePartyControl: [...state.treePartyControl.filter((filtro1) => filtro1.CodPresupuesto !== payload[0].CodPresupuesto)].sort((a, b) => a.Fila - b.Fila)\n\t\t\t\t\t//treeSubControl: [...state.treeSubControl.filter((filtro1) => filtro1.CodSubpresupuesto !== payload)].sort((a, b) => a.Fila - b.Fila)\n\t\t\t\t\tsubPres: [...state.subPres.filter((filtro1) => filtro1.CodSubpresupuesto !== payload)].sort((a, b) => a.Fila - b.Fila)\n\t\t\t\t};\n\t\n\n\n\t\t\tcase ADD_ITEM:\n\t\t\tconsole.log('este es mi nuevo arreglo');\n\t\t\tconsole.log(payload);\n\t\t\t//console.log(state.DataPc);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t//DataPc: [...state.DataPc, ...payload].sort((a, b) => a.Secuencial - b.Secuencial)\n\t\t\t\tDataPc: [...payload].sort((a, b) => a.Secuencial - b.Secuencial)\n\t\t\t};\n\n\t\tcase UPDATE_ITEM:\n\t\t\tconsole.log('este es el dato a actualizar'); ///por actualizarse\n\t\t\tconsole.log(payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPc: [...state.DataPc.filter((filtro1) => filtro1.ERPCode !== payload.ERPCode), payload].sort((a, b) => a.Secuencial - b.Secuencial)\n\t\t\t\t//treePartyControl: [...state.treePartyControl.filter( (filtro1) => filtro1.CodPresupuesto !== '1504' ), ...payload]\n\t\t\t};\n\n\t\tcase DELETE_ITEM:\n\t\t\tconsole.log('este es el dato a ELIMINAR'); ///por actualizarse\n\t\t\tconsole.log(payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPc: [...state.DataPc.filter((filtro1) => filtro1.ERPCode !== payload.ERPCode)].sort((a, b) => a.Secuencial - b.Secuencial)\n\t\t\t\t//treePartyControl: [...state.treePartyControl.filter( (filtro1) => filtro1.CodPresupuesto !== '1504' ), ...payload]\n\t\t\t};\n\n\t\tcase REMOVE_ITEM:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t//treePartyControl: [...state.treePartyControl.filter((filtro1) => filtro1.CodPresupuesto !== payload[0].CodPresupuesto)].sort((a, b) => a.Fila - b.Fila)\n\t\t\t\tDataPc: [...state.DataPc.filter((filtro1) => filtro1.CodPresupuesto !== payload)].sort((a, b) => a.Fila - b.Fila)\n\t\t\t};\n\n\t\tcase MODIFICA_SUB:\n\t\t\t/*console.log('este es el codSUBPresupuesto');\n\t\t\tconsole.log(payload);\t\t\t*/\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeSubControl: [...state.treeSubControl.filter((filtro1) => filtro1.CodSubpresupuesto !== payload[0].CodSubpresupuesto), ...payload].sort((a, b) => a.CodSubpresupuesto - b.CodSubpresupuesto)\n\t\t\t};\n\n\t\tcase MODIFICA_SUB1:\n\t\t\t//console.log('este es el ELEMENTO QUE VOY A CAMBIAR');\n\t\t\t//console.log(payload);\t\t\t\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t//subPres: [...state.subPres.filter( (filtro1) => (((filtro1.CodPresupuesto !== payload[0].CodPresupuesto) && (filtro1.CodSubpresupuesto !== payload[0].CodSubpresupuesto))) ), ...payload]/*.sort((a, b) => a.CodSubpresupuesto - b.CodSubpresupuesto)*/\n\n\t\t\t\tsubPres: [...state.subPres.filter((filtro1) => {\n\t\t\t\t\t//if(filtro1.CodPresupuesto !== payload[0].CodPresupuesto && filtro1.CodSubpresupuesto!==payload[0].CodSubpresupuesto){\n\t\t\t\t\tif (filtro1.CodPresupuesto + filtro1.CodSubpresupuesto !== payload[0].CodPresupuesto + payload[0].CodSubpresupuesto) {\n\t\t\t\t\t\treturn filtro1;\n\t\t\t\t\t}\n\t\t\t\t}), ...payload].sort((a, b) => a.CodPresupuesto - b.CodPresupuesto).sort((a, b) => a.CodSubpresupuesto - b.CodSubpresupuesto)\n\n\n\t\t\t};\n\n\t\tcase AGREGA_SUB1:\n\t\t\t//console.log('este es el ELEMENTO QUE VOY A CAMBIAR');\n\t\t\t//console.log(payload);\t\t\t\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsubPres: [...state.subPres, ...payload].sort((a, b) => a.CodPresupuesto - b.CodPresupuesto).sort((a, b) => a.CodSubpresupuesto - b.CodSubpresupuesto)\n\t\t\t\t/*subPres: [...state.subPres.filter((filtro1) => {\n\t\t\t\t\t//if(filtro1.CodPresupuesto !== payload[0].CodPresupuesto && filtro1.CodSubpresupuesto!==payload[0].CodSubpresupuesto){\n\t\t\t\t\tif (filtro1.CodPresupuesto + filtro1.CodSubpresupuesto !== payload[0].CodPresupuesto + payload[0].CodSubpresupuesto) {\n\t\t\t\t\t\treturn filtro1;\n\t\t\t\t\t}\n\t\t\t\t}), ...payload].sort((a, b) => a.CodPresupuesto - b.CodPresupuesto).sort((a, b) => a.CodSubpresupuesto - b.CodSubpresupuesto)*/\n\t\t\t};\n\n\t\tcase LISTAR_SUBS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\t//subPres: payload\n\t\t\t\tsubPres: [...state.subPres, ...payload].sort((a, b) => a.CodSubpresupuesto - b.CodSubpresupuesto)\n\t\t\t};\n\n\t\tcase LIMPIAR_SUBS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tsubPres: payload\n\t\t\t};\n\n\t\tcase PARTY_CONTROL1:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeSubControl: payload\n\t\t\t};\n\n\t\tcase NAVIGATION_TREE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttitleProject: payload.grupo,\n\t\t\t\ttitlePC: null\n\t\t\t};\n\n\t\tcase NAVIGATION_TREE_PC:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttitlePC: payload.grupo,\n\t\t\t};\n\n\t\tcase CAMBIA_SELECCION:\n\t\t\t//alert('El payload ' + payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tseleccionado: payload,\n\t\t\t};\n\n\t\tcase SUB_SEL:\n\t\t\t//alert('El payload ' + payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tSub_sel: payload,\n\t\t\t};\n\n\t\tcase AGREGA_REGISTRO:\n\t\t\t//alert('El payload ' + payload);\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tagregandoReg: payload,\n\t\t\t};\n\n\t\tcase AGREGA_CATEGORIA:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataCategorias: payload,\n\t\t\t};\n\n\t\tcase AGREGA_TIPO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataTipo: payload,\n\t\t\t};\n\n\t\tcase AGREGA_FAMILIA:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataFamilia: payload,\n\t\t\t};\n\n\t\tcase AGREGA_CATEGORIAB:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataCategoriasB: payload,\n\t\t\t};\n\n\t\tcase AGREGA_TIPOB:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataTipoB: payload,\n\t\t\t};\n\n\t\tcase AGREGA_FAMILIAB:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataFamiliaB: payload,\n\t\t\t};\n\n\t\tcase AGREGA_ELEMENTOS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataElementos: payload,\n\t\t\t};\n\n\t\tcase PONER_PROPS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tPropiedades: payload,\n\t\t\t};\n\n\t\tcase CAMBIAR_FILA_ASOCIADO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tfilaAsociadoSel: payload,\n\t\t\t};\n\n\t\tcase LISTAR_TITULOS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataTitulos: [...payload]\n\t\t\t};\n\n\t\t\tcase LISTAR_TITULOS1:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tDataTitulos: [...state.DataTitulos,...payload]\n\t\t\t\t};\n\t\n\n\t\tcase LISTAR_PARTIDAS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidas: [...payload].sort((a, b) => a.CodPartida - b.CodPartida)\n\t\t\t};\n\n\n\t\t\tcase LISTAR_PARTIDAS1:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tDataPartidas: [...state.DataPartidas,...payload].sort((a, b) => a.CodPartida - b.CodPartida)\n\t\t\t\t};\n\t\n\n\t\tcase UPDATE_PARTIDAS:\n\t\t\tconsole.log('estoy editando mis partidas')\n\t\t\tconsole.log(payload)\n\t\t\tconsole.log(state.DataPartidas)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidas: [...state.DataPartidas.filter((filtro1) => filtro1.CodPartida !== payload.CodPartida), payload].sort((a, b) => a.CodPartida - b.CodPartida)\n\t\t\t};\n\n\n\t\t\tcase UPDATE_RECURSOS:\n\t\t\t\tconsole.log('estoy editando mis RECURSOS')\n\t\t\t\tconsole.log(payload)\n\t\t\t\tconsole.log(state.DataRecursos)\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tDataRecursos: [...state.DataRecursos.filter((filtro1) => filtro1.CodInsumo !== payload.CodInsumo), payload].sort((a, b) => a.CodInsumo.substring(0,14) - b.CodInsumo.substring(0,14)).sort((a, b) => a.CodInsumo.substring(0,10) - b.CodInsumo.substring(0,10))\n\t\t\t\t};\n\n\t\tcase UPDATE_TITULOS:\n\t\t\tconsole.log('estoy editando mis titulos')\n\t\t\tconsole.log(payload)\n\t\t\tconsole.log(state.DataTitulos)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataTitulos: [...state.DataTitulos.filter((filtro1) => filtro1.CodTitulo !== payload.CodTitulo), payload].sort((a, b) => a.CodTitulo - b.CodTitulo)\n\t\t\t};\n\n\t\tcase ADD_PARTIDAS:\n\t\t\tconsole.log('estoy AGREGANDO PARTIDA')\n\t\t\tconsole.log(payload)\n\t\t\tconsole.log(state.DataPartidas)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidas: [...state.DataPartidas, payload]\n\t\t\t};\n\n\n\t\t\tcase ADD_RECURSOS:\n\t\t\t\tconsole.log('estoy AGREGANDO RECURSO')\n\t\t\t\tconsole.log(payload)\n\t\t\t\tconsole.log(state.DataRecursos)\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tDataRecursos: [...state.DataRecursos, payload].sort((a, b) => a.CodInsumo.substring(0,10) - b.CodInsumo.substring(0,10))\n\t\t\t\t};\n\n\t\tcase ADD_TITULOS:\n\t\t\tconsole.log('estoy AGREGANDO titulo')\n\t\t\tconsole.log(payload)\n\t\t\tconsole.log(state.DataTitulos)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataTitulos: [...state.DataTitulos, payload]\n\t\t\t};\n\n\t\tcase DELETE_PARTIDAS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidas: [...state.DataPartidas.filter((filtro1) => filtro1.CodPartida !== payload.CodPartida)]\n\t\t\t};\n\n\t\tcase DELETE_TITULOS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataTitulos: [...state.DataTitulos.filter((filtro1) => filtro1.CodTitulo !== payload.CodTitulo)]\n\t\t\t};\n\n\t\t\tcase DELETE_RECURSOS:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tDataRecursos: [...state.DataRecursos.filter((filtro1) => filtro1.CodInsumo !== payload.CodInsumo)]\n\t\t\t\t};\n\t\n\n\t\tcase LEER_PARTIDA:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartida: payload\n\t\t\t};\n\n\t\tcase LEER_PARTIDA1:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartida1: payload\n\t\t\t};\n\n\t\tcase LEER_ARBOL_SUBPARTIDAS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataArbolSubpartidas: payload\n\t\t\t};\n\n\t\tcase LEER_RECURSO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataRecurso: payload\n\t\t\t};\n\n\t\tcase LEER_RECURSO1:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataRecurso1: payload\n\t\t\t};\n\n\n\t\tcase LEER_TITULO:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataTitulo: payload\n\t\t\t};\n\n\t\t\tcase LEER_TITULO1:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tDataTitulo1: payload\n\t\t\t\t};\n\t\n\n\t\tcase ESTABLECER_PARTIDAS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidas: payload\n\t\t\t};\n\n\t\tcase ESTABLECER_TITULOS:\n\t\t\tconsole.log('ESTABLECIENDO LOS TITULOS')\n\t\t\tconsole.log(payload)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataTitulos: payload\n\t\t\t};\n\n\t\tcase ESTABLECE_PARTIDAS:\n\t\t\tconsole.log('ESTABLECIENDO las partidas filtro')\n\t\t\tconsole.log(payload)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidasM: payload\n\t\t\t};\n\n\t\tcase PIDE_ELEMENTOS_ITEMS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataElementosItems: [...state.DataElementosItems, ...payload]\n\t\t\t};\n\n\t\tcase LIMPIA_ELEMENTOS_ITEMS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataElementosItems: []\n\t\t\t};\n\n\t\tcase ITEM_SELEC:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tItemActual: payload\n\t\t\t};\n\n\t\tcase LISTAR_RECURSOS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataRecursos: [...state.DataRecursos,...payload]\n\t\t\t\t//DataRecursos: payload\n\t\t\t};\n\n\n\t\t\tcase DETALLE_PRECIOS:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tDataPrecios: [...state.DataPrecios,...payload]\n\t\t\t\t\t//DataRecursos: payload\n\t\t\t\t};\n\t\n\n\t\tcase LISTAR_RECURSOS1:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tDataRecursos: payload\n\t\t\t\t\t//DataRecursos: payload\n\t\t\t\t};\n\t\n\t\tcase LIMPIAR_RECURSOS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataRecursos: []\n\t\t\t};\n\t\n\n\t\tcase LISTAR_GRP_PARTIDAS:\t\t\t\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpPartidas: [...state.treeGrpPartidas, ...payload]/*.sort((a, b) => a.Fila - b.Fila)*/\n\t\t\t};\n\n\t\tcase LISTAR_GRP_PARTIDASN2:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpPartidasN2: [...state.treeGrpPartidasN2, ...payload]\n\t\t\t};\n\n\t\tcase LISTAR_GRP_PARTIDASN3:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpPartidasN3: [...state.treeGrpPartidasN3, ...payload]\n\t\t\t};\n\n\t\tcase LISTAR_GRP_PARTIDASN4:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpPartidasN4: [...state.treeGrpPartidasN4, ...payload]\n\t\t\t};\n\n\t\tcase LISTAR_GRP_PARTIDASN5:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpPartidasN5: [...state.treeGrpPartidasN5, ...payload]\n\t\t\t};\n\t\t\n\t\tcase LIMPIAR_GRP_PARTIDAS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpPartidas: [],\n\t\t\t\ttreeGrpPartidasN2: [],\n\t\t\t\ttreeGrpPartidasN3: [],\n\t\t\t\ttreeGrpPartidasN4: [],\n\t\t\t\ttreeGrpPartidasN5: [],\n\t\t\t};\n\n\t\t\tcase LIMPIAR_GRP_RECURSOS:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\ttreeGrpRecursos: [],\n\t\t\t\t\ttreeGrpRecursosN2: [],\n\t\t\t\t\ttreeGrpRecursosN3: [],\n\t\t\t\t};\t\t\t\n\n\t\tcase LISTAR_GRP_TITULOS:\n\t\t//console.log('datos de titulos')\n\t\t//console.log(payload)\n\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpTitulos: [...state.treeGrpTitulos, ...payload]\n\t\t\t};\n\n\t\tcase LISTAR_GRP_TITULOSN2:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpTitulosN2: [...state.treeGrpTitulosN2, ...payload]\n\t\t\t};\n\n\t\tcase LISTAR_GRP_RECURSOS:\n\t\t\t//console.log('datos de titulos')\n\t\t\t//console.log(payload)\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpRecursos: [...state.treeGrpRecursos, ...payload]\n\t\t\t};\n\n\t\tcase LISTAR_GRP_RECURSOSN2:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpRecursosN2: [...state.treeGrpRecursosN2, ...payload]\n\t\t\t};\n\n\t\tcase LISTAR_GRP_RECURSOSN3:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpRecursosN3: [...state.treeGrpRecursosN3, ...payload]\n\t\t\t};\n\n\n\t\tcase LIMPIAR_GRP_TITULOS:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\ttreeGrpTitulos: [],\n\t\t\t\ttreeGrpTitulosN2: [],\n\t\t\t};\n\n\t\tcase APU_DETALLE_CATALOGO:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tSumasApuCatalogo:payload.sumas,\n\t\t\t\t\tDataApuCatalogo: payload.data\n\t\t\t\t};\n\n\n\t\tcase APU_DETALLE_CATALOGO_SUBP:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataApuCatalogoSubP: payload\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn state\n\t};\n}\n","\nimport {\n\tAPU_DETALLE_CATALOGO1,\n\tAPU_DETALLE_CATALOGO2,\n\tLISTAR_PARTIDAS2,LISTAR_PARTIDAS21,LISTAR_PARTIDAS22,LISTAR_PARTIDASC, LISTAR_PARTIDASC1, LISTAR_PARTIDASC2,\n} from '../constants';\n\nconst initialState = {\n\tDataPartidas: [],\n\tDataPartidasAgre: [],\n\tDataPartidasAgre1: [],\n\tDataApuCatalogo: [],\n\tDataApuCatalogo1: [],\n\tSumasApuCatalogo: '',\t\t\n\tSumasApuCatalogo1: '',\t\t\n};\n\n// eslint-disable-next-line\nexport default (state = initialState, { type, payload }) => {\n\t//alert('se dispara ' + payload);\n\tswitch (type) {\n\n\t\tcase LISTAR_PARTIDASC:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidas: [...payload]\n\t\t\t};\n\n\n\t\tcase LISTAR_PARTIDAS2:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidas: [...state.DataPartidas, ...payload]\n\t\t\t};\n\n\n\t\tcase LISTAR_PARTIDASC1:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidasAgre: [...payload]\n\t\t\t};\n\n\n\t\tcase LISTAR_PARTIDAS21:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidasAgre: [...state.DataPartidasAgre, ...payload]\n\t\t\t};\n\n\t\tcase LISTAR_PARTIDASC2:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidasAgre1: [...payload]\n\t\t\t};\n\n\n\t\tcase LISTAR_PARTIDAS22:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tDataPartidasAgre1: [...state.DataPartidasAgre1, ...payload]\n\t\t\t};\n\t\t\n\n\t\tcase APU_DETALLE_CATALOGO1:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tSumasApuCatalogo: payload.sumas,\n\t\t\t\tDataApuCatalogo: payload.data\n\t\t\t};\n\n\t\t\tcase APU_DETALLE_CATALOGO2:\n\t\t\t\treturn {\n\t\t\t\t\t...state,\n\t\t\t\t\tSumasApuCatalogo1: payload.sumas,\n\t\t\t\t\tDataApuCatalogo1: payload.data\n\t\t\t\t};\n\t\n\t\n\t\tdefault:\n\t\t\treturn state\n\t};\n}\n","import {combineReducers} from 'redux';\nimport authReducer from './auth.reducer';\nimport proyectsReducer from './proyects.reducer';\nimport partidasReducer from './partidas.reducer';\n\nexport default combineReducers({\n    auth: authReducer,\n\tproyects: proyectsReducer,\n    partidas: partidasReducer\n})\n","\nimport {createStore, applyMiddleware, compose} from 'redux';\nimport thunk from 'redux-thunk';\nimport reducers from './reducers';\n\nconst store = createStore(\n    reducers,\n    compose(applyMiddleware(thunk),\n    typeof window === 'object' &&\n    typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined' ? \n        window.__REDUX_DEVTOOLS_EXTENSION__() : f => f\n    )\n);\n\nexport default store; ","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'devextreme/dist/css/dx.light.css';\nimport './styles/main.css';\n\nimport { Provider } from \"react-redux\";\nimport store from \"./store\";\n\n//import config from 'devextreme-react/core/config';\n//config({ useLegacyTemplateEngine: false });\n\nReactDOM.render(\n  <React.StrictMode enabled={false}>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 626;"],"sourceRoot":""}